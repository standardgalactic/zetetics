THIS IS THE (CO)END, MY ONLY (CO)FRIEND
FOSCO LOREGIAN
Abstract. The present note is a recollection of the most important and useful
applications of co/end calculus. Ends and coends are particular universal
objects in a category, deÔ¨Åned for a functor T : Cop √ó C ‚ÜíD. These objects
behave in a similar way to limits and colimits of a functor, but they come
equipped with a richer calculus (this word informally denotes a series of rules
of manipulation that give theorems as formal consequences, similar to the
way one can formally prove the RAPL theorem in classical category theory
‚Äìthe fact that right adjoints preserve limits). We put a considerable eÔ¨Äort in
making arguments and constructions rather explicit and elementary, asking
the reader only a minimal knowledge in basic category theory: after having
given a series of preliminary deÔ¨Ånitions, we characterize co/ends as particular
co/limits; then we derive a number of results directly from this characterization.
The subsequent sections discuss the most interesting examples where co/end
calculus serves as a powerful abstract way to do explicit computations in
diverse Ô¨Åelds like Algebra, Algebraic Topology and Category Theory as well
as some generalizations to higher dimensional category theory. We mostly
re-enact a lot of classical results, inside and outside pure category theory, using
co/end-fu. The note is scattered with exercises; solving them, the reader will
become a master in co/end-fu (Á´ØÊ•îË°ì; literally ‚Äúthe art [of handling] terminal
wedges‚Äù).
Contents
Introduction.
1
1.
Dinaturality, extranaturality, co/wedges.
5
2.
Yoneda reduction, Kan extensions
16
3.
The nerve and realization paradigm.
20
4.
Weighted limits.
30
5.
The theory of relators.
40
6.
Operads using coends.
50
7.
Higher dimensional coend calculus.
57
References
81
Introduction.
The purpose of the present survey is to familiarize its readers with the part of
category theory that is called co/end calculus, and aims to be a fairly complete
Key words and phrases.
end, coend, dinatural transformation, operad, profunctor, relator,
Kan extension, weighted limit, nerve and realization, promonoidal category, Yoneda structure.
1
arXiv:1501.02503v4  [math.CT]  4 Dec 2017

2
FOSCO LOREGIAN
account of its numerous application; there is no claim of originality in the ideas
you‚Äôre about to see: we put a special care in acknowledging carefully, where possible,
each of the countless authors whose work was a source of inspiration in compiling
this note. Among these, every erroneous or missing attribution must be ascribed to
the mere ignorance of the author.
The original deÔ¨Ånition of a co/end for a functor T : Cop √ó C ‚ÜíD, as a universal
object
¬¥
T(c, c) ‚ààD satisfying a certain property was apparently given by N. Yoneda
(who used an integral sign ‚Äìsee ¬ß1.2‚Äì to denote them for the Ô¨Årst time, even if his
notation for coends was reversed: today,
¬¥
c T is an end for T, and
¬¥ c T a coend,
whereas Yoneda writes
¬¥
c T for the coend, and
¬¥ ‚àó
c T for the end), and then reÔ¨Åned
by Mac Lane in his [ML70] with applications to the ‚Äòtensor product‚Äô of two functors,
that generalizes the well-known description of M ‚äóR N as a coequalizer for MR
and RN right and left R-modules.
We brieÔ¨Çy outline the content of the note. The introductory material appearing
in section the Ô¨Årst section is the most classical and comes almost verbatim from the
standard reference ‚Äúcategories work‚Äù, [ML98]; the nerve-realization formalism is a
patchwork of various results, scattered in the (algebraic) topology literature: even if
the attitude is changing, few topology books mention the fact that the geometric
realization of a simplicial set is a coend. The formal approach that co/end calculus
permits reduces the complexity of many arguments that one is often forced to
check by hand. The reformulation of operads using coends comes verbatim from
[Kel05]; the content of this paper was recently (April 2017) analyzed in an episode
of the ‚ÄòKan extension seminar ii‚Äô, and posted on the n-caf√©. For what concerns the
chapter discussing the theory of relators (or profunctors, or distributors ‚Äìfollowing
J. B√©nabou‚Äì, or correspondences, our choice is gently advised by A. Joyal) the
author immensely proÔ¨Åted from some notes taken by T. Streicher, [B√©ner]; during
May 2016 he had the pleasant opportunity to meet Thomas, and he fell in love
with his mathematical style, near to the craftsmanship of certain watchmakers,
but also vital and passionate.Chapter 4 on weighted co/limits is taken almost
verbatim from [Rie14, II.7]: the theory is however fairly classical, and became a
milestone of enriched category theory. Emily‚Äôs book is indisputably a complete
and modern account of how the theory of weighted co/limits innervates modern
homotopy theory: only a couple of implicit conceptual dependencies that appear as
exercises there have been promoted here to explicit computations; the fact that we
follow so faithfully her exposition must be interpreted not as an act of plagiarism,
but instead ad an implicit invitation to get acquainted with such a wonderful
book. A subsequent section discusses co/end calculus in higher category theory,
introducing lax co/ends in 2-categories [Boz77, Boz75, Boz80], homotopy co/ends
[DF78, Isa09] and (‚àû, 1)-co/ends in various models: Ô¨Årst ‚Äìalbeit very brieÔ¨Çy‚Äì in
Joyal-Lurie‚Äôs ‚àû-categories (following [GHN15]), and then in simplicially enriched
categories (mainly following [CP97] and the general theory for enriched co/ends
in [Dub70, Gra]). The relation between co/end calculus and homotopy co/limits
is discussed, and a(n already) classical result [Gam10] is presented to unify the
two constructions classically given for the homotopy co/limit of a diagram; the
compatibility of the co/end operation as a Quillen functor
¬¥
: Cat(Cop √ó C, D) ‚ÜíD

ENDS
3
is discussed when D is a suÔ¨Éciently nice model category (our main reference to
prove 7.27, i.e. that
¬¥
is often a Quillen functor, is [Lur09, A.2.9.28]). Hence, the
value ‚Äìif any‚Äì of this work lies, rather than in the originality of the discussion, in
its strong will to be a simple and clear, yet exhaustive, account of the many reasons
why every mathematician (whose work has non-empty intersection with category
theory) should know what co/ends are and how well they work.
Our aim is then threefold:
‚Ä¢ Fill a gap in the existing literature on category theory: the vast amount
of written and video-graphic material on category theory was lacking a
monographic account of this relatively big piece of basic theory; the author
hopes the present document serves (at least partly) this purpose.
‚Ä¢ Serve as a starting point for beginners: the inexperienced reader (either the
beginner in the study of category theory, or the ones who exhausted the
‚Äúprimary‚Äù topics of their education) can hopefully Ô¨Ånd in this note a guide
to familiarize with an extraordinarily valuable tool-set producing a large
number of sterile1 proofs, most of which are ‚Äúformally formal‚Äù (although
maybe not ‚Äútrivially trivial‚Äù) strings of natural isomorphisms.
‚Ä¢ Finally, it is the author‚Äôs Ô¨Årm opinion that to a master in co/end-fu category
theory seems easier and funnier: but even several people inside category
theory underestimate the descriptive power of this art.
We hope this
document could help even some experienced mathematicians working nearby
category theory, that are never been exposed to this beautiful machinery,
and despise it because they have never seen its beauty.
There are few technical points to keep in mind to become a master in co/end-fu.
After the Ô¨Årst examples, the keen reader will certainly prefer to re-write most of the
proofs in the silence of their room, and we warmly invite them to do so; martial
arts (or, if you refuse the analogy, integration rules) can be mastered only through
endless (!) imitation of a few basic techniques.Maybe it‚Äôs not a coincidence that
the one you are about to see is another integral calculus to be learned by means of
examples and exercises. The analogy between coends, denoted as
¬¥
T(c, c), could be
pushed further, but we refrain to do it, lest you think we are arrogantly claiming to
be able to reduce the subtle art of integration to naive category theory. Nevertheless,
we can‚Äôt help but mention several insightful (formal and informal) analogies between
mathematical analysis and co/end calculus: these are scattered throughout all the
discussion, and we denote them with the special symbol
.2 Whenever it appears,
we advise the reader feeling uncomfortable with a certain dose of hand-waving and
categorical juggling to raise their eyes and skip the paragraph.
1We take the word sterile, from [Lei], as ‚ÄúSterile doesn‚Äôt only mean infertile or unproductive.
It‚Äôs also what you want surgical instruments to be: clean, uncontaminated, disease-free.‚Äù
2The author learned this funny notation during his freshman year, when he was handed [DM96]
for the Ô¨Årst time; the ‚Äúsmall-eyes‚Äù notation accompanied me throughout all my mathematical life
until today. In [DM96] this notation has the following meaning: various facial expressions explain
the diÔ¨Äerent ways the reader is supposed to behave when they meet them:
, abstract material;
, standard exercises;
, material that you are supposed to meditate a lot;
, shattering
exercises.

4
FOSCO LOREGIAN
Foundations.
The main foundational convention we adopt throughout the paper
is the assumption [GV72] that every set lies in a suitable Grothendieck universe.
We implicitly Ô¨Åx such an universe
‚Ñ¶
, whose elements are termed sets; categories are
hence always considered to be small with respect to some universe: in particular
we choose to adopt, whenever necessary, the so-called two-universe convention,
where we postulate the existence of a universe
‚Ñ¶
+ ‚àã
‚Ñ¶
in which all the non-
‚Ñ¶
-small
categories live. This rather common choice has nevertheless subtle consequences: as
it is recorded in [Low13] the existence and good behaviour of some co/limits and Kan
extensions critically depends from the particular choice of a universe. We somehow
follow a common tradition in avoiding any kind of reference to these problems,
also because at least in some situations it is still possible to sweep this problem
under suÔ¨Éciently big a carpet, appealing suitable ‚Äúboundedness‚Äù conditions. There
are in fact very few places where this remark could become a real issue (generally
speaking, a problem arises anytime you want to perform a Kan extension along a
functor deÔ¨Åned over a non small category).
Notation.
Having to deal with a large amount of diÔ¨Äerent sources, we abandoned
the hope to maintain a choice of notation which is at the same time expressive
and simple. Several kinds of categorical structures (categories, and often also 2-
categories and bicategories, as well as instances of higher categories) will be denoted
as boldface letters C, D, . . . ; the context, or mere common sense, always clariÔ¨Åes for
which value of n we are doing n-category theory. Functors between categories are
denoted as capital Latin letters like F, G, H, K and suchlike (although there can
be little deviations to this rule, like for example in ¬ß5); the category of functors
C ‚ÜíD between two categories is almost always denoted as [C, D] (or more rarely
Cat(C, D)); bC is a shorthand for the category [Cop, Sets] of presheaves on C; the
canonical hom-bifunctor of a category C sending (c, c‚Ä≤) to the set of all arrows
hom(c, c‚Ä≤) ‚äÜhom(C) is almost always denoted as C(
,
): Cop √ó C ‚ÜíSets, and
the symbols
,
are used as placeholders for the ‚Äúgeneric argument‚Äù of a functor
or bifunctor; morphisms in the category Cat(C, D) (i.e. natural transformations
between functors) are often written in Greek, or Latin lowercase alphabet, and
collected in the set Nat(F, G) = [C, D](F, G).
The simplex category ‚àÜ
‚àÜ
‚àÜis the
topologist‚Äôs delta (opposed to the algebraist‚Äôs delta ‚àÜ
‚àÜ
‚àÜ+ which has an additional initial
object [‚àí1] ‚âú‚àÖ), having objects nonempty Ô¨Ånite ordinals [n] ‚âú{0 < 1 ¬∑ ¬∑ ¬∑ < n};
we denote ‚àÜ[n] the representable presheaf on [n] ‚àà‚àÜ
‚àÜ
‚àÜ, i.e. the image of [n] under
the Yoneda embedding of ‚àÜ
‚àÜ
‚àÜin the category sSet = b‚àÜ
‚àÜ
‚àÜof simplicial sets. More
generally, we indicate the Yoneda embedding of a category C into its presheaf
category with „ÇàC ‚Äìor simply „Çà‚Äì, i.e. with the hiragana symbol for ‚Äúyo‚Äù; this
choice comes from [LB15], with which the author shares a similar taste for peculiar
notation. Whenever there is an adjunction F ‚ä£G between functors, the arrow
Fa ‚Üíb in the codomain of F and the corresponding arrow a ‚ÜíGb in its domain
are called mates or adjuncts; so, the notation ‚Äúthe mate/adjunct of f : Fa ‚Üíb‚Äù
means ‚Äúthe unique arrow g: a ‚ÜíGb determined by f‚Äù.
Prerequisites.
We ask the reader for a minimum knowledge of basic category
theory: in particular we feel free to assume that the reader is extremely Ô¨Çuent

ENDS
5
with all the basic deÔ¨Ånitions (category, functor, natural transformation, the slice
category C/c of arrows x ‚Üíc and its dual c/C, comma categories and their
basic properties, presheaves and their basic properties. . . ), the essential features of
co/limits, adjoint functors (especially the identities relating unit and counit of an
adjunction F ‚ä£G), the validity and the consequences of the Yoneda lemma, and
basic enriched category theory (the deÔ¨Ånition, and a few basic results on monoidal
categories). The less elementary results and theorems are always sketched or the
reader is precisely referred to precise pointers in the literature on the subject;
comprehensive monographs on category theory always suÔ¨Éce to cover any missing
spot we leave, and our choices for the basic terminology are standard enough to
facilitate the reader. Each section Ô¨Ånishes with a set of exercises: some of them are
easy, while others assume much more meditation.
Acknowledgements.
In some sense, I am not the only author of this note, and
for sure the less entitled to survey on whatever topic. I would like to thank T.
Trimble, E. Rivas and A. Mazel-Gee, A. Joyal, the c&p colleagues and friends A.
Gagna, E. Lanari, G. Mossa, F. Genovese, M. Vergura, I. Di Liberti, S. Ariotta,
G. Ronchi, D. Fiorenza, a friend and an advisor I will never be able to refund
for his constant support, N. Gambino, that oÔ¨Äered me the opportunity to discuss
the content of this note in front of his students in Leeds; in just a few days I
realized years and years of meditation were still insuÔ¨Écient to teach this subject. L.
accompanied me there, making me sure that she‚Äôs the best mate for a much longer
trip. S., P., G., C. opened me their doors when I was frail and broken-hearted.
Grazie.
1. Dinaturality, extranaturality, co/wedges.
Los idealistas arguyen que las salas hexagonales son una
forma necesaria del espacio absoluto o, por lo menos, de
nuestra intuici√≥n del espacio.
J.L. Borges, La biblioteca de Babel.
This Ô¨Årst section starts with a simple example. Let Sets denote the category
of sets and functions, considered with its natural cartesian closed structure: this
means we have a bijection of sets
Sets(A √ó B, C) ‚àº= Sets(A, CB)
(1)
natural in all three arguments, where CB is the set of all functions B ‚ÜíC, and
that this bijection is natural in each argument. The adjunction
√ó B ‚ä£(
)B has
a counit, which is a natural transformation
œµX,(B) : XB √ó B ‚ÜíX
(2)
where the codomain can be considered ‚Äúmutely depending on the variable B‚Äù.
The family of functions {œµX : XB √óB ‚ÜíX | X ‚ààSets} is natural in the classical
sense in the variable X; as for the variable B, the most we can say is that for each

6
FOSCO LOREGIAN
function f ‚ààSets(B, B‚Ä≤) the following square is commutative:
XB‚Ä≤ √ó B
Xf √óB /
XB‚Ä≤√óf 
XB √ó B
œµ

XB‚Ä≤ √ó B‚Ä≤
œµ
/ X
(3)
This relation however doesn‚Äôt remind naturality so much. We address the reader
also to Exercise 2 at the end of [ML98, IV.7] and our Exercise 1.E1: it is easy to
show that this commutativity is what remains when the naturality in B of the
adjunction Sets(A √ó B, C) ‚àº= Sets(A, CB) is imposed.
It would seem that there‚Äôs no way to frame the diagram above in the usual context
of naturality for a transformation of functors. Fortunately, a suitable generalization
of naturality (a ‚Äúsuper-naturality‚Äù condition), encoding the above commutativity,
is available to describe this and other similar phenomena.
DeÔ¨Ånition 1.1 [Dinatural Transformation]: Given two functors P, Q: Cop√óC ‚Üí
D a dinatural transformation, depicted as an arrow Œ±: P
..‚àí‚ÜíQ, consists of a family
of arrows {Œ±c : P(c, c) ‚ÜíQ(c, c) | c ‚ààC} such that for any f : c ‚Üíc‚Ä≤ the following
hexagonal diagram commutes
P(c‚Ä≤, c)
P (f,c) /
P (c‚Ä≤,f)

P(c, c)
Œ±c
/ Q(c, c)
Q(c,f)

P(c‚Ä≤, c‚Ä≤)
Œ±c‚Ä≤ / Q(c‚Ä≤, c‚Ä≤)
Q(f,c‚Ä≤)
/ Q(c, c‚Ä≤)
(4)
DeÔ¨Ånition 1.2 [Wedge for a functor]: Let P : Cop √ó C ‚ÜíD; a wedge for P is a
dinatural transformation ‚àÜd
..‚àí‚ÜíP from the constant functor on the object d ‚ààD
(we often denote it simply by d: Cop √ó C ‚ÜíD), deÔ¨Åned by the rules (c, c‚Ä≤) 7‚Üíd,
(f, f ‚Ä≤) 7‚Üíidd.
Wedges for a given functor P form the class of objects of a category wd(P); see
Exercise 1.E6.
DeÔ¨Ånition 1.3 [End of a functor]: The end of a functor F : Cop √óC ‚ÜíD consists
of a terminal wedge end(F)
..‚àí‚ÜíF; the constant end(F) ‚ààD itself is often termed
the end of the functor.

ENDS
7
Spelled out explicitly, the universality requirement means that for any other
wedge Œ≤ : d
..‚àí‚ÜíF the diagram
d
h
#
Œ≤c
#
Œ≤c‚Ä≤
#
end(F)
œâc
/
œâc‚Ä≤

F(c, c)
F (1,f)

c
f

F(c‚Ä≤, c‚Ä≤)
F (f,1)
/ F(c, c‚Ä≤)
c‚Ä≤
(5)
commutes for a unique arrow h: d ‚Üíend(F), for any arrow f : c ‚Üíc‚Ä≤.
Remark 1.4 [Functoriality of ends]: As it is well-known, uniqueness require-
ments imply functoriality: given a natural transformation Œ∑: F ‚áíF ‚Ä≤ there is an
induced arrow end(Œ∑): end(F) ‚Üíend(F ‚Ä≤) between their ends, as depicted in the
diagram
end(F ‚Ä≤)
/

F ‚Ä≤(c‚Ä≤, c‚Ä≤)

end(F)
8
/

F(c‚Ä≤, c‚Ä≤)

8
F ‚Ä≤(c, c)
/ F ‚Ä≤(c, c‚Ä≤)
F(c, c)
8
/ F(c, c‚Ä≤)
8
(6)
This implies that taking sending a functor T into its end end(T) is a (covariant)
functor [Cop √ó C, D] ‚ÜíD.
Remark 1.5 [Coends]: Exercise 1.E5 provides us with the dual notion of a coend
as an initial cowedge for P; the reader is invited to Ô¨Åll in the details. As a general
rule, when dealing with dualizable statements we will not spell out explicitly such
dualizations, because they are almost always quite straightforward.
1.1. Extranaturality.
A slightly less general, but better behaved notion of super-
naturality (we say ‚Äúbetter behaved‚Äù since it admits a graphical calculus translating
commutativity-checking into checking that certain string diagrams can be deformed
one into the other), that allows again to deÔ¨Åne co/wedges, is available: this notion
is called extra-naturality and it was introduced in [EK66].
DeÔ¨Ånition 1.6 [Extranatural transformation]: Let P, Q be functors
P : A √ó Bop √ó B ‚ÜíD
Q: A √ó Cop √ó C ‚ÜíD.
An extranatural transformation Œ±: P
..‚àí‚ÜíQ consist of a collection of arrows

Œ±abc : P(a, b, b) ‚àí‚ÜíQ(a, c, c)
	
(7)

8
FOSCO LOREGIAN
indexed by triples of object in A √ó B √ó C such that the following hexagonal diagram
commutes for every f : a ‚Üía‚Ä≤, g: b ‚Üíb‚Ä≤, h: c ‚Üíc‚Ä≤, all taken in their suitable
domains:
P(a, b‚Ä≤, b)
P (f,b‚Ä≤,g) /
P (a,g,b)

P(a‚Ä≤, b‚Ä≤, b‚Ä≤)
Œ±a‚Ä≤b‚Ä≤c
/ Q(a‚Ä≤, c, c)
Q(a‚Ä≤,c,h)

P(a, b, b)
Œ±abc‚Ä≤
/ Q(a, c‚Ä≤, c‚Ä≤)
Q(f,h,c‚Ä≤)
/ Q(a‚Ä≤, c, c‚Ä≤);
(8)
Notice how this commutative hexagon can be equivalently described as the
juxtaposition of three distinguished commutative squares, depicted in [EK66]: the
three can be obtained letting respectively f and h, f and g, or g and h be identities
in the former diagram, which collapses to
P(a, b, b)
P (f,b,b)/
Œ±abc

P(a‚Ä≤, b, b)
Œ±a‚Ä≤bc

Q(a, c, c)
Q(f,c,c)
/ Q(a‚Ä≤, c, c)
P(a, b‚Ä≤, b)
P (a,b‚Ä≤,g)/
P (a,g,b)

P(a, b‚Ä≤, b‚Ä≤)
Œ±ab‚Ä≤c

P(a, b, b)
Œ±abc / Q(a, c, c)
P(a, b, b)
Œ±abc /
Œ±abc‚Ä≤

Q(a, c, c)
Q(a,c,h)

Q(a, c‚Ä≤, c‚Ä≤)
Q(a,h,c‚Ä≤)
/ Q(a, c, c‚Ä≤)
(9)
Remark 1.7 : We can again deÔ¨Åne co/wedges in this setting: if B = C and in
P(a, b, b) ‚ÜíQ(a, c, c) the functor P is the constant functor on d ‚ààD, and
Q(a, c, c) = ¬ØQ(c, c) is mute in a, we get a wedge condition for d
..‚àí‚ÜíQ; dually
we obtain a cowedge condition for P(b, b) ‚ÜíQ(a, b, b) ‚â°d‚Ä≤ for all a, b, c.
It‚Äôs worth to notice that a extranatural transformation contains strictly more
information than a dinatural, since in Def. 1.6 we are given arrows F(b, b)
Œ±bb‚Ä≤
‚àí‚àí‚Üí
G(b‚Ä≤, b‚Ä≤) that form a cowedge in b for each b‚Ä≤, and a wedge in b‚Ä≤ for all b ‚ààB.
Both notions give rise to the same notion of co/end, deÔ¨Åned as a universal
co/wedge for a bifunctor F : Cop √ó C ‚ÜíD. The main reason we should prefer
extranaturality is that being less general (see Exercise 1.E8) they give rise to a fairly
rich graphical calculus and behave better under composition(see Exercise 1.E7).
1.2. The integral notation for co/ends.
A suggestive and useful notation
alternative to the anonymous one ‚Äúco/end(F)‚Äù is due to N. Yoneda, which in
[Yon60] introduces most of the notions we are dealing with, in the setting of Ab-
enriched functors Cop √ó C ‚ÜíAb: the integral notation denotes the end of a functor
F ‚àà[Cop √ó C, D] as a ‚Äúsubscripted-integral‚Äù
¬¥
c F(c, c), and the coend coend(F) as
the ‚Äúsuperscripted-integral‚Äù
¬¥ c F(c, c).
From now on we will systematically adopt this notation to denote the universal
co/wedge co/end(F) or, following a well-established abuse of notation, the object
itself; when the domain of c has to be made explicit, we will also employ more
pedantic variants of
¬¥
c F and
¬¥ c F like
ÀÜ
c‚ààC
F(c, c),
ÀÜ c‚ààC
F(c, c).
(10)

ENDS
9
Remark 1.8 : One should be aware that Yoneda reverses this deÔ¨Ånition since he
calls integrations our coends, which he denotes as
¬¥
c‚ààC F(c, c), and cointegrations
our ends, which he denotes
¬¥ ‚àó
c‚ààC F(c, c). Modern notation complies with the current
use.
Remark 1.9 : Properties of co/ends acquire a particularly suggestive Ô¨Çavour when
written in this notation:
1) Functoriality (the B-rule for integrals or the freshman‚Äôs dream that the
integral of a product is the product of integrals): the unique arrow end(Œ∑)
induced by a natural transformation Œ∑: F ‚áíG between F, G ‚àà[Cop √óC, D]
can be written as
¬¥
Œ∑:
¬¥
F ‚Üí
¬¥
G, and uniqueness of this induced arrow
entails that
¬¥
(Œ∑ ‚ó¶œÉ) =
¬¥
Œ∑ ‚ó¶
¬¥
œÉ.
2) The Fubini theorem for ends, which Ô¨Årst appeared as equation (4.0.1)
of [Yon60]: given a functor F : Cop √ó C √ó Eop √ó E ‚ÜíD, we can form
the end
¬¥
c F(c, c,
,
) obtaining a functor Eop √ó E ‚ÜíD whose end is
¬¥
e
¬¥
c F(c, c, e, e) ‚ààD; we can also form the ends
¬¥
c
¬¥
e F(c, c, e, e) ‚ààD and
¬¥
(c,e) F(c, c, e, e) identifying Cop √ó C √ó Eop √ó E with (C √ó E)op √ó (C √ó E).
Fubini‚Äôs theorem for ends states that there is a canonical isomorphism
between the three:
ÀÜ
(c,e)
F(c, c, e, e) ‚àº=
ÀÜ
e
ÀÜ
c
F(c, c, e, e) ‚àº=
ÀÜ
c
ÀÜ
e
F(c, c, e, e)
(11)
Remark 1.10 : In some sense, the Fubini rule for coends seems a rather weak analogy
allowing to compare integrals and coends; there is no doubt that the following
passage ([ML98, IX.5])
[. . . ] the ‚Äúvariable of integration‚Äù c [in
¬¥
c F] appears twice under
the integral sign (once contravariant, once covariant) and is ‚Äúbound‚Äù
by the integral sign, in that the result no longer depends on c and
so is unchanged if c is replaced by any other letter standing for an
object of the category C.
motivates this notation, and yet the analogy itself seems to be too elusive to justify.
Although the author prefers to abstain from any further investigation, having no
chance to give a valid (or rather, formal) explanation of the integral notation, it
is nevertheless impossible to underestimate the evocative power of this convenient
shorthand. The subsequent sections collect several examples of this: among many,
the eager reader can see Exercise 1.E11 or 2.6.
1.3. Co/ends as co/limits.
A general tenet of elementary category theory is
that you can always characterize a universal construction as an element of the triad
universal object - limit - adjoint - representative of a functor
and there are simple explicit ways to translate between these descriptions. The
formalism of co/ends makes no exception: the scope of the following subsection is to
characterize, if it exists, the co/end of a functor F : Cop √ó C ‚ÜíD as a co/limit over
a suitable diagram F (hopefully obtained from a universal construction F 7‚ÜíF),
and consequently as the co/equalizer of a single pair of arrows.

10
FOSCO LOREGIAN
Remark 1.11 : Given F : Cop √ó C ‚ÜíD and a wedge œÑ : d
..‚àí‚ÜíF, we can build the
following commutative diagram
F(c, c)
F (c,f)
/ F(c, c‚Ä≤)
F (c,g)

d
œÑc
8
œÑgf
0
œÑc‚Ä≤
/
œÑc‚Ä≤‚Ä≤

F(c‚Ä≤, c‚Ä≤)

F (f,c‚Ä≤)
7
F(c, c‚Ä≤‚Ä≤)
F(c‚Ä≤‚Ä≤, c‚Ä≤‚Ä≤)
F (g,c‚Ä≤‚Ä≤)
/ F(c‚Ä≤, c‚Ä≤‚Ä≤)
F (f,c‚Ä≤‚Ä≤)
7
(12)
where c
f‚àí‚Üíc‚Ä≤
g‚àí‚Üíc‚Ä≤‚Ä≤ are two arbitrarily chosen, but Ô¨Åxed, arrows in C. From this
commutativity we deduce the following relations:
œÑgf = F(gf, c‚Ä≤‚Ä≤) ‚ó¶œÑc‚Ä≤‚Ä≤ = F(c, gf) ‚ó¶œÑc
= F(f, c‚Ä≤‚Ä≤) ‚ó¶F(g, c‚Ä≤‚Ä≤) ‚ó¶œÑc‚Ä≤‚Ä≤ = F(f, c‚Ä≤‚Ä≤) ‚ó¶œÑg
= F(c, g) ‚ó¶F(c, f) ‚ó¶œÑc = F(c, g) ‚ó¶œÑf.
where œÑf, œÑg are the common values F(f, c‚Ä≤)œÑc‚Ä≤ = F(c, f)œÑc and F(c‚Ä≤, g)œÑc‚Ä≤ =
F(g, c‚Ä≤‚Ä≤)œÑc‚Ä≤‚Ä≤ respectively, œÑgf is the common value F(c, g)œÑf = F(f, c‚Ä≤‚Ä≤)œÑg.
These relations imply that there is a link between co/wedges and co/cones,
encoded in the following deÔ¨Ånition.
DeÔ¨Ånition 1.12 [The twisted arrow category of C]: For every category C we
deÔ¨Åne tw(C), the category of twisted arrows in C as follows:
‚Ä¢ Ob(tw(C)) = hom(C) (of course, this will not be
‚Ñ¶
-small if C was only
‚Ñ¶
+-small);
‚Ä¢ Given f : c ‚Üíc‚Ä≤, g: d ‚Üíd‚Ä≤ a morphism f ‚Üíg is given by a pair of arrows
(h: d ‚Üíc, k: c‚Ä≤ ‚Üíd‚Ä≤), such that the obvious square commutes (asking that
the arrow between domains is reversed is not a mistake).
Endowed with the obvious rules for composition and identity, tw(C) is easily
seen to be a category, and now we can Ô¨Ånd a functor
Fun(Cop √ó C, D)
/ Fun(tw(C), D)
(13)
deÔ¨Åned sending F to the functor F : tw(C) ‚ÜíD: f 7‚ÜíF(src(f), trg(f)); it is
extremely easy now to check that bifunctoriality for F exactly corresponds to
functoriality for F, but there is more.
Remark 1.13 : The family {œÑf}f‚ààhom(C) constructed before is a cone for the functor
F, and conversely any such cone determines a wedge for F, given by {œÑc ‚âúœÑidc}c‚ààC.
Again, a morphism of cones maps to a morphism between the corresponding wedges,
and conversely any morphism between wedges induces a morphism between the
corresponding cones; these operations are mutually inverse and form an equivalence
between the category cn(F) of cones for F and the category wd(F) of wedges for
F (see Exercise 1.E6).

ENDS
11
Equivalences of categories obviously respect initial/terminal objects, and since
co/limits are initial/terminal objects in the category of co/cones, and co/ends are
initial/terminal objects in the category of co/wedges, we obtain that3
ÀÜ
c
F ‚àº= lim
‚Üê‚àí
tw(C)
F;
ÀÜ c
F ‚àº=
lim
‚àí‚Üí
tw(Cop)op
F
(14)
Remark 1.14 : Co/limits in a category exist whenever the category has co/products
and equalizers. So we would expect a characterization of co/ends in terms of these
simpler pieces; such a characterization exists, and it turns out to be extremely
useful in explicit computations (see for example our Remark 5.11 and the argument
therein).
In fact it is rather easy to extract from the bare universal property that
¬¥
c F(c, c) ‚àº= eq
 Y
c‚ààC
F(c, c)
F ‚àó/
F‚àó
/
Y
œï: c‚Üíc‚Ä≤
F(c, c‚Ä≤)
Ô£∂
Ô£∏
(15)
must be an equalizer, where the product over œï: c ‚Üíc‚Ä≤ can be expressed as a
double product (over the objects c, c‚Ä≤ ‚ààC, and over the arrows œï between these two
Ô¨Åxed objects), and the arrows F ‚àó, F‚àóare easily obtained from the arrows whose
(œï, c, c‚Ä≤)-components are (respectively) F(œï, c‚Ä≤) and F(c, œï).
It is useful to stress that this characterization is compatible with the description
of a co/limit as a co/equalizer, when F is mute in one variable. From this we deduce
a diÔ¨Äerent argument showing that the co/end of a mute functor coincides with its
co/limit.
DeÔ¨Ånition 1.15 : There is an obvious deÔ¨Ånition of preservation of co/ends from their
description as co/limits, which reduces to the preservation of the particular kind of
co/limit involved in the deÔ¨Ånition of end(F) and coend(F).
This remark entails easily that
Theorem 1.16 : Every co/continuous functor F : D ‚ÜíE preserves every co/end that
exists in D: if T : Cop √ó C ‚ÜíD has a co/end
¬¥ /c
c
T(c, c), then
F
 ¬¥ /c
c
T(c, c)

‚àº=
¬¥ /c
c
FT(c, c)
(16)
in the obvious meaning that the two objects are canonically isomorphic, since they
have the same universal property.
As a particular example of this, we have
Corollary 1.17 [The hom functor commutes with integrals]: Continuity of
the hom bifunctor C(
,
): Cop√óC ‚ÜíSets gives its co/end preservation properties:
3Notice that the colimit is taken over the category twop(C), the opposite of tw(Cop): an
object of twop(C) is an arrow f : c‚Ä≤ ‚Üíc in Cop, and a morphism from f : c ‚Üíc‚Ä≤ to g : d ‚Üíd‚Ä≤ is a
commutative square (u, v) such that vgu = f.

12
FOSCO LOREGIAN
for every c ‚ààC and F : Xop √ó X ‚ÜíC we have canonical isomorphisms
C
 ÀÜ x
F(x, x), c

‚àº=
ÀÜ
x
C(F(x, x), c)
C

c,
ÀÜ
x
F(x, x)

‚àº=
ÀÜ
x
C(c, F(x, x))
1.4. Natural transformations as ends.
A basic example exploiting the whole
machinery introduced so far is the proof that the set of natural transformations
between two functors F, G: C ‚ÜíD can be characterized as an end:
Theorem 1.18 : Given functors F, G: C ‚ÜíD between small categories we have the
canonical isomorphism of sets
Nat(F, G) ‚àº=
ÀÜ
c
D(Fc, Gc).
(17)
Proof. Giving a wedge œÑc : Y ‚ÜíD(Fc, Gc) consists in giving a function y 7‚Üí
œÑc,y : Fc ‚ÜíGc, which is natural in c ‚ààC (this is simply a rephrasing of the wedge
condition):
G(f) ‚ó¶œÑc,y = œÑc‚Ä≤,y ‚ó¶F(f)
(18)
for any f : c ‚Üíc‚Ä≤; this means that there exists a unique way to close the diagram
Y
œÑc/
h
)
D(Fc, Gc)
Nat(F, G)
O
(19)
with a function sending y 7‚ÜíœÑ
,y ‚ààQ
c‚ààC D(Fc, Gc), and where Nat(F, G) ‚Üí
D(Fc, Gc) is the wedge sending a natural transformation to its c-component; the
diagram commutes for a single h: Y ‚ÜíNat(F, G), and this is precisely the desired
universal property for Nat(F, G) to be
¬¥
c D(Fc, Gc).
‚ñ°
Remark 1.19 : A suggestive way to express naturality as a ‚Äúclosure‚Äù condition is
given in [Yon60, 4.1.1], where for an Ab-enriched functor F : Cop √óC ‚ÜíAb between
suitably complete Ab-categories, one can prove that Nat(F, G) = ker Œ¥, for a suitable
map Œ¥ deÔ¨Åned among Ab(Fx, Gx) ‚äïAb(Fy, Gy) and Ab(Fy, Gy). See Exercise
1.E16 for more on this.
After this, we can embark in more sophisticated and pervasive examples. In
particular, the following section is the gist of the paper, demonstrating the power
of co/end calculus to prove highly technical and involved results by means of
abstract-nonsense only.

ENDS
13
E1 Let {ŒµX : XA √ó A ‚ÜíX | X, A ‚ààSets} be the counit of the cartesian closed structure in
Sets. Show that for each f ‚ààSets(B, B‚Ä≤) the following square is commutative:
XB‚Ä≤ √ó B
Xf √óB /
XB‚Ä≤ √óf 
XB √ó B
œµ

XB‚Ä≤ √ó B‚Ä≤
œµ
/ X
(20)
E2 A dinatural transformation serves to deÔ¨Åne natural transformations between functors
having the same co/domain but diÔ¨Äerent variance; try to do this.
E3 Show with an example that dinatural transformations Œ±: P
..
‚àí‚ÜíQ, Œ≤ : Q
..
‚àí‚ÜíR cannot
be composed in general.
Nevertheless, there exists a ‚Äúcomposition‚Äù of a dinatural
Œ±: P
..
‚àí‚ÜíQ with a natural Œ∑ : P ‚Ä≤ ‚ÜíP which is again dinatural P ‚Ä≤
..
‚àí‚ÜíQ, as well as a
composition P
..
‚àí‚ÜíQ ‚ÜíQ‚Ä≤ (hint: the appropriate diagram results as the pasting of a
dinaturality hexagon and two naturality squares).
E4 What is the end of the constant functor d : Cop √ó C ‚ÜíD? What is its coend?
E5 State the deÔ¨Ånition of a cowedge for a functor F : Cop√óC ‚ÜíD; a coend for F consists of a
universal cowedge coend(F) for P. Prove functoriality for coends. Show that coends are
ends in the dual category: the coend of F is the end of F op : C √ó Cop ‚àº
= Cop √ó C ‚ÜíDop.
E6 DeÔ¨Åne a category wd(F) having objects the wedges for F : Cop √ó C ‚ÜíD and show that
the end of F is the terminal object of wd(F); dualize to coends (initial objects of a
category cwd(F) of cowedges).
E7 Show that extranatural transformations compose accordingly to these rules:
‚Ä¢ (stalactites) Let F, G be functors of the form Cop √ó C ‚ÜíD. If Œ±x,y : F(x, y) ‚Üí
G(x, y) is natural in x, y and Œ≤x : G(x, x) ‚ÜíH is extranatural in x (for some
object H of D), then
Œ≤x ‚ó¶Œ±x,x : F(x, x) ‚ÜíH
(21)
is extranatural in x.
‚Ä¢ (stalagmites) Let G, H be functors of the form Cop √ó C ‚ÜíD. If Œ±x : F ‚ÜíG(x, x)
is extranatural in x (for some object F of D) and Œ≤x,y : G(x, y) ‚ÜíH(x, y) is
natural in x, y, then
Œ≤x,x ‚ó¶Œ±x : F ‚ÜíH(x, x)
(22)
is extranatural in x.
‚Ä¢ (yanking) Let F, H be functors of the form C ‚ÜíD, and let G: C √ó Cop √ó C ‚ÜíD
be a functor. If Œ±x,y : F(y) ‚ÜíG(x, x, y) is natural in y and extranatural in x, and
if Œ≤x,y : G(x, y, y) ‚ÜíH(x) is natural in x and extranatural in y, then
Œ≤x,x ‚ó¶Œ±x,x : F(x) ‚ÜíH(x)
(23)
is natural in x.
Express these laws as equalities between suitable string diagrams (explaining also the
genesis of the names ‚Äústalactite‚Äù and ‚Äústalagmite‚Äù).
E8 Prove that extranatural transformations are particular kinds of dinatural transforma-
tions.
E9 Prove that dinaturality is strictly more general than extranaturality, following this plot.
Let ‚àÜ[1] = {0 ‚Üí1} be the ‚Äúwalking arrow‚Äù category, and S, T : ‚àÜ[1]op √ó ‚àÜ[1] ‚ÜíSets
Exercises for ¬ß1

14
FOSCO LOREGIAN
the functors respectively deÔ¨Åned by
{1}
S
c1 /

{1, 2}
œÉ

(0, 0)
/

(0, 1)

{1}
/

T
{1}
c2

{1}
c2 / {1, 2}
(1, 0)
/ (1, 1)
{1}
c2 / {1, 2}
(24)
where ci chooses element i ‚àà{1, 2}, and œÉ permutes the two elements. Show that there
exists a dinatural transformation T
..
‚àí‚ÜíS, whose components are identities, which is not
extranatural when in Def. 1.6 we choose A = ‚àóand B = Cop.
E10 Prove the Fubini theorem for ends, 1.9.(2) embarking in a long exercise in universality;
prove that if F : Cop √ó C ‚ÜíD is mute in one of the two variables (i.e. F(c‚Ä≤, c) = ¬ØF(c)
or ÀÜF(c‚Ä≤) for each c, c‚Ä≤ ‚ààC and suitable functors ¬ØF : C ‚ÜíD or ÀÜF : Cop ‚ÜíD), then the
co/end of F is canonically isomorphic to its co/limit. This gives an alternative proof of
a similar Fubini rule for co/limits: given a functor F : I √ó J ‚ÜíD we have
lim
‚àí‚ÜíI lim
‚àí‚ÜíJ F ‚àº
= lim
‚àí‚ÜíJ lim
‚àí‚ÜíI F ‚àº
= lim
‚àí‚ÜíI√óJ F
(25)
(and similarly for limits).
E11 Introduced to vector analysis in basic calculus courses, students learn that if (X, ‚Ñ¶, ¬µ)
is a measure space, the integral of a vector function ‚ÉóF : X ‚ÜíRn such that each
Fi = œÄi ‚ó¶F : X ‚ÜíR is measurable and has Ô¨Ånite integral, is the vector whose entries
are
 ¬¥
X F1d¬µ, ¬∑ ¬∑ ¬∑ ,
¬¥
X Fnd¬µ

.
Prove that category theory possesses a similar formula, i.e. that if F : Cop √ó C ‚Üí
A1 √ó ¬∑ ¬∑ ¬∑ √ó An is a functor towards a product of categories, such that for 1 ‚â§i ‚â§n
‚Ä¢ each Ai has both an initial and a terminal object, respectively denoted ‚àÖand 1;
‚Ä¢ each co/end
¬¥ /c
c
œÄi ‚ó¶F exists
then the ‚Äúvector‚Äù of all these co/ends, as an object
 ¬¥ /c
c
F1, . . . ,
¬¥ /c
c
Fn) ‚ààA1√ó¬∑ ¬∑ ¬∑√óAn,
is the (base of a universal co/wedge forming the) co/end of F.
E12 Show that the end of a functor T : ‚àÜ[1]op √ó‚àÜ[1] ‚ÜíSets is the pullback of the morphisms
T(0, 0)
T (0,d0)
‚àí‚àí‚àí‚àí‚àí‚ÜíT(0, 1)
T (d0,1)
‚Üê‚àí‚àí‚àí‚àí‚àíT(1, 1), i.e.
¬¥
i‚àà‚àÜ[1] T(i, i)
/

T(0, 0)

T(1, 1)
/ T(0, 1)
(26)
is a pullback in Sets (of course there‚Äôs nothing special about sets here!).
E13 Let G be a topological group, and Sub(G) the partially ordered (with respect to inclusion)
set of its subgroups; let X be a G-space, i.e. a topological space with a continuous action
G √ó X ‚ÜíX.
We can deÔ¨Åne two functors Sub(G) ‚ÜíTop, sending (H ‚â§G) 7‚ÜíG/H (this is a covariant
functor, and G/H has the induced quotient topology) and (H ‚â§G) 7‚ÜíXH (the subset
of H-Ô¨Åxed points for the action; this is a contravariant functor).
(1) Compute the coend
ÀÜ H‚â§G
XG √ó G/H
(27)
in Top if G = Z/2 has the discrete topology;
(2) Give a general rule for
¬¥ H‚â§G XG √ó G/H when H is cyclic with n elements;
(3) Let instead Orb(G) be the orbit category of subgroups of G, whose objects are
subgroups but hom(H, K) contains G-equivariant maps G/H ‚ÜíG/K. Let again

ENDS
15
X
and G/
deÔ¨Åne the same functors, now with diÔ¨Äerent action on arrows.
Prove that
¬¥ H‚ààOrb(G) XH √ó G/H ‚àº
= X (Elmendorf reconstruction, [Elm83]).
(4) Let E|F be a Ô¨Åeld extension, and {H ‚äÜGal(E|F)} the partially ordered set of
subgroups of the Galois group of the extension. Compute (in the category of rings)
ÀÜ H
EH √ó Gal(H|F)
(28)
E14 Dualize the above construction, to obtain a similar characterization for the coend
¬¥ c F(c, c), characterized as the coequalizer of a similar pair (F ‚àó, F‚àó).
E15 Prove again Theorem 1.18, using the characterization of
¬¥
c D(Fc, Gc) as an equalizer:
the subset of Q
c‚ààC D(Fc, Gc) you will have to consider is precisely the subset of natural
transformations {œÑc : Fc ‚ÜíGc | Gf ‚ó¶œÑc = œÑc‚Ä≤ ‚ó¶Ff, ‚àÄf : c ‚Üíc‚Ä≤}. This yields the
evocative formula
Nat(1C, 1C) = End(1C) ‚àº
=
ÀÜ
c
C(c, c).
(29)
Is it possible to give an explicit meaning to the dual construction
¬¥ c C(c, c) (start with
simple examples: C discrete, C a Ô¨Ånite group, C a Ô¨Ånite groupoid. . . )? Compare also
Example 2.10.
E16 DeÔ¨Åne the map Œ¥ in 1.19, and show that ker Œ¥ ‚àº
=
¬¥
y Ab(Fy, Gy) in the above notation;
dualize to express a coend as a suitable coequalizer.
E17 What is the co/end of the identity functor 1Cop√óC : Cop √ó C ‚ÜíCop √ó C? Use the
bare deÔ¨Ånition; use the characterization of co/ends as co/limits; feel free to invoke
Exercise E11.
E18 A set of objects S ‚äÇC Ô¨Ånitely generates a category C if for each object X ‚ààC and each
arrow f : s ‚Üíc from s ‚ààS there is a factorization
s
g‚àí‚Üí
n
a
i=1
si
hc
‚àí‚àí‚Üíc
(30)
where hc is an epimorphism and {s1, . . . , sn} ‚äÇS (n depends on c and f).
Suppose T : Cop √ó C ‚ÜíSets is a functor, Ô¨Ånitely continuous in both variables, and C is
Ô¨Ånitely generated by S. Then, considering S as a full subcategory S ‚äÜC, and calling
T ‚Ä≤ := T|S : Sop √ó S ‚ÜíSets, we have an isomorphism
ÀÜ c‚ààS
T ‚Ä≤(c, c) ‚àº
=
ÀÜ c‚ààC
T(c, c)
(31)
induced by a canonical arrow
¬¥ c‚ààS T ‚Ä≤(c, c) ‚Üí
¬¥ c‚ààC T(c, c).
E19 Let F ‚ä£U : C ‚áÜD be an adjunction, and G: Dop √ó C ‚ÜíE a functor; then there is an
isomorphism
ÀÜ c
G(Fc, c) ‚àº
=
ÀÜ d
G(d, Ud).
(32)
Show that a converse of this result is true: if the above isomorphism is true for any G
and natural therein, then there is an adjunction F ‚ä£U.
E20 [Cam], the Stokes‚Äô theorem is about coends. Let N be the poset of natural numbers in
the usual ordering, and Vect be the category of real vector spaces.
Fix a manifold X (or some other sort of smooth space). Then we have functors
‚Ä¢ C : Nop ‚ÜíVect where Cn is the vector space freely generated by smooth maps
Y ‚ÜíX where Y is a compact, n-dimensional, oriented manifold with boundary,
and the induced map ‚àÇ: Cn+1 ‚ÜíCn is the boundary map.
‚Ä¢ ‚Ñ¶: N ‚ÜíVect is the de Rham complex; ‚Ñ¶n = ‚Ñ¶n(X) is the space of n-forms on X
and the induced map d : ‚Ñ¶n ‚Üí‚Ñ¶n+1 is the exterior derivative.
Assuming that Vect has a suitable tensor product deÔ¨Åned, we obtain a functor C ‚äó‚Ñ¶:
Nop √ó N ‚ÜíVect, while there is also the constant functor R : Nop √ó N ‚ÜíVect

16
FOSCO LOREGIAN
Then Stokes‚Äô theorem says that we have an extranatural transformation
ÀÜ
: C ‚äó‚Ñ¶‚ÜíR
(33)
which, given a map Y ‚ÜíX and a form œâ on X, pulls the form back to Y and
integrates it (returning 0 if it‚Äôs the wrong dimension). What is the natural induced map
¬¥ n‚ààN Cn ‚äó‚Ñ¶n ‚ÜíR?
2. Yoneda reduction, Kan extensions
One of the most famous and useful results about the category Cat(Cop, Sets)
of presheaves on a small category C is that every object in it can be canonically
presented as a colimit of representable functors, or more precisely images of the
Yoneda embedding „ÇàC : C ‚ÜíCat(Cop, Sets); we invite the reader to read [ML98,
Theorem III.7.1] for a description of this classical result (and its analogue holding
in Cat(C, Sets)). Of course, this result is linked (if not equivalent) to one of the
pillars of elementary category theory, the Yoneda lemma that says that the set of
natural transformations „ÇàC(c) ‚áíF is a set in bijective correspondence with the
set Fc, for each F : Cop ‚ÜíSets.
Now, co/end calculus allows us to rephrase the latter result in an extremely
compact way, that we choose to call Yoneda reduction or ninja Yoneda lemma; in
a few words, it says that every functor F : Cop ‚ÜíSets or G : C ‚ÜíSets can be
expressed as a co/end4.
Proposition 2.1 [ninja Yoneda Lemma]: For every functor K : Cop ‚ÜíSets and
H : C ‚ÜíSets, we have the following isomorphisms (natural equivalences of functors):
(i) K ‚àº=
ÀÜ c
Kc √ó C(
, c)
(ii) K ‚àº=
ÀÜ
c
KcC(c,
)
(iii) H ‚àº=
ÀÜ c
Hc √ó C(c,
)
(iv) H ‚àº=
ÀÜ
c
HcC(
,c)
Remark 2.2 : The name ninja Yoneda lemma is a pun coming from a mathoverÔ¨Çow
comment by T. Leinster, whose content is basically the proof of the above statement:
Th[e above one is] often called the Density Formula, [. . . ] or (by Aus-
tralian ninja category theorists) simply the Yoneda Lemma. (but Aus-
tralian ninja category theorists call everything the Yoneda Lemma. . . ).
Undoubtedly, there is a link between the above result and the Yoneda Lemma we
all know: in fact, the proof heavily relies on the Yoneda isomorphism, and in enriched
setting (see [Dub70, ¬ßI.5]) the ninja Yoneda lemma, interpreted as a theorem about
Kan extensions, is equivalent to the one from the Northern hemisphere.
We must admit to feel somewhat unqualiÔ¨Åed to properly discuss the topic, as
we live in the wrong hemisphere of the planet to claim any authority on it, and to
be acquainted with the rather unique taste of Australian practitioners in choosing
4The reader looking for a nifty explanation of this result should wait for a more thorough
discussion, which can be deduced from the material in ¬ß4, thanks to the machinery of weighted
co/limits.

ENDS
17
evocative (or obscure) terminology. Nevertheless, along the whole note, we keep
the name ‚Äúninja Yoneda Lemma‚Äù as a (somewhat witty) nickname for the above
isomorphisms.
Proof. We prove only case (i), all the others being totally analogous. We put a
certain emphasis on the style of this proof, as it is the Ô¨Årst real new argument in
this note and a paradigm of the calculus we are building. Consider the chain of
isomorphisms
Sets
 ÀÜ c‚ààC
Kc √ó C(x, c), y

‚àº=
ÀÜ
c‚ààC
Sets
 Kc √ó C(x, c), y

‚àº=
ÀÜ
c‚ààC
Sets(C(x, c), Sets(Kc, y))
‚àº= Nat(C(x,
), Sets(K‚àí, y))
‚àº= Sets(Kx, y)
where the Ô¨Årst step is motivated by the coend-preservation property of the hom
functor 1.17, the second follows from the fact that Sets is a cartesian closed category,
where
Sets(X √ó Y, Z) ‚àº= Sets(X, Sets(Y, Z))
(34)
for all three sets X, Y, Z (naturally in all arguments), and the Ô¨Ånal step exploits
Theorem 1.18 and the classical Yoneda Lemma.
Every step of this chain of isomorphisms is natural in y; now we have only to
notice that the natural isomorphism of functors
Sets
 ¬¥ c Kc √ó C(x, c), y

‚àº= Sets(Kx, y)
(35)
this, in turn, ensures that there exists a (natural) isomorphism
¬¥ c Kc √ó C(x, c) ‚àº=
Kx.
‚ñ°
From now one we will make frequent use of the notion of (Sets-)tensor and
(Sets-)cotensor in a category; these standard deÔ¨Ånitions are in the chapter of any
book about enriched category theory (see for example [Bor94b, Ch. 6], its references,
and in particular its DeÔ¨Ånition 6.5.1, which we report for the ease of the reader:
DeÔ¨Ånition 2.3 [Tensor and cotensor in a V-category]: In any V-enriched
category C (see [Bor94b, Def. 6.2.1]), the tensor ¬∑: V√ó C ‚ÜíC (when it exists) is
a functor (V, c) 7‚ÜíV ¬∑ c such that there is the isomorphism
C(V ¬∑ c, c‚Ä≤) ‚àº= V(V, C(c, c‚Ä≤)),
(36)
natural in all components; dually, the cotensor in an enriched category C (when
it exists) is a functor (V, c) 7‚ÜícV (contravariant in V ) such that there is the
isomorphism
C(c‚Ä≤, cV ) ‚àº= V(V, C(c‚Ä≤, c)),
(37)
natural in all components.
Example 2.4 : Every co/complete, locally small category C is naturally Sets-co/tensored
by choosing cV ‚àº= Q
v‚ààV c and V ¬∑ c ‚àº= `
v‚ààV c.

18
FOSCO LOREGIAN
Remark 2.5 : The tensor, hom and cotensor functors are the prototype of a ‚Äòtwo vari-
able adjunction‚Äô (or more rarely thc situation [Gra80, ¬ß1.1]); given the hom-objects
of a V-category C, the tensor ¬∑: V√óC ‚ÜíC and the cotensor (
)(
) : Vop√óC ‚ÜíC
can be characterized as adjoint functors to the internal hom: usual co/continuity
properties of the co/tensor functors are implicitly derived from this characterization.
Remark 2.6 [
, The Yoneda embedding is a Dirac delta]: In functional
analysis, the Dirac delta appears in the following convenient abuse of notation:
ÀÜ ‚àû
‚àí‚àû
f(x)Œ¥(x ‚àíy)dx = f(y)
(38)
(the integral sign, here, is not a co/end). Here Œ¥y(x) := Œ¥(x ‚àíy) is the y-centered
delta-distribution, and f : R ‚ÜíR is a continuous, compactly supported function
on R.
It is really tempting to draw a parallel between this relation and the ninja
Yoneda lemma, conveying the intuition that representable functors on an object
c ‚ààC play the r√¥le of c-centered delta-distributions. If the relation above is written
as ‚ü®f, Œ¥y‚ü©= f(y), interpreting integration as an inner product between functions,
then the ninja Yoneda lemma says formally the same thing: for each presheaf
F : Cop ‚ÜíSets, the ‚Äúinner product‚Äù ‚ü®„Çàc, F‚ü©=
¬¥ x „Çàc(x)√óFc equals Fc (obviously,
there‚Äôs nothing special about sets here).
2.1. Kan extensions as co/ends.
DeÔ¨Ånition 2.7 : Given a functor F : C ‚ÜíD, its left and right Kan extensions are
deÔ¨Åned5 to be, respectively, the left and right adjoint to the ‚Äúprecomposition‚Äù
functor
F ‚àó: Cat(D, Sets) ‚ÜíCat(C, Sets)
(39)
given by H 7‚ÜíF ‚àó(H) = H ‚ó¶F, in such a way that there are two isomorphisms
[D, Sets](LanF G, H) ‚àº= [C, Sets](G, H ‚ó¶F)
[C, Sets](H ‚ó¶F, G) ‚àº= [D, Sets](F, RanF G).
We say that LanF G is the left Kan extension of G along F; dually, we say that
RanF G is the right Kan extension of G along F.
Now, we want to show that in ‚Äúnice‚Äù situations it is possible to describe Kan
extensions via co/ends: whenever the co/tensors (see Def. 2.3) involved in the
equations below exist (they do in the case of Sets, but the same can be stated
for every cocomplete D), then the left/right Kan extensions of G: C ‚ÜíE along
F : C ‚ÜíD exist and there are isomorphisms (natural in F and G)
LanF G ‚àº=
ÀÜ c
D(Fc,
) ¬∑ Gc
RanF G ‚àº=
ÀÜ
c
GcD(
,F c).
(40)
5This is not true, strictly speaking. Nevertheless we prefer to cheat the reader with this useful
insight instead of obscuring the general idea keeping track of all possible pathologies. Furthermore,
we are interested only in the cases when Kan extensions can be written as co/ends, so we will not
consider any pathology whatsoever and we can safely assume that this is a proper deÔ¨Ånition.

ENDS
19
Proof. The proof consists of a string of canonical isomorphisms, exploiting simple
remarks and the results established so far: the same argument is oÔ¨Äered in [ML98,
Thm. X.4.1, 2].
Nat
 ÀÜ c
D(Fc,
) ¬∑ Gc, H
 1.18
‚àº=
ÀÜ
x
D
 ÀÜ c
D(Fc, x) ¬∑ Gc, Hx

1.17
‚àº=
ÀÜ
cx
D(D(Fc, x) ¬∑ Gc, Hx)
(36)
‚àº=
ÀÜ
cx
Sets(D(Fc, x), E(Gc, Hx))
1.18
‚àº=
ÀÜ
c
Nat(D(Fc,
), E(Gc, H‚àí))
Yon
‚àº=
ÀÜ
c
E(Gc, HFc) ‚àº= Nat(G, HF).
The case of RanF G is dually analogous and we leave it to the reader.
‚ñ°
Proposition 2.8 : Left/right adjoint functors commute with left/right Kan extensions,
whenever they can be expressed as the coends above.
Proof. An immediate corollary of Theorem 1.16, once it has been proved that a left
adjoint commutes with tensors, i.e. F(X ¬∑a) ‚àº= X ¬∑Fa for any (X, a) ‚ààSets√óC.
‚ñ°
Example 2.9 : Let T : C ‚ÜíC be a monad on the category C; the Kleisli category
Kl(T) of T is deÔ¨Åned having the same objects of C and morphisms Kl(T)(a, b) :=
C(a, Tb).
Given any functor F : A ‚ÜíC, the right Kan extension TF = RanF F is a monad
on C, the codensity monad of F; hom-sets in the Kleisli category Kl(TF ) can be
characterized as
Kl(TF )(c, c‚Ä≤) ‚àº=
ÀÜ
a
Sets(C(c‚Ä≤, Fa), C(c, Fa)).
(41)
The proof is an exercise in coend-juggling, recalling that TF (
)
(40)
‚àº=
¬¥
c FcC(
,F c).
Example 2.10 : Let V be a Ô¨Ånite dimensional vector space over the Ô¨Åeld K; let V ‚à®
denote the dual vector space of linear maps V ‚ÜíK. Then there is a canonical
isomorphism
ÀÜ V
V ‚à®‚äóV ‚àº= K.
(42)
The fastest way to see this is to notice that
ÀÜ V
hom(V,
) ‚äóV ‚àº= Lanid(id) ‚àº= idVect
(43)
(compare this argument with any proof trying to explicitly evaluate the coend from
its bare deÔ¨Ånition).

20
FOSCO LOREGIAN
Remark 2.11 : Let again V be a Ô¨Ånite dimensional vector space over the Ô¨Åeld K.
The universal cowedge hom(V, V )
Œ±V
‚àí‚àí‚ÜíK sends an endomorphism f : V ‚ÜíV to its
trace œÑ(f) ‚ààK (which in this way acquires a universal property).
The above argument holds in fact in fair generality, adapting to the case where
V is an object of a compact closed monoidal category C.
E1 Show that presheaf categories are cartesian closed, via coends: if [Cop, Sets] is the
category of presheaves on a small C, then there exists an adjunction
[Cop, Sets](P √ó Q, R) ‚àº
= [Cop, Sets](P, RQ)
(44)
by showing that RQ(c) = [Cop, Sets](„Çàc √ó Q, R) does the job (use the ninja Yoneda
lemma, as well as Thm. 1.18).
E2 Use equations (40) and the ninja Yoneda lemma that Lanid and Ranid are the identity
functors, as expected. Use again (40) and the ninja Yoneda lemma to complete the
proof that F 7‚ÜíLanF is a pseudofunctor, by showing that for A
F
‚àí‚ÜíB, A
G
‚àí‚ÜíC
H
‚àí‚ÜíD
there is a uniquely determined laxity cell for composition
LanH(LanG(F)) ‚àº
= LanHG(F)
(45)
(hint: coend-juggle with LanH(LanG(F))d until you get
¬¥ xy(D(Hx, d) √ó C(Gy, x)) ¬∑ Fy;
now use the ninja Yoneda lemma plus co-continuity of the tensor, as suggested in Remark
2.5).
E3 Prove in a similar way isomorphisms (ii), (iii), (iv) in Thm. 2.1 (hint: for (ii) and (iv)
start from Sets

y,
¬¥
c HcC(x,c)
and use again the end preservation property, cartesian
closure of Sets, and Thm. 1.18).
E4 Let C be a small compact closed monoidal category [Day77]; Show that the functor
y 7‚Üí
¬¥ x x‚à®‚äóy ‚äóx carries the structure of a monad on C.
Exercises for ¬ß2
3. The nerve and realization paradigm.
3.1. The classical nerve and realization.
The most fruitful application of the
machinery of Kan extensions is the ‚ÄúKan construction‚Äù for the geometric realization
of simplicial sets as a topological space, or more precisely as a cw-complex. It
is impossible to underestimate the value of this construction as a uniÔ¨Åcation tool
in algebra and algebraic topology; here, we brieÔ¨Çy sketch this construction. This
section assumes a certain acquaintance with the basic deÔ¨Ånition on simplicial
homotopy theory; in particular, we take for granted the Ô¨Årst chapter of [GJ09] and
the deÔ¨Ånition of a Quillen model category.
Consider the category ‚àÜ
‚àÜ
‚àÜof Ô¨Ånite nonempty ordinals and monotone functions, as
deÔ¨Åned in [GJ09], and let us consider the Yoneda embedding „Çà‚àÜ: ‚àÜ
‚àÜ
‚àÜ‚Üí[‚àÜ
‚àÜ
‚àÜop, Sets] =
sSet; we can deÔ¨Åne two functors œÅ: ‚àÜ
‚àÜ
‚àÜ‚ÜíTop and i: ‚àÜ
‚àÜ
‚àÜ‚ÜíCat which ‚Äúrepresent‚Äù
every object [n] ‚àà‚àÜ
‚àÜ
‚àÜeither as a topological space or as a small category:
‚Ä¢ The category i[n] is {0 ‚Üí1 ‚Üí¬∑ ¬∑ ¬∑ ‚Üín} (there is a similar functor Pos ‚Üí
Cat regarding any poset (P, ‚â§) as the category P where the composition
function is induced by the partial order relation ‚â§: i here coincides with
its restriction to ‚àÜ
‚àÜ
‚àÜ‚äÇPos);

ENDS
21
‚Ä¢ The topological space œÅ[n] is deÔ¨Åned as the standard n-simplex ‚àÜn embedded
in Rn+1,
œÅ[n] =
n
(x0, . . . , xn) ‚ààRn+1 | 0 ‚â§xi ‚â§1, Pn
i=0 xi = 1
o
.
(46)
In a few words, we are in the situation depicted by the following diagrams:
‚àÜ
‚àÜ
‚àÜ
i
/
„Çà‚àÜ
‚àÜ
‚àÜ
Cat
sSet
‚àÜ
‚àÜ
‚àÜ
œÅ
/
„Çà‚àÜ
‚àÜ
‚àÜ
Top
sSet
(47)
The two functors i, œÅ can be (left) Kan-extended along the Yoneda embedding
„Çà‚àÜ: ‚àÜ
‚àÜ
‚àÜ‚ÜísSet, and these extensions happen to be left adjoints (this can be proved
directly, but we will present in a while a completely general statement).
We denote these adjunctions
Lan„Çài ‚ä£Ni
and
Lan„ÇàœÅ ‚ä£NœÅ;
(48)
these two right adjoint functors are called the nerves associated to i and œÅ re-
spectively, and are deÔ¨Åned, respectively, sending a category C to the simplicial set
Ni(C): [n] 7‚ÜíCat(i[n], C) (the classical nerve of a category), and to the simplicial
set NœÅ(X): [n] 7‚ÜíTop(œÅ[n], X) = Top(‚àÜn, X) (the singular complex of a space X).6
The left adjoints to NœÅ and Ni must be thought as ‚Äúrealizations‚Äù of a simplicial
set as an object of Top or Cat:
‚Ä¢ The left Kan extension Lan„ÇàœÅ is called the geometric realization |X‚Ä¢| of a
simplicial set X‚Ä¢, and it can be characterized as the coend
ÀÜ n‚àà‚àÜ
‚àÜ
‚àÜ
‚àÜn √ó Xn
(49)
which in turn coincides to a suitable coequalizer in Top in view of our 1.3
and 1.14 (and their duals).
The shape of this object is fairly easy to motivate, keeping open any
book in algebraic topology: the topological space |X‚Ä¢| is obtained choosing
a n-dimensional disk ‚àÜn for each n-simplex x ‚ààXn and gluing these
disks along the boundaries Œ¥i(‚àÜn) according to the degeneracy maps of
X‚Ä¢. The resulting space is (almost by deÔ¨Ånition) a cw-complex, because
each standard n-simplex is homeomorphic to a closed disk: this means that
|X‚Ä¢| has the topology induced by a sequential colimit of pushouts of spaces
X(0) ‚ÜíX(1) ‚Üí. . .
‚Ä¢ The left Kan extensionLan„Çài is the categorical realization œÑ1(X‚Ä¢) of a
simplicial set X‚Ä¢, resulting as the coend
ÀÜ n‚àà‚àÜ
‚àÜ
‚àÜ
i[n] √ó Xn.
(50)
6The name is motivated by the fact that if we consider the free-abelian group on NœÅ(X)n, the
various Cn = Z ¬∑ NœÅ(X)n = `
NœÅ(X)n Z organize as a chain complex, whose homology is precisely
the singular homology of X.

22
FOSCO LOREGIAN
This is the category whose objects are 0-simplices of X‚Ä¢, arrows are 1-
simplices, and where composition is deÔ¨Åned asking that f, g ‚ààX1 compose
if there exists a 2-simplex œÉ having 0-th face g and 2-nd face f; identities
are witnessed by degenerate simplices.
We leave the reader think about why we only mention degeneracies here, leaving
out faces (they are necessary, aren‚Äôt they?).
It should now be evident that there is a pattern (we will call it the ‚Äúnerve-
realization paradigm‚Äù) acting behind the scenes, and yielding the classical/singular
nerve as particular cases of a general construction interpreted from time to time in
diÔ¨Äerent settings; unraveling this machinery with the power of co/end calculus is
the scope of the following section.
3.2. Some famous realizations and their associated nerves.
Algebraic
topology, representation theory, and more generally every setting where a well-
behaved categorical structure is involved constitute natural factories for examples
of the nerve-realization paradigm. We now want to lay down an foundation for
a theory and a terminology that allows us to collect readable and enlightening
examples (leaving outside many interesting others!) of nerve-realizations pairs,
obtained varying the domain category of ‚Äúgeometric shapes‚Äù or the category where
this fundamental shapes are realized.
DeÔ¨Ånition 3.1 [context for nerve-realization]: Any functor œï: C ‚ÜíD from
a small category C to a (locally small) cocomplete category D is called a nerve-
realization context (a nr-context for short).
Given a nerve-realization context œï, we can prove the following result:
Proposition 3.2 [Nerve-realization paradigm]: The left Kan extension of œï along
the Yoneda embedding „Çà: C ‚Üí[Cop, Sets], i.e. the functor Rœï = Lan„Çàœï: [Cop, Sets] ‚Üí
D is a left adjoint, Rœï ‚ä£Nœï. Rœï is called the D-realization functor or the Yoneda
extension of œï, and its right adjoint the D-coherent nerve.
Proof. The cocomplete category D is Sets-tensored, and hence Lan„Çàœï can be
written as the coend in equation (40); so the claim follows from the chain of
isomorphisms
D
 Lan„Çàœï(P), d
 ‚àº= D
 ÀÜ c
[Cop, Sets](„Çàc, P) ¬∑ œïc, d

‚àº=
ÀÜ
c
D
 [Cop, Sets](„Çàc, P) ¬∑ œïc, d

‚àº=
ÀÜ
c
Sets
 [Cop, Sets](„Çàc, P), D(œïc, d)

‚àº=
ÀÜ
c
Sets
 Pc, D(œïc, d)

.
If we deÔ¨Åne Nœï(d) to be c 7‚ÜíD(œïc, d), this last set becomes canonically isomorphic
to [Cop, Sets](P, Nœï(d)).
‚ñ°
It is straightforward to recognize NœÅ and Ni here.

ENDS
23
Remark 3.3 : The nerve-realization paradigm can be rewritten in the following
equivalent form: there is an equivalence of categories, induced by the universal
property of the Yoneda embedding „ÇàC : C ‚Üí[Cop, Sets],
„Çà
‚àó
C : Cat(C, D) ‚àº= RAdj(bC, D)
(51)
whenever D is a cocomplete locally small category (in such a way that ‚Äúthe category
of nerve-realization contexts‚Äù is a high-sounding name for the category of functors
Cat(C, D)).
A famous result in Algebraic Topology [GZ67, GJ09] asserts that the geometric
realization functor R = |
|: sSet ‚ÜíTop commutes with Ô¨Ånite products: coend
calculus gives a massive simpliÔ¨Åcation of this result reducing it to the veriÔ¨Åcation
of the statement on representables only, but unfortunately isn‚Äôt powerful enough
to provide an additional simpliÔ¨Åcation: formally, we can only deÔ¨Åne a bijection
between the sets |‚àÜ[n] √ó ‚àÜ[m]| ‚àº= ‚àÜn √ó ‚àÜm; a certain amount of dirty work is
necessary to show that this bijection is in fact a homeomorphism with respect to
the natural topologies on the two sets.
Proof. If we take the commutativity of R with Ô¨Ånite products of representables for
granted, the proof that R(X √ó Y ) ‚àº= RX √ó RY is a simple computation:
R(X √ó Y ) ‚àº= R
 ¬¥ m Xm ¬∑ ‚àÜ[m]

√ó
 ¬¥ n Yn ¬∑ ‚àÜ[n]

‚àº= R
¬¥ mn(Xm ¬∑ ‚àÜ[m]) √ó (Yn ¬∑ ‚àÜ[n])

‚àº= R
¬¥ mn(Xm √ó Yn) ¬∑ (‚àÜ[m] √ó ‚àÜ[n])

‚àº=
¬¥ mn(Xm √ó Yn) ¬∑ R(‚àÜ[m] √ó ‚àÜ[n])
‚àº=
¬¥ mn(Xm √ó Yn) ¬∑ ‚àÜm √ó ‚àÜn
‚àº=
¬¥ mn(Xm ¬∑ ‚àÜm) √ó (Yn ¬∑ ‚àÜn)
‚àº=
 ¬¥ m Xm ¬∑ ‚àÜm
√ó
 ¬¥ n Yn ¬∑ ‚àÜn
‚àº= R(X) √ó R(Y )
where we applied, respectively, the ninja Yoneda lemma 2.1, the colimit preservation
property of R, its commutation with tensors, and its commutativity with Ô¨Ånite
products of representables.
‚ñ°
3.3. Examples of nerves and realizations.
A natural factory of nerve-real-
ization contexts is homotopical algebra, as such functors are often used to build
Quillen equivalences between model categories. This is somewhat related to the
fact that ‚Äútransfer theorem‚Äù for model structures often apply to the well-behaved
nerve functor.
But Quillen adjunctions between model categories are certainly not the only
examples of nr-paradigms!
The following list attempts to gather important examples of nr-contexts: for
the sake of completeness, we repeat the description of the two above-mentioned
examples of the topological and categorical realizations.

24
FOSCO LOREGIAN
Example 3.4 [Categorical nerve and realization]: In the case of œï = i: ‚àÜ
‚àÜ
‚àÜ‚Üí
Cat, we obtain the classical nerve Ni of a (small) category C, whose left adjoint
is the categorical realization (the fundamental category œÑ1X of X described in
[Joy02b]). The nerve-realization adjunction
œÑ1 : sSet ‚áÜCat: Ni
(52)
gives a Quillen adjunction between the Joyal model structure on sSet (see [Joy02b])
and the folk model structure on Cat.
Example 3.5 [Geometric nerve and realization]: If œï = œÅ: ‚àÜ
‚àÜ
‚àÜ‚ÜíTop is the
realization of a representable [n] in the standard topological simplex, we obtain
the adjunction between the geometric realization |X| of a simplicial set X and the
singular complex of a topological space Y , i.e. the simplicial set having as set of
n-simplices the continuous functions ‚àÜn ‚ÜíY . If we apply object-wise the free
abelian group functor to this simplicial set we obtain the simplicial abelian group
ZY , which under the Dold-Kan correspondence 3.9 gives rise to a (positive degree)
chain complex, the singular complex of Y . The homology of this chain complex
coincides with the singular homology of Y .
Example 3.6 [sSet-coherent nerve and realization]: If œï: ‚àÜ
‚àÜ
‚àÜ‚ÜíCat‚àÜ
‚àÜ
‚àÜis the
functor which realizes every representable [n] as a simplicial category having objects
the same set [n] = {0, 1, . . . , n} and as hom(i, j) the simplicial set obtained as the
nerve of the poset P(i, j) of subsets of the interval [i, j] which contain both i and
j,7 we obtain the (Cordier) simplicially coherent nerve and realization, which sends
C into a simplicial set constructed ‚Äúcoherently remembering‚Äù that C is a simplicial
category. This adjunction establishes a Quillen adjunction sSet ‚áÜCat‚àÜ
‚àÜ
‚àÜwhich
restricts to an equivalence between quasicategories (Ô¨Åbrant objects in the Joyal
model structure on sSet [Joy08]) and Ô¨Åbrant simplicial categories (with respect to
the Bergner model structure on Cat‚àÜ
‚àÜ
‚àÜ[Ber07]).
Example 3.7 [Moerdijk generalized intervals]: The construction giving the
topological realization of ‚àÜ[n] extends to the case of any ‚Äúinterval‚Äù in the sense
of [Moe95, ¬ßIII.1], i.e. any ordered topological space J having ‚Äúendpoints‚Äù 0, 1;
indeed every such space J deÔ¨Ånes a ‚Äúgeneralized‚Äù (in the sense of [Moe95, ¬ßIII.1])
topological n-simplex ‚àÜn(J): these data assemble into a nerve-realization context
œïJ : ‚àÜ
‚àÜ
‚àÜ‚ÜíTop.
Example 3.8 [Toposophic nerve and realization]: The correspondence Œ¥: [n] 7‚Üí
Sh(‚àÜn) deÔ¨Ånes a cosimplicial topos, i.e. a cosimplicial object in the category of
(spatial) toposes, which serves as a nr-context. Some geometric properties of this
nerve/realization are studied in [Moe95, ¬ßIII]: we outline an instance of a problem
where this adjunction naturally arises: let X, Y be the categories of sheaves over
topological spaces X, Y . Let X ‚ãÜY be the join of the two toposes seen as categories:
this blatantly fails to be a topos, but there is a rather canonical ‚Äúreplacement‚Äù
procedure
7In particular if i > j then P(i, j) is empty and hence so is its nerve.

ENDS
25
Cat √ó Cat
Cat
sSet
Topos
(X, Y)
X ‚ãÜY
Cat(‚àÜ‚Ä¢, X ‚ãÜY)
X ‚äõY
‚ãÜ
N
Lan„Çà(Œ¥)
Example 3.9 [The Dold-Kan correspondence]: The well-known Dold-Kan
correspondence [Dol58] asserts that there is an equivalence of categories between
simplicial abelian groups [‚àÜ
‚àÜ
‚àÜop, Ab] and chain complexes Ch+(Ab) with no negative
homology, and it can be seen as an instance of the nerve-realization paradigm.
In this case, the functor ‚àÜ
‚àÜ
‚àÜ‚ÜíCh+(Ab) sending [n] to Z‚àÜ[n] (the free abelian
group on ‚àÜ[n]) and then to the Moore complex M(Z‚àÜ[n]) determined by any
simplicial group A ‚àà[‚àÜ
‚àÜ
‚àÜop, Ab] as in [GJ09] is the nerve-realization context.
Example 3.10 [√âtale spaces as Kan extensions]: Let X be a topological space,
and Opn(X) its poset of open subsets. There exists a natural functor
A: Opn(X) ‚ÜíTop/X
(53)
sending U ‚äÜX to the same morphism U ‚ÜíX; this works as a nr-context giving
the pair of adjoint functors
Lan„ÇàA ‚ä£NA
(54)
where NA is deÔ¨Åned precisely taking the (pre)sheaf of sections of p ‚ààTop/X. The
resulting left adjoint is precisely the functor sending a presheaf F ‚àà[Opn(X), Sets]
to the space whose carrier is the disjoint union of stalks ÀúF = `
x‚ààX Fx, endowed
with the Ô¨Ånal topology turning all maps of the form Àús: U ‚ÜíÀúF sending y to the
equivalence class [s]y ‚ààFy.
This adjunction restricts to an equivalence of categories between the subcategory
Sh(X) of sheaves on X and the subcategory √ât(X) of √©tale spaces over X, giving a
formal method to prove [MLM92, Thm. II.6.2]. A complete proof can be found at
[Car], lectures 3 and 4.
Example 3.11 [The tensor product of modules as a coend]: Any ring R can
be regarded as an Ab-category with a single object, whose set of endomorphisms
is the ring R itself; once noticed this, we obtain natural identiÔ¨Åcations for the
categories of modules over R:
ModR ‚àº= Fun(Rop, Ab)
RMod ‚àº= Fun(R, Ab).
Given A ‚ààModR, B ‚ààRMod, we can deÔ¨Åne a functor TAB : Rop √ó R ‚ÜíAb which
sends the unique object to the tensor product of abelian groups A ‚äóZ B. The coend
of this functor can be computed as the coequalizer
coker
 `
r‚ààR A ‚äóZ B
r‚äó1
/
1‚äór
/ A ‚äóZ B

,
(55)
or in other words, there is a canonical isomorphism
ÀÜ ‚àó‚ààR
TAB ‚àº= A ‚äóR B. This
point of view on tensor products can be extremely generalized (see [ML98, ¬ßIX.6],
but more on this has been written in [Yon60, ¬ß4]): given functors F, G: Cop, C ‚ÜíV

26
FOSCO LOREGIAN
having values in a cocomplete monoidal category, we can deÔ¨Åne the tensor product
of F, G as the coend
F ‚ä†C G :=
ÀÜ c
Fc ‚äóV Gc.
(56)
Remark 3.12 : This can be regarded as part of a general theory which deÔ¨Ånes a
thc situation (see [Gra80, ¬ß1.1]; these are also called adjunctions of two variables
in newer references) as a triple t = (‚äó, ‚àß, [
,
]) of (bi)functors between three
categories S, A, B, deÔ¨Åned via the adjunctions
B(S ‚äóA, B) ‚àº= S(S, [A, B]) ‚àº= A(A, S ‚àßB).
(57)
Such an isomorphism uniquely determines the domains ant the variance of the
three functors involved, in each variable; to be more clear, however, we notice that
‚äó: S √ó A ‚ÜíB, and then ‚àß: Sop √ó B ‚ÜíA, and [
,
]: Aop √ó B ‚ÜíS. See Exercise
3.E1 to show that a given thc situation can be lifted to one on SIop√óJ, AI, BJ for
every I, J ‚ààCat.
To appreciate the next example we need to recall the following
Proposition 3.13 : The following properties for a functor F : C ‚ÜíSets are equivalent:
‚Ä¢ F commutes with Ô¨Ånite limits;
‚Ä¢ Lan„ÇàF commutes with Ô¨Ånite limits;
‚Ä¢ F is a Ô¨Åltered colimit of representable functors;
‚Ä¢ The category of elements C
¬¥
F of F (see Def.
4.1 and Prop.
4.12) is
coÔ¨Åltered.
Example 3.14 [Giraud theorem using coends]: The gist of Giraud theorem is
the following statement: left exact localizations of presheaf categories [Cop, Sets]
classify Grothendieck toposes (i.e. categories of sheaves Sh(C, J) with respect to a
Grothendieck topology J).
An accessible proof of this classical representation theorem, intertwined with the
theory of locally presentable categories (see for example [Vit06]), is contained at
the end of [MLM92].
We now try to outline an argument giving the localization between a presheaf
category and a category E satisfying the axioms of Giraud, hence ‚Äúrealizing‚Äù E as
a full subcategory of [Cop, Sets]. presheaves on C = Ec ‚äÇE, the subcategory of
compact object of E.8
The trick in the proof is to choose C wisely: to do this we use the fact that there
is a small full subcategory C ‚äÜE of compact objects, E<œâ, and a full embedding
Œπ: C ‚äÇE; this is a nerve-realization context (Def. 3.1), that activates coend calculus
to prove that
(1) The Œπ-nerve NŒπ is full and faithful and coincides with the inclusion of sheaves
into presheaves [Cop, Sets];
(2) Lan„ÇàŒπ is the left exact reÔ¨Çection.
8An object X ‚ààE is compact or Ô¨Ånitely presentable if the hom functor hom(X,
) commutes
with Ô¨Åltered colimits. This essentially means that X can be presented with Ô¨Ånitely many generators
and relations in the ‚Äútheory‚Äù of E.

ENDS
27
Let then
Lan„Çà(Œπ): [Cop, Sets]
/ E: NŒπ
o
(58)
be the nerve-realization adjunction.
It is a matter of checking the deÔ¨Ånition, to see that the associated nerve NŒπ is
fully faithful, and this gives the Ô¨Årst point: it remains then only to prove that the
functor Lan„Çà(Œπ) behaves like sheaÔ¨ÅÔ¨Åcation. This, in view of our characterization of
the unit and counit of the nerve-realization adjunction (Remark E4) means that we
have to manipulate the following chain of (iso)morphisms:
Lan„Çà(Œπ)(P) ‚àº=E(ŒπC, Lan„ÇàŒπ(P))
‚àº=E
 ŒπC,
¬¥ A PA √ó ŒπA

‚Üê
¬¥ A E
 ŒπC, PA √ó ŒπA

‚àº=
¬¥ A PA √ó E
 ŒπC, ŒπA

‚àº=
¬¥ A PA √ó C
 C, A

‚àº=PC
It only remains to prove that this functor is left exact. To do this we invoke Prop.
3.13. It also remains to characterize sheaves as those P such that Œ∑P is invertible.
Example 3.15 [Simplicial subdivision functor]: Let again ‚àÜ
‚àÜ
‚àÜbe the category
of nonempty Ô¨Ånite ordinals. The Kan Ex‚àûfunctor is an endofunctor of sSet =
[‚àÜ
‚àÜ
‚àÜop, Sets] turning every simplicial set X into a Kan complex9. This construction
is of fundamental importance in simplicial homotopy theory, and we now want
to organize the classical construction in the modern terms of a nerve-realization
paradigm on ‚àÜ
‚àÜ
‚àÜ.
First of all, recall ([GJ09]) that the nondegenerate m-simplices of ‚àÜ[n] are in
bijective correspondence with the subsets of {0, . . . , n} of cardinality m + 1; this
entails that the set of nondegenerate simplices of ‚àÜ[n] becomes a poset s[n] ordered
by inclusion when this partial order is tacitly transported along this bijection. We
can then consider the nerve NœÅ(s[n]) ‚ààsSet (see Example 3.5). This organizes into
a functor sd: ‚àÜ
‚àÜ
‚àÜ‚ÜísSet, which forms a nerve-realization paradigm: using Prop. 3.2
we obtain the adjunction
sSet
sSet
Sd
Ex
‚ä•
where Ex is the nerve Nsd associated to the nr-paradigm sd: the set of m-simplices
Ex(X)n is sSet(sd(‚àÜ[n]), X).
There is a canonical map sd(‚àÜ[n]) ‚Üí‚àÜ[n] which by precomposition and by the
Yoneda lemma, induces a map Xn = sSet(‚àÜ[n], X)
j‚àó
‚àí‚ÜísSet(sd(‚àÜ[n]), X) = Ex(X),
natural in X ‚ààsSet. This gives to Ex(
) the structure of a pointed functor, and in
9As deÔ¨Åned in [GJ09], a Kan complex is a simplicial set Y such that the functor hom(
, X)
turns each horn inclusion Œõk[n] ‚Üí‚àÜ[n] into an epimorphism.

28
FOSCO LOREGIAN
fact a well-pointed functor in the sense of [Kel80]; this, Ô¨Ånally, means that we can
deÔ¨Åne
Ex‚àû(X) ‚àº= lim
‚àí‚Üí

X ‚ÜíEx(X) ‚ÜíEx2(X) ‚Üí¬∑ ¬∑ ¬∑

(59)
as an endofunctor on sSet. The functor Ex‚àûenjoys a great deal of formal properties
useful in the study of simpicial homotopy theory (the most important of which is
that Ex‚àû(X) is a Kan complex for each X ‚ààsSet, see [GJ09]). A more intrinsic
characterization of this construction is contained in [EP08], and deÔ¨Ånes not only
Sd = Lan„Çàsd is a Left Kan extension, but also sd: they consider the diagram of
2-cells
‚àÜ
‚àÜ
‚àÜ√ó ‚àÜ
‚àÜ
‚àÜ
sSet √ó sSet
sSet
‚àÜ
‚àÜ
‚àÜ
sSet
„Çà‚àÜ
‚àÜ
‚àÜ√ó„Çà‚àÜ
‚àÜ
‚àÜ
√ó
‚äï
„Çà‚àÜ
‚àÜ
‚àÜ
Sd
sd
where ‚äï: ‚àÜ
‚àÜ
‚àÜ√ó ‚àÜ
‚àÜ
‚àÜ‚Üí‚àÜ
‚àÜ
‚àÜis the ordinal sum deÔ¨Åned by [m] ‚äï[n] = [m + n + 1].
Example 3.16 [Isbell duality]: Isbell duality consists of the following statement:
let V be a co/complete symmetric monoidal category V (this will be called a
B√©nabou cosmos in the subsequent sections), and C ‚ààV-Cat a V-enriched cate-
gory; if we denote, as always, [C, V] and [Cop, V] the categories of covariant and
contravariant functors C ‚ÜíV, then we have an adjunction
[C, V]op
[Cop, V].
O
Spec
‚ä•
This means that we Ô¨Ånd a bijection of hom-sets
[C, V]op O(X), Y

= [C, V]
 Y, O(X)
 ‚àº= [Cop, V](X, Spec(Y ))
(60)
induced by the functors
O: X 7‚Üí

c 7‚Üí[C, V]
 X, „ÇàCop(c)

Spec: Y 7‚Üí

c 7‚Üí[C, V]op „ÇàCop(c), Y

Executed by an expert in coend-fu, this statement is almost a tautology thanks to
Thm. 1.18:
[C, V]
 Y, O(X)

=
ÀÜ
d
V

Y d,
ÀÜ
a
V(Xa, C(a, d))

‚àº=
ÀÜ
da
V
 Y d, V(Xa, C(a, d))

‚àº=
ÀÜ
a
V

Xa,
ÀÜ
d
V(Y d, C(a, d))


ENDS
29
= [Cop, V]
 X, Spec(Y )

.
E1 Use coend-fu to show that starting from a given thc-situation t = (‚äó, ‚àß, [
,
]), we can
induce a new one t‚Ä≤ = (‚ä†, ‚ãè, ‚ü®
,
‚ü©), on the categories SIop√óJ, AI, BJ, for any I, J ‚ààCat;
start deÔ¨Åning F ‚ä†G ‚ààBJ out of F ‚ààSIop√óJ, G ‚ààAI, as the coend
ÀÜ i
F(i,
) ‚äóGi
(61)
and show that there is an adjunction
BJ(F ‚ä†G, H) ‚àº
= SIop√óJ(F, ‚ü®G, H‚ü©) ‚àº
= AI(G, F ‚ãèH)
(62)
for suitable functors ‚ü®
,
‚ü©and
‚ãè
, developing BJ(F ‚ä†G, H) = . . . in two ways.
E2 In this exercise Top is a nice category for algebraic topology. DeÔ¨Åne the category Œì
having objects the power-sets of Ô¨Ånite sets, and morphisms the functions f : 2n ‚Üí2m
preserving unions and set-theoretical diÔ¨Äerences.
(1) Show that there is a functor ‚àÜ
‚àÜ
‚àÜ,‚ÜíŒì, sending the chain {0 < 1 < ¬∑ ¬∑ ¬∑ < n} in ‚àÜ
‚àÜ
‚àÜto
{‚àÖ‚äÇ{0} ‚äÇ¬∑ ¬∑ ¬∑ ‚äÇ{0, . . . , n}} in Œì.
(2) The category of presheaves of spaces Œìop ‚ÜíTop is called the category of Œì-spaces;
a Œì-space is Segal if it turns pushout in Œì (describe them) into homotopy pullback
in Top.
More explicitly, let A: Œìop ‚ÜíTop be a Œì-space, it is Segal if (a) A(0) is contractible;
(b) the canonical map A(n) ‚ÜíQn
i=1 A(1) is a homotopy equivalence in Top.
(3) Let X ‚ààTop and A: Œìop ‚ÜíTop; deÔ¨Åne X ‚äóA to be the coend (in Top)
ÀÜ n‚ààŒì
Xn √ó A(n)
(63)
Show that this deÔ¨Ånes a bifunctor Œìop √ó Œì ‚ÜíTop.
Show that S1 ‚äóŒì A is
homeomorphic to the geometric realization of the simplicial space ‚àÜ
‚àÜ
‚àÜop ‚ÜíŒìop
A
‚àí‚Üí
Top. If A is Segal, S1 ‚äóŒì A ‚àº
= BA(1), where B(‚àí) is the classifying space functor.
(4) Let C: Œìop ‚ÜíTop-Cat; let X ‚äóŒì C be the coend (in the category of topological
categories)
ÀÜ n‚ààŒì
Xn √ó C(n).
(64)
Show that X ‚äóŒì (
): Top-Cat ‚ÜíCat commutes with Ô¨Ånite products, namely if
C, D are topological categories, then
X ‚äóŒì (C √ó D) ‚àº
= (X ‚äóŒì C) √ó (X ‚äóŒì D).
(65)
E3 Compute the J-realization (see Example 3.7) of X ‚ààsSet in the case J is the Sierpi≈Ñski
space {0 < 1} with topology {‚àÖ, J, {1}}.
E4 Write explicitly the unit and counit of the nerve and realization adjunction Lan„Çàœï ‚ä£Nœï.
E5 Show that the nerve functor Nœï is canonically isomorphic to Lanœï „Çà, so that there is
an adjunction
Lan„Çàœï ‚ä£Lanœï „Çà.
(66)
E6 [
] Example 3.8 can be expanded and studied more deeply:
‚Ä¢ Is ‚äôa monoidal structure on Topos?
‚Ä¢ Under which conditions on X, Y is X ‚äôY equivalent to a topos of sheaves on a
topological space X ‚äôY ?
‚Ä¢ What are the properties of the bifunctor (X, Y ) 7‚ÜíX ‚äôY ? Does this operation
resemble or extend the topological join?
Exercises for ¬ß3

30
FOSCO LOREGIAN
E7 Generalize the nerve-realization paradigm to the setting of separately cocontinuous, or
multilinear functors. Given œï: C1 √ó ¬∑ ¬∑ ¬∑ √ó Cn ‚ÜíD, where each Ci is small and D is
cocomplete, show that there exists an equivalence of categories
Cat(C1 √ó ¬∑ ¬∑ ¬∑ √ó Cn, D) ‚àº
= Mult( b
C1 √ó ¬∑ ¬∑ ¬∑ √ó c
Cn, D)
(67)
where Mult(
,
) is the category of all functors that are cocontinuous in each variable
once all the others have been Ô¨Åxed (hint: show it ‚Äòby induction‚Äô composing multiple
Kan extensions). Given Œ∏ ‚ààCat(C1 √ó ¬∑ ¬∑ ¬∑ √ó Cn, D), describe the right adjoint of each
Œ∏(c1, . . . , c‚ó¶
i , . . . , cn): b
Ci ‚ÜíD (c‚ó¶
i means that all the objects cj are Ô¨Åxed for j Ã∏= i and
ci ‚ààC runs free). All these functors assemble to a ‚Äòvector-nerve‚Äô N : D ‚Üíb
C1 √ó ¬∑ ¬∑ ¬∑ √ó c
Cn.
E8 Let „ÇàC : C ‚Üí[Cop, Sets] be the Yoneda embedding, and
„Çà
C : Cop ‚Üí[C, Sets] its con-
travariant counterpart. Show that in Example 3.16 we can characterize O as Lan„ÇàC(
„Çà
C).
4. Weighted limits.
The theory of weighted co/limits is a cornerstone of enriched category theory: it
can be easily formulated and understood in terms of co/end calculus.
The material presented in this chapter comes from [Rie14, II.7]; even the notation
is partly unchanged. A more classical reference for the subject is [Kel82, KS74]: we
do not make any attempt to recall the fundamental deÔ¨Ånitions of enriched category
theory, heavily relying on these classical references, together with [Bor94b].
It‚Äôs easy to motivate why co/limits are a fundamental entity of basic category
theory. Nevertheless, this notion becomes too strict when one deals with enriched
categories; the ‚Äúconical‚Äù shape of a classical co/limit is not general enough to
encompass the fairly rich variety of shapes in which co/limits in enriched categories
arise (the reader has to keep in mind, here, that enriched categories constitute a
model for higher category theory; there bare co/limits are ill-behaved in several
respects, and they must be replaced by their derived counterpart. The relation
between the two concepts will become clearer along section 7); na√Øvely speaking,
one of these shapes gives rise to the notion of a cone for a functor F : J ‚ÜíC, having
as limit the well-known initial/terminal object in a suitable category of diagrams
to/from F. The theory of weighted co/limits is based on the idea that in its full
generality a co/limit takes two arguments: the diagram F of which we want to
compute the co/limit, and a presheaf W ‚ààbC along which we ‚Äòweight‚Äô the co/limit:
conical colimits arise when we choose the terminal presheaf that sends every object
of C on the singleton of Sets.
We cannot touch but the surface of this intricate topic: the interested reader
can consult [Kel89], a presentation of unmatched lucidity Ô¨Ålled with enlightening
examples. We choose to follow a relatively more modern approach, for we are
interested in translating the fundamentals about weighted co/limits into a kata
of co/end-fu. Also, the focus in this section is not on proofs; this is why many
arguments, not relying on category theory, are only brieÔ¨Çy sketched.
Local notation.
Throughout this section, weight is a synonym of presheaf ; we
call ordinary a category which is enriched over Sets with its obvious cartesian closed
structure. All along the section, we assume that V denotes a B√©nabou cosmos, i.e.
a symmetric monoidal closed, complete and cocomplete category which is the ‚Äúbase‚Äù
for our enriched category theory.

ENDS
31
4.1. A brief prelude: the category of elements of a presheaf.
DeÔ¨Ånition 4.1 : Let C be an ordinary category, and let W : C ‚ÜíSets be a functor;
the category of elements C
¬¥
W of W is the category having objects the pairs
(c ‚ààC, u ‚ààWc), and morphisms (c, u) ‚Üí(c‚Ä≤, v) those f ‚ààC(c, c‚Ä≤) such that
W(f)(u) = v.
Notation 4.2 : The somewhat exotic notation ‚ÄúC
¬¥
W‚Äù for the category of elements
of W is inspired by the wondrous paper [Gra]. Other references call it
¬¥
W (it is
obvious why we can‚Äôt stick to this more compact notation) or Elts(W).
Proposition 4.3 : The category C
¬¥
W deÔ¨Åned in 4.1 can be equivalently characterized
as each of the following:
i) The category which results from the pullback
C
¬¥
W
/

‚åü
Sets‚àó
U

C
W
/ Sets
(68)
where U : Sets‚àó‚ÜíSets is the forgetful functor which sends a pointed set to
its underlying set;
ii) The comma category (‚àó‚ÜìW) of the cospan {‚àó} ‚ÜíSets
W
‚Üê‚àíC, where
{‚àó} ‚ÜíSets chooses the terminal object of Sets;
iii) The opposite of the comma category („ÇàC ‚Üì‚åàW‚åâ), where ‚åàW‚åâ: {‚àó} ‚Üí
[C, Sets] is the name of the functor W, i.e. the unique functor choosing the
presheaf W ‚àà[C, Sets]:
(C
¬¥
W)op
‚àó
Cop
[C, Sets]
‚åàW ‚åâ
„ÇàC
Proof. The proof that these categories are all canonically isomorphic to C
¬¥
W is an
exercise in Yoneda lemma and universal properties that we leave to the reader.
‚ñ°
Proposition 4.4 : The category of elements C
¬¥
W of a functor W : C ‚ÜíSets comes
equipped with a canonical discrete Ô¨Åbration10 to the domain of W, which we denote
Œ£: C
¬¥
W ‚ÜíC, deÔ¨Åned forgetting the distinguished element u ‚ààWc.
Proof. We only have to prove that Œ£: C
¬¥
W ‚ÜíC is an isoÔ¨Åbration; given an
isomorphism œï: x ‚Üíc = Œ£(c, u), we can deÔ¨Åne v ‚ààWx to be W(œï‚àí1)(u).
‚ñ°
10Given a functor p: E ‚ÜíB, an arrow g : e‚Ä≤ ‚Üíe in E is p-cartesian if for any g‚Ä≤ : e‚Ä≤‚Ä≤ ‚Üíe such
that pg‚Ä≤ = pg ¬∑ h in B, there is a unique lift k of h such that g‚Ä≤ = g ¬∑ h. A functor p : E ‚ÜíB is a
Ô¨Åbration if each f : b ‚Üípe in B has a p-cartesian lift with codomain e.

32
FOSCO LOREGIAN
Remark 4.5 [A less naive look at limits]: Let F : J ‚ÜíC be a functor be-
tween small ordinary categories. The limit lim
‚Üê‚àíF of F can be characterized as the
representing object of a suitable presheaf: indeed, we have the natural isomorphism
C(c, lim
‚Üê‚àíF) ‚àº= SetsJ(‚àó, C(c, F(
)))
(69)
where ‚àóis a shorthand to denote the terminal functor C ‚ÜíSets: c 7‚Üí‚àósending
every object to the terminal set, and C(a, F(
)) is the functor J ‚ÜíSets sending j
to A(c, Fj).
Dually, the colimit lim
‚àí‚ÜíF of F : J ‚ÜíC can be characterized, in the same notation,
as the representing object in the natural isomorphism
J(lim
‚àí‚ÜíF, c) ‚àº= SetsJ(‚àó, J(F(
), c)).
(70)
SetsJ(‚àó, C(F, c)) is a set of natural transformations and c 7‚ÜíSetsJ(‚àó, A(F, c)) is a
functor: the leading idea behind the deÔ¨Ånition of weighted co/limit is to generalize
this construction to admit shapes other than the terminal presheaf for the domain
functor. We can package this intuition in the following deÔ¨Ånition:
DeÔ¨Ånition 4.6 [Weighted limit and colimit]: Given functors F : J ‚ÜíC and
W : J ‚ÜíSets, we deÔ¨Åne the weighted limit of F by W as a representative for the
functor sending c ‚ààC to SetsJ(W, C(c, F(
))), in other words the weighted limit of
F by W is an object lim
‚Üê‚àí
W F ‚ààC such that
C
 c, lim
‚Üê‚àí
W F
 ‚àº= SetsJ(W, C(c, F(
)))
(71)
naturally in c ‚ààC.
Dually we deÔ¨Åne the colimit of F : J ‚ÜíC weighted by
W : Jop ‚ÜíSets to be an object lim
‚àí‚Üí
W F ‚ààC such that
C
 lim
‚àí‚Üí
W F, c
 ‚àº= SetsJop(W, C(F(
), c)).
(72)
Example 4.7 : Let f : ‚àÜ1 ‚ÜíC the functor choosing an arrow f : x ‚Üíy in C, and
W : ‚àÜ1 ‚ÜíSets the functor sending {0 < 1} to the single arrow {0, 1} ‚Üí{0}; then
a natural transformation W ‚áíC(c, f) consists of arrows W0 ‚ÜíC(c, x), W1 ‚Üí
C(c‚Ä≤, y), namely on the choice of two arrows h, k: c ‚Üíx such that fh = fk: the
universal property for lim
‚Üê‚àí
W f implies that this is the kernel pair of the arrow f,
namely that h, k Ô¨Åll in the pullback
c
h

k
$
"
lim
‚Üê‚àí
W f
/

‚åü
x
f

x
f
/ y
(73)
The next result is the awaited characterization of weighted co/limits as co/ends:
we employ the same notation of Def. 4.6

ENDS
33
Proposition 4.8 [Weighted co/limits as co/ends]: When the end below and
the Sets-cotensor (X, a) 7‚ÜíaX exist, we can express the weighted limit lim
‚Üê‚àí
W F for
F : J ‚ÜíC as an end using the chain of isomorphisms
SetsJ(W, C(c, F)) ‚àº=
ÀÜ
j‚ààJ
Sets(Wc, C(c, Fj))
‚àº=
ÀÜ
j‚ààJ
C
 c, FjW j
‚àº= C

c,
ÀÜ
j‚ààJ
FjW j
and the uniqueness for a representing object. Indeed, the above string of natural
isomorphisms implies that there is a canonical isomorphism
lim
‚Üê‚àí
W F ‚àº=
ÀÜ
j‚ààJ
FjW j
(74)
Example 4.9 : Consider the particular case of two parallel functors W, F : C ‚ÜíSets;
then we can easily see that lim
‚Üê‚àí
W F coincides with the set of natural transformations
W ‚áíF, since the cotensor FcW c is precisely the set Sets(Wc, Fc).
Example 4.10 [Kan extensions]: The ninja Yoneda lemma 2.1, rewritten in this
notation, says that lim
‚Üê‚àí
C(c,
)F ‚àº= Fc (or, in case F is contravariant, lim
‚Üê‚àí
C(
,c)F ‚àº=
Fc). This can be memorized as ‚Äúrepresentably-weighted co/limits are evaluation‚Äù
(see Remark 2.6 on the ‚ÄòDirac delta‚Äô) and suggests that Kan extensions can be
expressed as suitable weighted co/limits, and more precisely that they can be
characterized as those weighted co/limits where the weight is a representable
functor:
RanK F(
) ‚àº=
ÀÜ
c‚ààC
FcD(
,Kc) ‚àº= lim
‚Üê‚àí
D(
,K
)F.
(75)
The following Remark and Proposition constitute a central observation.
Remark 4.11 [
, The Grothendieck construction absorbs weights]:
DeÔ¨Ånition 4.6 can be extended in the case F : C ‚ÜíA is a V-enriched functor
between V-categories, and W : C ‚ÜíV is a V-co/presheaf; this is the setting
where the notion of a weighted co/limit acquires a supremacy over the ‚Äúclassical‚Äù
one (where the weight is the terminal presheaf). When V = Sets, indeed, the
Grothendieck construction sending a (co)presheaf into its category of elements
turns out to trivialize almost completely the theory of Sets-weighted limits: as the
following discussion shows, in such a situation every weighted limit can be expressed
as a classical (we call them conical, due to the shape of the weight) limit.
Proposition 4.12 [Sets-weighted limits are limits]: As shown in Prop. 4.4, the
category C
¬¥
W comes equipped with a Ô¨Åbration Œ£: C
¬¥
W ‚ÜíC, such that for any
functor F : C ‚ÜíA one has
lim
‚Üê‚àí
W F ‚àº=
lim
‚Üê‚àí
(c,x)‚ààC
¬¥
W
F ‚ó¶Œ£.
(76)

34
FOSCO LOREGIAN
Proof. The proof goes by inspection, using the characterization of the end
¬¥
c‚ààC FcW c
as an equalizer (see Proposition 1.14), and the characterization of Sets-cotensors as
iterated products, showing that
ÀÜ
c‚ààC
FcW c ‚àº= eq
 Y
c‚ààC
FcW c ‚áí
Y
c‚Üíc‚Ä≤
Fc‚Ä≤W c
‚àº= eq
 Y
c‚ààC
Y
x‚ààW c
Fc ‚áí
Y
c‚Üíc‚Ä≤
Y
x‚ààW c
Fc‚Ä≤
(‚ãÜ) ‚àº= eq

Y
(c,x)‚ààC
¬¥
W
Fc ‚áí
Y
(c,x)‚Üí(c‚Ä≤,x‚Ä≤)‚ààC
¬¥
W
Fc‚Ä≤
‚àº=
lim
‚Üê‚àí
(c,x)‚ààC
¬¥
W
F ‚ó¶Œ£
(equation (‚ãÜ) is motivated by the fact that every arrow œï: Œ£(c, x) ‚Üíc‚Ä≤ has a unique
lift (c, x) ‚Üí(c‚Ä≤, x‚Ä≤) since W(œï)(x) = x‚Ä≤m).
‚ñ°
Remark 4.13 : When we consider Kan extensions as weighted co/limits, this result
agrees with the classical theory: if the weight has the form W = D(d, K‚àí) for an
object d ‚ààD, and a functor K : C ‚ÜíD, then the category of elements C
¬¥
W is
precisely the comma category (d ‚ÜìK): the right Kan extension of F along K can
be computed as the conical limit of the functor FU, where U : (d ‚ÜìK) ‚ÜíC is the
obvious forgetful functor.
Obviously, when every weighted limit exists in A, we can prove that the corre-
spondence (W, F) 7‚Üílim
‚Üê‚àí
W F is a bifunctor:
lim
‚Üê‚àí
(
) (=):
 SetsCop √ó AC ‚àí‚ÜíA.
(77)
A number of useful corollaries of this fact:
‚Ä¢ The unique, terminal natural transformation W ‚Üí‚àóinduces a comparison
arrow between the weighted limit of any F : C ‚ÜíA and the classical
(conical) limit: lim
‚Üê‚àíF ‚Üílim
‚Üê‚àí
W F.11 As an example, the classical limit of
the functor f : ‚àÜ[1] ‚ÜíA described in Example 4.7 consists of the object
a = src(f); hence the comparison arrow consists of the unique factorization
of two copies of ida along the kernel pair of f.
‚Ä¢ The functor lim
‚Üê‚àí
(
)F is continuous, namely we can prove the suggestive
isomorphism
lim
‚Üê‚àí
 lim
‚àí‚ÜíJ Wj

F ‚àº= lim
‚Üê‚àíJ
 lim
‚Üê‚àí
WjF

,
(78)
valid for any small diagram of weights J ‚Üí[C, Sets]: j 7‚ÜíWj.
Example 4.14 : Ends can be computed as weighted limits: given H : Cop √ó C ‚ÜíD
we can take the hom functor C(
,
): Cop √ó C ‚ÜíSets as a weight, and if the
11The existence of the map lim
‚Üê‚àíF ‚Üílim
‚Üê‚àí
W F reinforces the intuition of lim
‚Üê‚àí
W F as a ‚Äúfattened
up‚Äù version of lim
‚Üê‚àíF. This intuition will become clearer along 7.

ENDS
35
weighted limit exists, we have the chain of isomorphisms
lim
‚Üê‚àí
C(
,
)H ‚àº=
ÀÜ
(c,c‚Ä≤)‚ààCop√óC
H(c, c‚Ä≤)C(c,c‚Ä≤) ‚àº=
ÀÜ
c
 ÀÜ
c‚Ä≤ H(c, c‚Ä≤)C(c,c‚Ä≤) 2.1
‚àº=
ÀÜ
c
H(c, c).
(79)
Remark 4.15 : This characterization will turn out to be useful during our discussion
of simplicially coherent co/ends. See 7.38.
Weighted colimits are discussed in Exercise 4.E3 and stem from a straightforward
dualization process; we refer freely to both concepts from now on, leaving the details
to the reader.
Remark 4.16 : Aside from showing that ‚Äúweighted limits are the true enriched-
categorical limits‚Äù, the above examples and the last characterization of ends as
weighted limits are fundamental steps towards a sensible deÔ¨Ånition of enriched ends:
given a B√©nabou cosmos V and a V-functor H : Cop √ó C ‚ÜíV, we deÔ¨Åne
¬¥
c H(c, c)
to be the limit of H weighted by C(
, =): Cop ‚ä†C ‚ÜíV (see DeÔ¨Ånition 4.22 for
the notation C ‚ä†D).
Remark 4.17 : Let F : C ‚ÜíA, W : C ‚ÜíV, U : Cop ‚ÜíV be V-functors and let A
be V-tensored. There are canonical isomorphisms
A(lim
‚àí‚Üí
W F, x) ‚àº= lim
‚Üê‚àí
W A(F, x)
(80)
A(y, lim
‚Üê‚àí
UF) ‚àº= lim
‚Üê‚àí
W A(y, F).
(81)
This can be recorded in the motto ‚Äúthe hom functor commutes with weighted limits‚Äù
(prove it as an exercise).
Example 4.18 [The cone construction as a weighted colimit]: Let K be a
ring, and V = Ch(K) the category of chain complexes of K-modules. Considering V
as a V-category in the obvious way, we aim to prove that the mapping cone C(f) =
X‚àó[1]‚äïY‚àóof a chain map f : X‚àó‚ÜíY‚àó[Wei94, 1.5.1] in Vcan be characterized as the
weighted colimit lim
‚àí‚Üí
W f, where f : ‚àÜ[1] ‚ÜíV is the arrow f, and W : ‚àÜ[1]op ‚ÜíV
is the functor which chooses the map S1(K)‚àó‚ÜíD2(K)‚àó, where Sn(K)‚àó= K[n]‚àó
is the chain complex with the only nonzero term K concentrated in degree ‚àín, and
Dn(K)‚àóis the complex
¬∑ ¬∑ ¬∑
/ 0
/ K
K
/ 0
/ ¬∑ ¬∑ ¬∑ ,
where the Ô¨Årst nonzero term is in degree ‚àín.
There is an obvious inclusion
Sn
‚àó,‚ÜíDn+1
‚àó
:
¬∑ ¬∑ ¬∑
/ 0
/ 0

/ K
/ 0
/ ¬∑ ¬∑ ¬∑
¬∑ ¬∑ ¬∑
/ 0
/ K
K
/ 0
/ ¬∑ ¬∑ ¬∑ .
We now aim to prove that
C(f) ‚àº=
ÀÜ i‚àà‚àÜ1
W(i) ‚äóf(i).
(82)

36
FOSCO LOREGIAN
In view of (the dual of) Exercise 1.E12, it is enough to show that there is a pushout
square
W(1) ‚äóf(0)
‚åú
/

W(1) ‚äóf(1)

W(0) ‚äóf(0)
/ C(f)
This is a rather simple exercise in universality, given the maps
B
( 0
1)
/ C(f)
A ‚äïA[1].
  0 1
f 0

o
(83)
In addition to those of Def. 4.3 is a fourth characterization for the category of
elements of a presheaf that couches it as a particular weighted colimit which, using
the formalism exposed in this section, can be written as a coend. Example 4.19
below is a guided exercise in proving and clarifying this statement.
Example 4.19 [The category of elements of a presheaf]: The scope of
this example is to prove that the category of elements of a functor F : C ‚ÜíSets
introduced in Def. 4.1 can be characterized as a Cat-weighted colimit: it is, in
particular, the category isomorphic to the colimit
C
¬¥
W ‚àº=
ÀÜ c‚ààC
c/C √ó Wc
(84)
where Wc is the set, regarded as a discrete category; it is, in other words, isomorphic
to the weighted colimit lim
‚àí‚Üí
JW, where J : Cop ‚ÜíCat is the functor c 7‚Üíc/C (the
‚Äúcoslice‚Äù category of arrows c ‚Üíx).
To prove this statement, we verify that C
¬¥
W has the universal property of the
coequalizer of the pair
a
f : a‚Üíb
b/C √ó Wa
Œ±
/
Œ≤
/
a
c‚ààC
c/C √ó Wc
(85)
where Œ± has components Œ±f : b/C √ó Wa
1√óF f
‚àí‚àí‚àí‚àí‚Üíb/C √ó Wb sending
h b
‚Üì
x
i
, u

7‚Üí
h b
‚Üì
x
i
, F(f)u

and Œ≤ has components Œ≤f : b/C √ó Wa
f ‚àó√óW a
‚àí‚àí‚àí‚àí‚àí‚Üía/C √ó Wa sending
h b
‚Üì
x
i
, u

7‚Üí

a
f‚àí‚Üíb
‚Üì
x

, u

. Of course, these maps are composed with the suitable
coproduct injections.
It‚Äôs rather easy now to deÔ¨Åne a functor
Œ∏:
a
a‚ààC
a/C √ó Wa ‚àí‚ÜíC
¬¥
W
(86)
having components Œ∏a : a/C√óWa ‚ÜíC
¬¥
W sending
h a
f‚Üì
b
i
, u ‚ààFa

7‚Üí(b, F(f)(u) ‚ààFb),
which coequalizes Œ± and Œ≤. This functor Œ∏ has the universal property of the coequal-
izer: given any other Œ∂ : `
a‚ààC a/C√óWa ‚ÜíK we can deÔ¨Åne a functor Œ∂ : C
¬¥
W ‚ÜíK
such that
Œ∂(a, u ‚ààFa) = Œ∂(ida, u).
(87)

ENDS
37
Now notice that every map Œ∂‚Ä≤ that coequalizes (Œ±, Œ≤) has the property that
Œ∂‚Ä≤ h b
g‚Üì
x
i
, F(f)u

= Œ∂‚Ä≤

a
f‚àí‚Üíb
‚Üì
x

, u

(88)
It is now a routine veriÔ¨Åcation to see that Œ∂ ‚ó¶Œ∏a = Œ∂a, and every other functor with
this property must coincide with our Œ∂. This concludes the proof.
Remark 4.20 : The reader may have noticed that all the above discussion gives a
Ô¨Åfth presentation for the category of elements C
¬¥
W, as the image of W under the
Kan extension Lan„ÇàJ: in the language of ¬ß3, J : Cop ‚ÜíCat is the nr-context of
the paradigm
C
¬¥
: [C, Sets]
/ Cat: NJ
o
(89)
where NJ : Cat ‚Üí[C, Sets] is the ‚Äúnerve‚Äù functor sending A to c 7‚ÜíCat(c/C, A).
Remark 4.21 : An alternative approach to characterize C
¬¥
W is the following: the
category C
¬¥
W is precisely the lax limit of W regarded as a Cat-valued presheaf
[Kel89, ¬ß4], [Gra, Str76].
A fundamental step to write the theory of weighted limits relies upon the above-
mentioned isomorphism
A
 m, lim
‚Üê‚àí
W F
 ‚àº= VC(W, A(m, F(
)))
(90)
valid in a V-category A naturally in any object m ‚ààA; this isomorphism has to
be interpreted in the base-cosmos V, and this means that we have to Ô¨Ånd a way
to interpret the category VC as an object [C, V] of V: to do this, we must endow
V Cat with a closed symmetric monoidal structure, such that
V-Cat(C ‚ä†E, D) ‚àº= V-Cat(E, [C, D]).
(91)
DeÔ¨Ånition 4.22 : Given two V-categories C, D we deÔ¨Åne the V-category C ‚ä†D
having
‚Ä¢ as objects the set C √ó D, and
‚Ä¢ as V-object of arrows (c, d) ‚Üí(c‚Ä≤, d‚Ä≤) the object
C(c, c‚Ä≤) ‚äóD(d, d‚Ä≤) ‚ààV.
(92)
The free V-category I associated to the terminal category is the unit object for this
monoidal structure.
Proposition 4.23 : (V-Cat, ‚ä†) is a closed monoidal structure, with internal hom
denoted [
,
]: V-Catop √ó V-Cat ‚ÜíV-Cat.
Proof. Given C, D ‚ààV-Cat we deÔ¨Åne a V-category whose objects are V-functors
F, G: C ‚ÜíD and where (‚Äòabstracting‚Äô Theorem 1.18 to the enriched setting) the
V-object of natural transformations F ‚áíG is deÔ¨Åned via the end
[C, D](F, G) :=
ÀÜ
c‚ààC
D(Fc, Gc).
(93)

38
FOSCO LOREGIAN
Recall that in the unenriched case, the end was better understood as the equalizer
of a pair of arrows:
ÀÜ
c‚ààC
D(Fc, Gc) ‚àº= eq
 Y
c‚ààC
D(Fc, Gc) ‚áí
Y
c,c‚Ä≤
Y
c‚Üíc‚Ä≤
D(Fc, Gc‚Ä≤)

(94)
In the enriched case, we can consider the same symbol, and re-interpret the product
Q
C(c,c‚Ä≤) as a suitable power in V:
ÀÜ
c‚ààC
D(Fc, Gc) ‚àº= eq
 Y
c‚ààC
D(Fc, Gc) ‚áí
Y
c,c‚Ä≤
D(Fc, Gc‚Ä≤)C(c,c‚Ä≤)
(95)
(see also [Gra80, ¬ß2.3], [Dub70] for a more detailed discussion about co/ends in
enriched setting.)
It remains to prove, now, that the isomorphism (91) holds: this is rather easy,
since in the above notations, any functor F : C ‚ä†E ‚ÜíD deÔ¨Ånes a unique functor
ÀÜF : E ‚Üí[C, D].12
‚ñ°
The given deÔ¨Ånition for the enriched end allows us to state an elegant form of
the V-enriched Yoneda lemma:
Remark 4.24 [V-Yoneda lemma]: Let D be a small V-category, d ‚ààD an object,
and F : D ‚ÜíV a V-functor. Then the canonical map
Fd ‚àí‚Üí[D, V](D(d,
), F)
(96)
induced by the universal property of the involved end13 is a V-isomorphism.
Homotopy co/limits as weighted co/limits.
We can express the BousÔ¨Åeld-
Kan construction for the homotopy co/limit functor using co/end calculus (see 7.2.1
for a crash course on what‚Äôs an homotopy co/limit). We condense BousÔ¨Åeld-Kan
construction in the following series of examples.
Theorem 4.25 [The Bousfield-Kan formula for homotopy co/limits]: Let
F : J ‚ÜíMbe a diagram in a model category (M, wk, cof, fib) which is tensored and
cotensored over the category sSet of simplicial sets by functors ‚ãî: sSetop √ó M ‚ÜíM
and ¬∑: sSet √ó M ‚ÜíM. Then the homotopy limit holim
‚Üê‚àí‚àí‚àíF of F can be computed as
the end
ÀÜ
j
N(J/j) ‚ãîF(j),
(97)
and the homotopy colimit holim
‚àí‚àí‚àí‚ÜíF of F can be computed as the coend
ÀÜ j
N(j/J) ¬∑ F(j).
(98)
12Notice that for any two objects e, e‚Ä≤
‚àà
E, the collection of arrows hom(e, e‚Ä≤)
‚Üí
hom(F(c, e), F(c, e‚Ä≤)] is a wedge in c ‚ààC.
13Notice that this is an alternative point of view on the proof of the ninja Yoneda lemma 2.1;
this arrow is induced by a wedge {Fd ‚ÜíV(D(d, a), Fa)}a‚ààC, whose members are the mates of
the various D(d, a) ‚ÜíV(Fd, Fa) giving the action of F on arrows.

ENDS
39
Remark 4.26 : These two universal objects are weighted co/limits in an evident way:
it is possible to rewrite holim
‚Üê‚àí‚àí‚àíF ‚àº= lim
‚Üê‚àí
N(J/
)F and holim
‚àí‚àí‚àí‚ÜíF ‚àº= lim
‚àí‚Üí
N(
/J)F.
The idea behind this characterization is that the co/limit functor results as the
weighted colimit over the terminal weight. When we want to pass to the homotopy
invariant version of the lim
‚àí‚Üí
(
)(
) bifunctor we can choose to ‚Äòreplace‚Äô the diagram
part F or the weight W with a more homotopically-well-behaved diagrams ÀÜF or
ÀúW. BousÔ¨Åeld-Kan formula arises precisely when we derive the weight: N(j/J) and
N(J/j) are contractible categories, and they are linked to N(‚àó) by an homotopy
equivalence induced by the terminal functor.
Then, the categories N(J/
), N(
/J) must be thought as proper replacements
for the co/limit functor that correct its failure to preserve weak equivalences (see
[Str11, Ch. 6] for an extremely hands-on account of the theory of homotopy co/limits
in topology).
E1 Prove Equation (78) using the characterization of lim
‚Üê‚àí
W F ‚àº
=
¬¥
c FcW c, plus its universal
property.
E2 What is the category of elements of the hom functor? Compare with DeÔ¨Ånition 1.12.
E3 Every deÔ¨Ånition we gave until now can be dualized to obtain a theory of weighted
colimits: Ô¨Åll in the details.
i) (weighted colimits as coends) If A is cocomplete, we can express the weighted
colimit lim
‚àí‚Üí
W F as a coend: more precisely
lim
‚àí‚Üí
W F ‚àº
=
ÀÜ c‚ààC
Wc ¬∑ Fc
(99)
where we used, like everywhere else, the Sets-tensoring of A.
ii) (left Kan extensions as weighted colimits) Let F : C ‚ÜíA and K : C ‚ÜíD be
functors; then
LanK F(
) ‚àº
=
ÀÜ c‚ààC
D(Kc,
) ¬∑ Fc ‚àº
= lim
‚àí‚Üí
D(K
,
)F
(100)
iii) (coends as hom-weighted colimits) The coend of H : Cop √ó C ‚ÜíD can be written
as lim
‚àí‚Üí
C(
,
)H.
iv) If the weight W is Sets-valued, the colimit of F weighted by W can be written as
a conical colimit over Cop¬¥
W:
lim
‚àí‚Üí
W F ‚àº
=
lim
‚àí‚Üí
(c,x)‚ààCop¬¥
W
FŒ£
(101)
v) (functoriality) If the W-colimit of F : C ‚ÜíA always exists, then the correspondence
(W, F) 7‚Üílim
‚àí‚Üí
W F is a functor, cocontinuous in its Ô¨Årst variable:
lim
‚àí‚Üí
(
)(=): SetsCop √ó AC ‚àí‚ÜíA,
lim
‚àí‚Üí
 lim
‚àí‚ÜíJ Wj

F ‚àº
= lim
‚àí‚ÜíJ
 lim
‚àí‚Üí
Wj F
(102)
vi) (comparison) There is a canonical natural transformation W ‚Üí‚àó, inducing a
canonical comparison arrow from the W-colimit of any F : C ‚ÜíA to the conical
colimit.
Exercises for ¬ß4

40
FOSCO LOREGIAN
E4 Let w: S0 ,‚ÜíD1 be the canonical inclusion of {0, 1} into [0, 1] ‚äÇR, with the usual
topology; prove that the mapping cone of a continuous map f : X ‚ÜíY is precisely the
weighted colimit lim
‚àí‚Üí
wf.
E5 Fill in the details of the above proof; for those who need a hint, show that E(e, e‚Ä≤) ‚Üí
D(F(x, e), F(x, e‚Ä≤)) is a wedge in x ‚ààC.
E6 Show that there are canonical isomorphisms lim
‚Üê‚àí
W FJ ‚àº
= lim
‚Üê‚àí
LanJ W F, and dually
lim
‚àí‚Üí
W JF ‚àº
= lim
‚àí‚Üí
W LanJ F.
E7 Show that the functor
¬¥
B : [Cop √ó C, D] ‚ÜíD has a left adjoint using Example 4.14.
5. The theory of relators.
The lucid presentation in the notes [B√©ner] and in [CP08, ¬ß4], [Bor94b] are
standard references to follow this section. We re-read these sources with the eye of
the coend-fu master: the arguments we employ are essentially unchanged, and yet
coend-fu is implicitly used in [B√©ner], and only partially spelled out in [Bor94b].
DeÔ¨Ånition 5.1 [The bicategory of relators]: There exists a bicategory Relt
having
‚Ä¢ 0-cells (objects) those of Cat (small categories A, B, C, D, . . . );
‚Ä¢ 1-cells p, q . . . , depicted as arrows A ‚áùB, the functors Aop √ó B ‚ÜíSets;
‚Ä¢ 2-cells Œ±: p ‚áíq the natural transformations between these functors.
Given two contiguous 1-cells A
p‚áùB
q‚áùC we deÔ¨Åne their composition q ‚ãÑp as the
coend
q ‚ãÑp(a, c) :=
ÀÜ x‚ààB
p(a, x) √ó q(x, c)
(103)
DeÔ¨Ånition 5.2 : This deÔ¨Ånition works well also with Sets replaced by an arbitrary
B√©nabou cosmos V, i.e. in any symmetric monoidal closed and bicomplete category:
in this case we speak of V-relators in the bicategory Relt(V).
Remark 5.3 [Naming a category]: The 1-cells of Relt are more often called
profunctors or distributors ([B√©ner] follows the equation functions : functors =
distributions : distributors), correspondences (consider the case when V = {0, 1}
i.e. where A, B are sets regarded as discrete categories), or bimodules (consider the
case where V = Ab and A, B are rings; see [Gen15] and several examples below).
As we will see during the present section, the bicategory Relt carries a fairly rich
structure: it is then quite diÔ¨Écult to choose a name for its 1-cells able to convey
this richness or the main features thereof.
There are several reasons why most of the above choices are unsatisfying: naming
the 1-cells of Relt ‚Äúprofunctors‚Äù may generate confusion as the preÔ¨Åx pro-C denotes
the pro-completion of a category C, i.e. the collection of all ‚Äúformal‚Äù coÔ¨Åltered
limits of objects of C; then a pro-functor, etymologically, should be an object
of the pro-completion of some functor category, which is not true; justifying the
name ‚Äúdistributor‚Äù would request a more strict analogy between p: A ‚ÜíB and
distributions in mathematical analysis; correspondence is too common a name to
convey any intuition at all.
Category theorists know well that an elephant can have diÔ¨Äerent names according
to the angle it is observed from; we accept this situation, but at the same time we

ENDS
41
decide to add a new term to this already vast zoology, and we call the 1-cells of
Relt ‚Äúrelators‚Äù, motivated by the analogy in the following example.
Example 5.4 [Relators as generalized relations]: Notice that the category
V = {0, 1} (or more precisely, the poset {0 < 1}) is a cosmos. A relator between
{0, 1}-categories is a function between sets Aop √ó B ‚Üí{0, 1}, namely a function
A √ó B ‚Üí{0, 1}, or in other words a relation regarded as a subset R ‚äÜA √ó B.
From this point of view, relators A ‚áùB can be thought as generalized relations,
taking values in more complicated, or structured, enriching cosmoi. This point of
view is what Lawvere [Law73, ¬ß4,5] calls generalized logic, and it regards the coend
in Def. 5.1, and the product p(a, x) √ó q(x, b) therein, as a generalized existential
quantiÔ¨Åcation and a generalized conjunction respectively, giving a composition rule
for generalized relations: the coend stands as
(x, z) ‚ààR ‚ó¶S ‚áê‚áí‚àÉy ‚ààY :
 (x, y) ‚ààR

‚àß
 (y, z) ‚ààS

(104)
for two relations R ‚äÜX √ó Y, S ‚äÜY √ó Z: we can depict this analogy as in Figure
5: this is valid for suitable relations R: X ‚áùY and S : Y ‚áùZ or suitable relators
r: X ‚áùY and s: Y ‚ÜíZ.
(x, z) ‚ààS ‚ó¶R
‚áê‚áí
‚àÉy ‚ààY
 (x, y) ‚ààR

‚àß
 (y, z) ‚ààS

(s ‚ãÑr)(x, z)
=
ÀÜ y‚ààY
r(x, y)
√ó
s(y, z)
Figure 1. The analogy between the composition of relators be-
tween categories and the composition of relations between sets
gives rise to what lawvere calls generalized logic.
Example 5.5 : Let A, B be sets, considered as categories having only identity arrows
via the embedding Sets ‚äÇCat. A relator A ‚áùB is then simply a collection of sets
Pab, one for each a ‚ààA, b ‚ààB. Their composition then results in a ‚ÄúcategoriÔ¨Åed‚Äù
matrix multiplication, in that the coend simpliÔ¨Åes to be a mere coproduct: given
p: A ‚ÜíB, q: B ‚ÜíC we have
(p ‚ãÑq)ac =
a
b‚ààB
Pab √ó Qbc
(105)
if Pab = p(a, b) and Qbc = q(b, c).
Remark 5.6 : There is an alternative, but equivalent deÔ¨Ånition for q ‚ãÑp which
exploits the universal property of bC as a free cocompletion: by deÔ¨Ånition, the
category of relators p: A ‚áùB Ô¨Åts into an isomorphism
Cat(Aop √ó B, Sets) ‚àº= Cat(B, [Aop, Sets])
(106)

42
FOSCO LOREGIAN
where p corresponds to a functor bp: B ‚ÜíbA obtained as b 7‚Üíp(
, b). Hence we can
deÔ¨Åne the composition A
p‚áùB
q‚áùC to be Lan„Çàbp ‚ó¶bq:
B
„Çà
bp
/ bA
C
bq
/ bB
Lan„Çàbp
@
(107)
This is equivalent to the previous deÔ¨Ånition, in view of the characterization of a left
Kan extension as a coend in bA, given in (40):
Lan„Çàbp ‚àº=
ÀÜ b
bB(„Çàb,
) ¬∑ bp(b).
(108)
Since in Sets the copower functors coincides with product (as Sets(X ¬∑ Y, B) ‚àº=
Sets(X, Sets(Y, B)) ‚àº= Sets(X √ó Y, B), naturally in B), we have
Lan„Çàbp(bq(c)) ‚àº=
ÀÜ b
bB(„Çàb, bq(c)) ¬∑ bp(b)
‚àº=
ÀÜ b
bq(c)(b) ¬∑ bp(b)
‚àº=
ÀÜ b
p(
, b) √ó q(b, c).
Remark 5.7 : The properties of (strong) associativity and unitality for the com-
position of relators follow directly from the associativity of cartesian product, its
cocontinuity as a functor of a Ô¨Åxed variable, and from the ninja Yoneda lemma 2.1,
as shown by the following computation:
‚Ä¢ Composition of relators is associative (up to isomorphism), giving the
associator of a bicategory structure:
p ‚ãÑ(q ‚ãÑh) =
ÀÜ x
p(b, x) √ó (q ‚ãÑh)(x, a)
=
ÀÜ x
p(b, x) √ó
 ÀÜ y
q(x, y) √ó h(y, a)

‚àº=
ÀÜ xy
p(b, x) √ó

q(x, y) √ó h(y, a)

(p ‚ãÑq) ‚ãÑh =
ÀÜ x
(p ‚ãÑq)(b, x) √ó h(x, a)
‚àº=
ÀÜ xy 
p(b, y) √ó q(y, x)

√ó h(x, a)
and these results are clearly isomorphic, and naturally so, once we changed
name to ‚Äúintegration‚Äù variables (which are obviously ‚Äúmute‚Äù). See Remark
5.8 below for a discussion on the coherence laws of this associator.

ENDS
43
‚Ä¢ Any object A has an identity arrow, given by the ‚Äúdiagonal‚Äù relator
A(
,
) = homA : Aop √ó A ‚ÜíSets: the fact that p ‚ãÑhom ‚àº= p, hom ‚ãÑq ‚àº= q
simply rewrites the ninja Yoneda lemma.
Remark 5.8 : The isomorphism above is part of the data turning Relt into a bicate-
gory; the associator realizes the identiÔ¨Åcation between diÔ¨Äerent parenthesizations
of 1-cells, and the unitor realizes the identiÔ¨Åcation between p ‚ãÑhom ‚àº= p.
To ensure that ‚Äúevery‚Äù diagram which can be constructed from these data
commutes some coherence conditions have to be imposed. One of these is the
pentagon identity [ML98], encoded in the following diagram:
((wx)y)z
(w(xy))z
w((xy)z)
w(x(yz))
(wx)(yz)
This equality is natural in each argument (as a consequence of being a composition
of natural transformations).
It‚Äôs immediate to observe that the validity of the pentagon identity in the case of
the cartesian monoidal structure of Sets, and the naturality thereof, ensure that the
associator (whose components are) (p ‚ãÑq) ‚ãÑh ‚áíp ‚ãÑ(q ‚ãÑh) satisÔ¨Åes the pentagon
identity; a similar argument shows that the unitor satisÔ¨Åes similar (left and right)
triangular identities, as a consequence of the naturality of the ninja Yoneda lemma
2.1.
DeÔ¨Ånition 5.9 [Einstein notation]: There is a useful notation which can be implied
to shorten involved computations with coends, and which is particularly evocative
when dealing with relators; we choose to call it Einstein convention for evident
graphical reasons.14
Let p: A ‚áùB, q: B ‚áùC be two composable relators. If we adopt the notation
pa
b, qb
c to denote the images p(a, b), q(b, c) ‚ààSets (keeping track that superscripts
are contravariant and subscripts are covariant components), then composition of
relators acquires again the form of a ‚Äúmatrix product‚Äù:
p ‚ãÑq(a, c) =
¬¥ b pa
b √ó qb
c =
¬¥ b pa
bqb
c.
(109)
From now on, we feel free to adopt the Einstein summation convention during long
calculations.
14This notation has been adopted also in the beautiful [RV14], a valuable reading for several
reasons, last but not least the fact that its authors adopt some coend-fu to simplify the discussion
about ‚ÄúReedy calculus‚Äù.

44
FOSCO LOREGIAN
Remark 5.10 [(Co)presheaves are relators]: Presheaves on C obviously cor-
respond to relators C ‚áù1; copresheaves, i.e. functors C ‚ÜíSets, correspond to
relators 1 ‚áùC.
5.1. Embeddings and adjoints.
There are two identity-on-objects embeddings
Cat ‚ÜíRelt (respectively the covariant and the contravariant one, looking at the
behaviour on 2-cells), and send a diagram in Cat respectively to
C
F

G

Catop ‚ÜíRelt
C
D
pF
Z
pG
7‚Üí
D
D
Œ± +3
pŒ± +3
C
F

G

Catco ‚ÜíRelt
C
pF

pG

7‚Üí
D
D
Œ± +3
ks pŒ±
(110)
This clearly deÔ¨Ånes a (pseudo)functor, since it‚Äôs easy to see that
‚Ä¢ pF G ‚àº= pF ‚ãÑpG, and pF G ‚àº= pG ‚ãÑpF ;
‚Ä¢ pidA = pidA = A(
,
).
Natural transformations Œ±: F ‚áíG are obviously sent to 2-cells in Relt, and the
covariancy of this assignment is uniquely determined as in the diagram above.
Remark 5.11 : The 1-cells pF , pF are not independent: they are adjoint 1-cells in
the bicategory Relt. Indeed, for every F ‚ààCat(A, B) we can deÔ¨Åne 2-cells
œµ = œµF : pF ‚ãÑpF
+3 B(
,
)
(111)
Œ∑ = Œ∑F : A(
,
)
+3 pF ‚ãÑpF
(112)
(counit and unit of the adjunction): here we unravel the coends involved in these
deÔ¨Ånitions.
‚Ä¢ For what concerns the counit, we write the coend pF ‚ãÑpF as the quotient
set
ÀÜ x
B(a, Fx) √ó B(Fx, b) =
 a
x‚ààA
B(a, Fx) √ó B(Fx, b)

/‚âÉ
(113)
where ‚âÉis the equivalence relation generated by
 a
u‚àí‚ÜíFx, Fx
v‚àí‚Üíb

‚âÉ
 a
u‚Ä≤
‚àí‚ÜíFy, Fy
v‚Ä≤
‚àí‚Üíb

if there is t: x ‚Üíy such that v‚Ä≤ = Ft ‚ó¶v e Ft ‚ó¶u = u‚Ä≤.
This can be visualized as the commutativity of the square
Fx
F t

v
&
a
u‚Ä≤
&
u
8
b
Fy
v‚Ä≤
9
(114)
Now it‚Äôs easily seen that sending
 a
u‚àí‚ÜíFx, Fx
v‚àí‚Üíb

in the composition
v ‚ó¶u descend to the quotient with respect to ‚âÉ, hence œµ: pF ‚ãÑpF ‚ÜíB(
,
)
is well deÔ¨Åned. All boils down to notice that the composition
c: B(a, Fx) √ó B(Fx, b) ‚ÜíB(a, b)
(115)

ENDS
45
deÔ¨Ånes a cowedge in the variable x.
‚Ä¢ The unit of the adjunction is the 2-cell
Œ∑: A(
,
)
+3 pF ‚ãÑpF
(116)
obtained when we noticed that pF ‚ãÑpF (a, b) =
¬¥ X B(Fa, x) √ó B(x, Fb) ‚àº=
B(Fa, Fb) (as a consequence of the ninja Yoneda lemma), is simply deter-
mined by the action of F on arrows, A(a, b) ‚ÜíB(Fa, Fb).
We now have to verify that the zig-zag identities (see [Bor94a, Thm.3.1.5.(2)]) hold:
(pF ‚ãÑœµ) ‚ó¶(Œ∑ ‚ãÑpF ) = idpF
(œµ ‚ãÑpF ) ‚ó¶(pF ‚ãÑŒ∑) = idpF
As for the Ô¨Årst, we must verify that the diagram
pF
‚àº/ B(
,
) ‚ãÑpF
Œ∑‚ãÑpF
/ (pF ‚ãÑpF ) ‚ãÑpF
‚àº
=

pF
pF ‚ãÑB(
,
)
‚àº
o
pF ‚ãÑ(pF ‚ãÑpF )
pF ‚ãÑœµ
o
(117)
commutes. One has to send h ‚ààpF (u, v) = B(Fu, v) in the class [(idu, h)] ‚àà
¬¥ x B(u, x) √ó B(Fx, v), which must go under Œ∑ ‚ãÑpF in the class [(F(idu), h)] ‚àà
¬¥ xy B(Fa, x) √ó B(x, Fy) √ó B(Fy, b), canonically identiÔ¨Åed with
¬¥ y B(Fa, Fy) √ó
B(Fy, b). Now pF ‚ãÑœµ acts composing the two arrows, and one obtains F(idA)‚ó¶h = h
back.
Similarly, to prove the second identity, the diagram
pF
‚àº/ pF ‚ãÑB(
,
)
pF ‚ãÑŒ∑
/ pF ‚ãÑ(pF ‚ãÑpF )
‚àº
=

pF
B(
,
) ‚ãÑpF
‚àº
o
(pF ‚ãÑpF ) ‚ãÑpF
œµ‚ãÑpF
o
(118)
must commute (all the unlabeled isomorphisms are the canonical ones). This
translates into

a
u‚àí‚ÜíFb
 
/ (u, idb)‚àº
/ (u, F(idb)) 
/ u ‚ó¶F(idb) = u,
(119)
which is what we want; hence pF ‚ä£pF .
‚ñ°
Remark 5.12 : Two functors F : A ‚áÜB: G are adjoints if and only if pF ‚àº= pG (and
therewith G ‚ä£F) or pG ‚àº= pF (and therewith F ‚ä£G).
Remark 5.13 : It is a well-known fact (see [Bor94a, dual of Prop. 3.4.1]) that if
F ‚ä£G, then F is fully faithful if and only if the unit of the adjunction Œ∑: 1 ‚ÜíGF
is an isomorphism.
This criterion can be extended also to functors which do not admit a ‚Äúreal‚Äù right
adjoint, once noticed that F is fully faithful if and only if A(a, b) ‚àº= B(Fa, Fb) for
any two a, b ‚ààA, i.e. if and only if the unit Œ∑: homA ‚áípF ‚ãÑpF is an isomorphism.

46
FOSCO LOREGIAN
Example 5.14 : Given a relator p: A ‚áùB and a functor F : B ‚ÜíD we can deÔ¨Åne
p ‚äóF to be the functor A ‚ÜíD given by Lany F ‚ó¶bp (provided this colimit exists),
where bp: B ‚ÜíbA is the adjunct of p.
More explicitly,
p ‚äóF(a) =
ÀÜ b
Nat(„Çàb, p(
, a)) ¬∑ Fb ‚àº=
ÀÜ b
pb
a ¬∑ Fb
(120)
Exploiting this deÔ¨Ånition, several things can be proved via coend-fu:
‚Ä¢ homB ‚äóF ‚àº= F as a consequence of the ninja Yoneda lemma;
‚Ä¢ If C
q‚áùA
p‚áùB
F‚àí‚ÜíX, then (p ‚ãÑq) ‚äóF ‚àº= q ‚äó(p ‚äóF): indeed
[(p ‚ãÑq) ‚äóF]a =
ÀÜ b
(p ‚ãÑq)b
a √ó Fb
‚àº=
ÀÜ bx
pb
x √ó qx
a √ó Fb
‚àº=
ÀÜ x
qx
a √ó
 ÀÜ b
pb
x √ó Fb

‚àº=
ÀÜ x
qx
a √ó (F ‚äóp)x = [q ‚äó(p ‚äóF)]a
Example 5.15 [Kan extensions in Relt]: Any relator p has a right Kan extension
Ranp in the sense that the notion has in any bicategory, where composition of
functors or natural transformations is replaced by composition of 1- or 2-cells.
One has the following chain of isomorphisms in Relt (see DeÔ¨Ånition 5.9 for the
Einstein convention):
Nat(g ‚ãÑp, h) ‚àº=
ÀÜ
ab
Sets
 (g ‚ãÑp)a
b, ha
b

‚àº=
ÀÜ
ab
Sets
 ÀÜ x
ga
x √ó px
b , ha
b

‚àº=
ÀÜ
abx
Sets
 ga
x, Sets(px
b , ha
b)

‚àº=
ÀÜ
ax
Sets

ga
x,
ÀÜ
b
Sets(px
b , ha
b)

‚àº=
ÀÜ
ax
Sets

ga
x, Ranp ha
x

‚àº= Nat(g, Ranp h)
when we deÔ¨Åne Ranp h(a, x) to be Nat
 p(x,
), h(a,
)

.
Remark 5.16 [The multibicategory of relators]: The bicategory of relators
can be promoted to a multibicategory in the sense of [CKS03, 1.4]; this means that
we exploit the (partial) monoidal structure on each Relt(C, D) to specify a class of

ENDS
47
multimorphisms Œ∑: p1, . . . , pn ‚áùq, depicted as diagrams
X0

q
C
p1
/ X1
p2
/ . . .
pn / Xn
Œ∑

(121)
and composition, associativity and unitality thereof, follow at once from pasting
laws for 2-cells in 2-categories [Kel82] (try to outline them as a straightforward
exercise).
Remark 5.17 [exact squares and relators]: Let us consider Cat as a 2-category;
a square
S =
A
T
/
S

‚áí
Œ±
Y
V

X
U
/ B
(122)
Ô¨Ålled by a 2-cell Œ± will be called a carr√© (see [Gui80]). Any carr√© induces a 2-cell
A
‚áí
Œ±‚ô≠
_
pS

Y
pT
o
_pV

X
B

pU
o
(123)
deÔ¨Åned by the universal property of profunctor composition via the cowedge
ÀôŒ±‚ô≠
(a),xy : X(x, Sa) √ó Y(Ta, y) ‚àí‚àí‚àí‚ÜíB(Ux, V y)
(124)
sending the pair (f, g) =
h x
‚Üì
Sa
i
,
h T a
‚Üì
y
i
into V g ‚ó¶Œ±a ‚ó¶Uf.
We say that a carr√© is exact if Œ±‚ô≠is invertible, i.e. if
¬¥ a X(x, Sa) √ó Y(Ta, y) ‚àº=
B(Ux, V y).
[Gui80] observes that there is a criterion for a carr√© to be exact that does not
involve profunctors: let S be as above, and let us consider the induced diagram
A
!
%
œï
#
(U ‚ÜìV )
d1
/
‚áí
a
d0

Y
V

X
U
/ B
(125)
where (U ‚ÜìV ) is the comma category of the cospan X
U‚àí‚ÜíB
V
‚Üê‚àíY and œï is the
unique induced functor to (U ‚ÜìV ). For each pair of functors X
P‚àí‚ÜíZ
Q
‚Üê‚àíY we have

48
FOSCO LOREGIAN
the following identiÔ¨Åcations of sets:
Nat(Pd0, Qd1)

Relt(Y, X)(pd0 ‚ãÑpd1, pP ‚ãÑpQ)
Relt(Y, X)(pU ‚ãÑpV , pP ‚ãÑpQ)

Nat(PS, QT)
Relt(Y, X)(pA ‚ãÑpT , pP ‚ãÑpQ)
(126)
where the vertical arrows are induced by whiskering. Then we have that S is eact if
and only if for each P, Q there is a bijection
Nat(PS, QT) ‚àº= Nat(Pd0, Qd1).
(127)
E1 Describe relators between monoids, regarded as one-object categories; describe relators
between posets regarded as thin categories.
E2 Given relators k: C ‚áùD and l: C ‚áùE deÔ¨Åne
k ‚ñ∑l =
ÀÜ
c
[k(c,
), l(c,
)]
Show that this operation is a right Kan extension (of l along k); dually, given h: D ‚áùA
and l: E ‚áùA we can deÔ¨Åne
l ‚óÅh =
ÀÜ
a
[h(=, a), l(
, a)].
(128)
Show that this second operation is a right Kan lifting: given 1-cells p: B ‚ÜíC, f : A ‚Üí
C in a 2-category K, a right Kan lift of f through p, denoted Riftp f, is a 1-cell
Riftp(f): A ‚ÜíB equipped with a 2-cell
Œµ : p ‚ó¶Riftp(f) ‚áíf
(129)
satisfying the following universal property: given any pair (g : A ‚ÜíB, h: p ‚ó¶g ‚áíf),
there exists a unique 2-cell
Œ∂ : g ‚áíRiftp(f)
(130)
such that the following diagram of 2-cells commutes for a unique Œ∂ : g ‚áíRiftp(f)
B
 
A
g
-
/ C
h

=
B
 
A
g
+
Riftp(f)
?
/ C
œµ

Œ∂
#
(131)
i.e. there is a unique factorization Œµ ‚ó¶(p ‚àóŒ∂) = h.
E3 Show that the two operations above ‚Äúbehave like an action‚Äù on (Relt, ‚ãÑ, hom) on the
bicategory Relt:
i) (k ‚ãÑh) ‚ñ∑l ‚àº
= k ‚ñ∑(h ‚ñ∑l);
ii) l ‚óÅ(k ‚ãÑh) ‚àº
= (l ‚óÅk) ‚óÅh;
iii) hom ‚ñ∑l ‚àº
= l ‚àº
= l ‚óÅhom.
This is a na√Øve way to see that the structure on Relt given by ‚ãÑis biclosed (i.e., ‚ãÑis a
bifunctor Relt(A, B) √ó Relt(B, C) ‚ÜíRelt(A, C) and each p ‚ãÑ
, as well as each
‚ãÑq
have right adjoints).
Exercises for ¬ß5

ENDS
49
E4 The collage of two categories A, B along a relator p: A ‚áùB is deÔ¨Åned to be the category
A ‚äép B with the same objects as A ‚®øB and morphisms given by the rule
A ‚äép B(x, y) =
Ô£±
Ô£≤
Ô£≥
A(x, y)
if x, y ‚ààA
B(x, y)
if x, y ‚ààB
p(x, y)
if x ‚ààA, y ‚ààB
(132)
and empty in every other case. Show that A ‚äép B has the universal property of the
category of elements of p, regarded as a presheaf.
E5 Show that there is an equivalence between the category of relators A ‚áùB and the
category of discrete Ô¨Åbrationsa from B to A; this equivalence is induced by the collage
construction of Exerc. ¬ß5.E4.
E6 Show that the composition laws p(A, B) √ó B(B, B‚Ä≤) ‚Üíp(A, B‚Ä≤), A(A, A‚Ä≤) √ó p(A‚Ä≤, B) ‚Üí
p(A, B) of arrows in A ‚äép B are governed by the universal property of a coend.
E7 The cocomma object (F/G) of two functors X
F
‚Üê‚àíA
G
‚àí‚ÜíY is deÔ¨Åned to be the pushout
of
A ‚®øA

/ A √ó ‚àÜ[1]
X ‚®øY
(133)
in Cat, where the horizontal arrow is the ‚Äúcylinder‚Äù embedding. Show that (F/G) is
the collage of X and Y along the relator pG ‚ãÑpF : X ‚áùY.
E8 Given relators A
p‚áùB
q‚áùC consider the categories A ‚äéœï B and B ‚äéœà C. Describe the
pushout
B
/

A ‚äéœï B

B ‚äéœà C
/ H
‚åú
(134)
in Cat. Is there a relation between H and the collage A ‚äéC along q ‚ãÑp?
E9 Isbell duality (3.16) can be regarded as an adjunction between the categories
Relt(1, C)op ‚áÜRelt(C, 1).
(135)
where 1 is the terminal category. Is it possible to extend this result to an adjunction
Relt(D, C)op ‚áÜRelt(C, D)?
E10 Show that there is a canonical isomorphism
Cat(X, Y)(FG, HK) ‚àº
= Relt(W, Z)(pG ‚ãÑpK, pF ‚ãÑpH)
(136)
for each square
X
G
/
K

‚áí
Œ±
Z
F

W
H
/ Y
(137)
Ô¨Ålled by a 2-cell Œ±. This map sends Œ± to a 2-cell Œ±‚ôØin Relt. Does this equivalence
restrict to strongly commutative squares, giving strongly commutative squares in Relt?
E11 A promonoidal category is what we obtain taking the deÔ¨Ånition of a monoidal category
and we replace every occurrence of the word functor with the word profunctor. A
monoid object in Relt is a category C, endowed with a bi-relator P : C √ó C ‚áùC (the
multiplication) and a profunctor J : 1 ‚áùC (the unit), such that P is associative and
(two-sided) unital. These data form what is called a promonoidal structure on the
category C, denoted P = (P, J, Œ±, œÅ, Œª).

50
FOSCO LOREGIAN
‚Ä¢ Write the relations
P ‚ãÑ(P √ó hom) ‚àº
= P ‚ãÑ(hom √óP)
(138)
P ‚ãÑ(J √ó hom) ‚àº
= hom ‚àº
= P ‚ãÑ(hom √óJ)
(139)
in diagrammatic and equational form, respectively, expanding the composition of
profunctors.
‚Ä¢ Let P = (P, J, Œ±, œÅ, Œª) be a promonoidal structure on the category C; then we
can deÔ¨Åne a P-convolution on the category [C, Sets] (or more generally, on the
category [C, V]), via
[F ‚àóP G]c =
ÀÜ ab
P(a, b; c) √ó Fa √ó Gb
(140)
JP = J
(141)
and this turns out to be a monoidal structure on [C, Sets]. We denote the monoidal
structure ([C, Sets], ‚àóP, JP) shortly as [C, Sets]P.
‚Ä¢ Outline the promonoidal structure P giving the Day convolution described in
DeÔ¨Ånition 6.2. If C is any small category, we deÔ¨Åne P(a, b; c) = C(a, c) √ó C(b, c)
and J to be the terminal functor C ‚ÜíSets. Outline the convolution product on
[C, Sets], called the Cauchy convolution, obtained from this promonoidal structure.
aA functor p: E ‚ÜíB is a discrete Ô¨Åbration if for each object e ‚ààE and arrow f : b‚Ä≤ ‚Üípe ‚ààB,
there exists a unique lift g : e‚Ä≤ ‚Üíe.
6. Operads using coends.
Since they were introduced by P. May in his [May72] to solve a problem in
algebraic topology,15 it has been clear that operads are monoid-like objects in some
category of functors; making this analogy a precise statement, using the power of
coend-fu, is the content of Kelly‚Äôs [Kel05], which we follow here almost verbatim.
This section demonstrates the ability of coend-fu to be a perfect bookkeeping tool
in otherwise extremely involved combinatorial arguments.
A certain acquaintance with the machinery of operads is a fundamental pre-
requisite to follow the discussion; unfortunately, given the plethora of diÔ¨Äerent
interpretation of the theory, and diÔ¨Äerent areas of mathematics where the notion of
operad arises, the beginners (the author of the present note is undoubtedly among
them) may feel rather disoriented when approaching any book on the subject, so
it‚Äôs extremely diÔ¨Écult to advise a single, comprehensive reference.
Among classical textbooks, we can‚Äôt help but mention the founder [May72], as
well as more recent monographies like [LV12, MSS02] written respectively from the
algebraist‚Äôs and topologist‚Äôs point of view. Among less classical and yet extremely
valid points of view, the author proÔ¨Åted a lot from a lucid, and unfortunately still
unÔ¨Ånished, online draft [Tri] written by T. Trimble.
Local conventions.
Along the whole section we will adopt the following notation
and conventions:
‚Ä¢ P is the groupoid of natural numbers, i.e. the category having objects the
nonempty sets {1, . . . , n} (denoted as n for short, assuming that 0 = ‚àÖ)
15There are several reasons why algebraic topologists are interested in spaces Y which are
homotopy equivalent to ‚Ñ¶X; they are much more interested in spaces Y ‚âÉ‚Ñ¶nX, and in spaces
such that ‚ÄúY ‚âÉ‚Ñ¶‚àûX‚Äù: these are called inÔ¨Ånite loop spaces. [May72] oÔ¨Äers a way to recognize
inÔ¨Ånite loop spaces among all spaces. See [Ada78] for more informations.

ENDS
51
where P(m, n) = ‚àÖif n Ã∏= m and Sn (the group of bijections of n-element
sets) if n = m. It is evident that P is the disjoint union of groups `
n‚â•0 Sn
in the category Gpd of groupoids.
‚Ä¢ like elsewhere, Vis a Ô¨Åxed co/complete symmetric monoidal closed category.
Remark 6.1 : Notice that P has a symmetric monoidal structure, with tensor the
sum of natural numbers; the action on arrows is given by (œÉ, œÑ) 7‚ÜíœÉ + œÑ deÔ¨Åned
acting as œÉ on the set {1, . . . , m} and as œÑ on the set {m + 1, . . . , m + n} (these
permutations are called shuÔ¨Ñes).
6.1. Convolution product.
The rough idea behind the deÔ¨Ånition is the following:
in the same way the set of regular functions f : G ‚ÜíC on a topological group G
acquires a convolution product given by (f, g)(x) =
¬¥
G f(xy‚àí1)g(y)dy (the integral
sign here is not an end!), we can endow the category of co/presheaves F : C ‚ÜíV
with a monoidal structure induced by a monoidal structure on C, which is diÔ¨Äerent
from the pointwise one, induced by the monoidality of the codomain. This is called
the convolution product of functors; the last Exercises in ¬ß5 give a generalization of
this point of view.
DeÔ¨Ånition 6.2 [Day convolution]: If C is a symmetric monoidal category, then
the functor category [C, V] is itself a B√©nabou cosmos with respect to the monoidal
structure given by Day convolution product: given F, G ‚àà[C, V] we deÔ¨Åne
F ‚àóG :=
ÀÜ cd
C(c ‚äód,
) ¬∑ Fc ‚äóGd
(142)
where we recall that X ¬∑ V for X ‚ààSets, V ‚ààV is the copower (or tensor) X ¬∑ V
such that
V(X ¬∑ V, W) ‚àº= Sets(X, V(V, W)).
(143)
Notation 6.3 : In the following sections we will make use of the ‚ÄúEinstein notation‚Äù
for co/ends deÔ¨Åned in 5.9; this will compactify a lot the exposition. A fundamental
rule to avoid getting lost is the following, really akin to the Einstein convention for
tensor operations: variables of integration are paired as subscript-superscript, and
whenever they are paired a co/end operation is implicit.
Without smart ideas to specify the diÔ¨Äerence we are forced to maintain all integral
signs, to discern ends from coends. In Einstein notation we write the convolution as
F ‚àóG =
ÀÜ cd
Cc‚äód
(
)FcGd
(144)
Proof. We have to show that this really deÔ¨Ånes a monoidal structure:
‚Ä¢ Associativity follows from the associativity of the tensor product on C and
the ninja Yoneda lemma (see the remark above for the Einstein convention;
it is also harmless to suppress the distinction between monoidal products
in V and Sets-tensors, since the distinction can be easily devised with a
‚Äúdimensionality check‚Äù):
[F ‚àó(G ‚àóH)]x =
ÀÜ ab
Ca‚äób
x
Fa(G ‚àóH)b

52
FOSCO LOREGIAN
‚àº=
ÀÜ ab
Ca‚äób
x
ÀÜ cd
Cc‚äód
b
FaGcHd
‚àº=
ÀÜ abcd
Ca‚äób
x
Cc‚äód
b
FaGcHd
‚àº=
ÀÜ acd
Ca‚äó(c‚äód)
x
FaGcHd
[(F ‚àóG) ‚àóH]x ‚àº=
ÀÜ acd
C(a‚äóc)‚äód
x
FaGcHd.
‚Ä¢ (Right) unitality : choose J = „ÇàI = C(I,
) and notice that the ninja
Yoneda lemma implies that
[F ‚àóJ]x ‚àº=
ÀÜ cd
Cc‚äód
x
FcJd
‚àº=
ÀÜ cd
Cc‚äód
x
CI
dFc
‚àº=
ÀÜ c
Cc‚äóI
x
Fc ‚àº= Fx.
‚Ä¢ Left unitality is totally analogous.
Example 6.4 [Subdivision and joins as convolutions]: Compare Example 3.15
and the deÔ¨Ånition of join of augmented16 simplicial sets given in [Joy08]: given
X, Y ‚ààsSet+ we deÔ¨Åne
X ‚ãÜY =
ÀÜ p,q
Xp √ó Yq √ó ‚àÜ
‚àÜ
‚àÜ(
, p ‚äïq)
(145)
where ‚äïis the ordinal sum operation (see again [Joy08] or rather our 3.15).
The category [C, V] is left and right closed with respect to this monoidal structure:
the exponential G/H (or rather the functor G/
which is right adjoint to
‚àóG)
is given by
G/H :=
ÀÜ
c
[Gc, H(c ‚äó
)]
(146)
where [
,
] is the internal hom in V, and often denoted JG, HK. We can compute
directly that
Nat(F ‚àóG, H) ‚àº=
ÀÜ
c
V
 (F ‚àóG)c, Hc

‚àº=
ÀÜ
c
V
 ÀÜ ab
Ca‚äób
c
FaGb, Hc
!
16The category ‚àÜ
‚àÜ
‚àÜlacks an initial object [‚àí1] = ‚àÖ; if we add this colimit we get a category ‚àÜ
‚àÜ
‚àÜ+,
and an augmented simplicial set is a presheaf on ‚àÜ
‚àÜ
‚àÜ+; the category of augmented simplicial sets is
denoted sSet+. There is a triple of adjoints induced by the inclusion i: ‚àÜ
‚àÜ
‚àÜ‚äÇ‚àÜ
‚àÜ
‚àÜ+ and linking the
categories of simplicial and augmented simplicial sets. The join operation is easily seen to restrict
to simplicial sets (identiÔ¨Åed with augmented simplicial sets with empty set of (‚àí1)-simplices)
giving a monoidal structure on sSet.

ENDS
53
‚àº=
ÀÜ
abc
V
 Ca‚äób
c
FaGb, Hc

‚àº=
ÀÜ
abc
V
 Fa, [Ca‚äób
c
Gb, Hc]

‚àº=
ÀÜ
abc
V
 Fa,

Gb, [Ca‚äób
c
, Hc]

‚àº=
ÀÜ
ab
V
 Fa,

Gb,
ÀÜ
c
[Ca‚äób
c
, Hc]

‚àº=
ÀÜ
ab
V
 Fa, [Gb, Ha‚äób]

‚àº=
ÀÜ
a
V

Fa,
ÀÜ
b
[Gb, Ha‚äób]

‚àº=
ÀÜ
a
V(Fa, JG, HKa)
‚àº= Nat
 F, JG, HK

.
‚ñ°
Remark 6.5 : In the particular case C = P this means that [P, V] is monoidal closed
if we deÔ¨Åne
(F ‚àóG)k :=
ÀÜ mn
P(m + n, k) ¬∑ Fm ‚äóGn
JF, GKk :=
ÀÜ
n
[Fn, Gn+k]
In particular, we have the formula
F1 ‚àó¬∑ ¬∑ ¬∑ ‚àóFn =
ÀÜ k1,...,kn
P
 X
ki,

¬∑ F1k1 ‚äó¬∑ ¬∑ ¬∑ ‚äóFnkn.
(147)
for the iterated convolution of F1, . . . , Fn ‚àà[C, V], which will become useful in a
while.
The gist of the deÔ¨Ånition of a V-operad lies in an additional monoidal structure
on [P, V], deÔ¨Åned by means of the Day convolution:
DeÔ¨Ånition 6.6 [Diamond product on [P, V]]: Let F, G ‚àà[P, V]. DeÔ¨Åne
F ‚ãÑG :=
ÀÜ m
Fm ‚äóG‚àóm,
(148)
where G‚àóm := G ‚àó¬∑ ¬∑ ¬∑ ‚àóG.
Associativity exploits the following
Lemma 6.7 : There exists a natural equivalence (F ‚ãÑG)‚àóm ‚àº= F ‚àóm ‚ãÑG.
Proof. It‚Äôs a formal manipulation:
(F ‚ãÑG)‚àóm =
ÀÜ ‚Éóni
P
 X
ni,

¬∑ (F ‚ãÑG)n1 ‚äó¬∑ ¬∑ ¬∑ ‚äó(F ‚ãÑG)nm
‚àº=
ÀÜ ‚Éóni,ki
P
 X
ni,

¬∑ Fk1 ‚äóG‚àók1n1 ‚äó¬∑ ¬∑ ¬∑ ‚äóFkm ‚äóG‚àókmnm

54
FOSCO LOREGIAN
‚àº=
ÀÜ ‚Éóni,‚Éóki
Fk1 ‚äó¬∑ ¬∑ ¬∑ ‚äóFkm ‚äóP
 X
ni,

¬∑ G‚àók1n1 ‚äó. . . G‚àókmnm
‚àº=
ÀÜ ‚Éóki
Fk1 ‚äó¬∑ ¬∑ ¬∑ ‚äóFkm ‚äó
 G‚àók1 ‚àó¬∑ ¬∑ ¬∑ ‚àóG‚àókm
‚àº=
ÀÜ ‚Éóki
Fk1 ‚äó¬∑ ¬∑ ¬∑ ‚äóFkm ‚äóG‚àóP
ki
ninja ‚àº=
ÀÜ ‚Éóki,r
P
 X
ki, r

‚äóFk1 ‚äó¬∑ ¬∑ ¬∑ ‚äóFkm ‚äóG‚àór
‚àº=
ÀÜ r
F ‚àómr ‚àóGr = F ‚àóm ‚ãÑG
(we used a compact notation for
¬¥ ‚Éóni =
¬¥ n1,...,nm; the ninja Yoneda Lemma is
used in the form G‚àón ‚àº=
ÀÜ r
P(n, t) ¬∑ Gt = P(n,
) ‚ãÑG, because (n, G) 7‚ÜíG‚àón is a
bifunctor P √ó [P, V] ‚Üí[P, V]).
‚ñ°
Associativity of the diamond product now follows at once: we have
(F ‚ãÑ(G ‚ãÑH))(k) =
ÀÜ m
Fm ‚äó(G ‚ãÑH)‚àómk
‚àº=
ÀÜ m
Fm ‚äó(G‚àóm ‚ãÑH)k
‚àº=
ÀÜ m,l
Fm ‚äóG‚àóml ‚äóH‚àólk
‚àº=
ÀÜ l
(F ‚ãÑG)l ‚äóH‚àólk
= ((F ‚ãÑG) ‚ãÑH)(k).
A unit object for the ‚ãÑ-product is J = P(1,
) ¬∑ I; indeed J(1) = I, J(n) = ‚àÖV for
any n Ã∏= 1 and the ninja Yoneda lemma applies on both sides to show unitality
rules:
‚Ä¢ On the left one has
J ‚ãÑF =
ÀÜ m
Jm ‚äóF ‚àóm =
ÀÜ m
P(1, m) ¬∑ F ‚àóm ‚àº= F ‚àó1 = F.
(149)
‚Ä¢ On the right, G ‚ãÑJ ‚àº= G once noticed that J‚àóm ‚àº= P(m,
) ¬∑ I since
J‚àóm =
ÀÜ ‚Éóni
P
 X
ni,

¬∑ P(1, n1) ¬∑ ¬∑ ¬∑ ¬∑ ¬∑ P(1, nm) ¬∑ I
ninja ‚àº= P(1 + ¬∑ ¬∑ ¬∑ + 1,
) ¬∑ I = P(m,
) ¬∑ I
because
ÀÜ ‚Éóni
P(n1+¬∑ ¬∑ ¬∑+nm,
)¬∑P(1, ni) ‚àº= P(n1+¬∑ ¬∑ ¬∑+ni‚àí1+1+ni+1+¬∑ ¬∑ ¬∑+nm,
), (150)

ENDS
55
for any 1 ‚â§i ‚â§m (it is again an instance of the ninja Yoneda Lemma).
One has
G ‚ãÑJ =
ÀÜ m
Gm ‚äóJ‚àóm ‚àº=
ÀÜ m
Gm ‚äóP(m,
) ¬∑ I ‚àº= G.
(151)
Theorem 6.8 : The ‚ãÑ-monoidal structure is left closed, but not right closed.
Proof. It is a formal manipulation:
Nat(F ‚ãÑG, H) ‚àº= Nat
 ÀÜ m
Fm ‚äóG‚àóm, H

‚àº=
ÀÜ
k
V
 ÀÜ m
Fm ‚äóG‚àóm, H

‚àº=
ÀÜ
km
V(Fm, [G‚àómk, Hk])
‚àº=
ÀÜ
m
V(Fm,
ÀÜ
k
[G‚àómk, Hk])
which is equal to Nat(F, {G, H}) if we deÔ¨Åne {G, H}m =
ÀÜ
k
[G‚àómk, Hk]. Hence the
functor (
) ‚ãÑG has a right adjoint for any G.
The functor F ‚ãÑ(
) can‚Äôt have such an adjoint (Incidentally, this shows also
that the diamond product can‚Äôt come from a convolution product with respect to a
promonoidal structure in the sense of Exercises E11). We leave the reader think
about the reason.
‚ñ°
DeÔ¨Ånition 6.9 : An operad in V consists of a monoid object in [P, V] endowed with
the (‚ãÑ, {
,
}) left-closed monoidal structure.
More explicitly, an operad is a functor T ‚àà[P, V] endowed with a natural
transformation called multiplication, ¬µ: T ‚ãÑT ‚ÜíT and a unit Œ∑: J ‚ÜíT such that
T ‚ãÑT ‚ãÑT
T ‚ãÑT
T ‚ãÑT
T
T ‚ãÑ¬µ
¬µ
¬µ‚ãÑT
¬µ
J ‚ãÑT
T ‚ãÑT
T ‚ãÑJ
T
Œ∑‚ãÑT
¬µ
‚àº
=
T ‚ãÑŒ∑
‚àº
=
are commutative diagrams.
DeÔ¨Ånition 6.10 [Endomorphism operad]: For any F ‚àà[P, V] the object {F, F}
is an operad whose multiplication is the adjunct of the arrow
{F, F} ‚ãÑ{F, F} ‚ãÑF
{F, F} ‚ãÑF
F
1‚ãÑev
ev
and whose unit is the adjunct of the isomorphism J ‚ãÑF ‚àº= F.
Unraveling the previous deÔ¨Ånition, we can notice that an operad in V consists of
‚Ä¢ Giving a natural transformation Œ∑: J ‚ÜíT amounts to a map Œ∑1 : I ‚ÜíT(1),
since J(1) = I, J(n) = ‚àÖfor n Ã∏= 1;
‚Ä¢ Giving a natural transformation ¬µ: T ‚ãÑT ‚ÜíT, in view of the universal
property of the two coends involved, amounts to give a cowedge

56
FOSCO LOREGIAN
Tm ‚äóP(n1 + ¬∑ ¬∑ ¬∑ + nm, k) ¬∑ Tn1 ‚äó¬∑ ¬∑ ¬∑ ‚äóTnm
Tk
œÑ
for any m, n1, . . . , nm, k ‚ààN, natural in k and the ni and such that the
following diagram commutes:
Tm ‚äóP(‚Éón, k) ¬∑ T‚Éón
Tm ‚äóP(‚Éón, k) ¬∑ T‚Éón
Tm ‚äóP(‚Éón, k) ¬∑ T‚Éón
Tk
œÉ‚àó
œÉ‚àó
(the notation is self-evident) for every morphism œÉ ‚ààP. This is equivalent
to a transformation
Tm ‚äóTn1 ‚äó¬∑ ¬∑ ¬∑ ‚äóTnm
[P(n1 + ¬∑ ¬∑ ¬∑ + nm,
), T(
)]
bœÑ
(considering the ni Ô¨Åxed and the Ô¨Årst functor constant in k) i.e., by the
Yoneda Lemma a natural transformation
Tm ‚äóTn1 ‚äó¬∑ ¬∑ ¬∑ ‚äóTnm
T(n1 + ¬∑ ¬∑ ¬∑ + nm).
bœÑ
This concludes the discussion, as it is precisely the deÔ¨Ånition of operad given in
[May97]. It only remains to verify that all the axioms given there are satisÔ¨Åed. This
is a tedious but necessary exercise.
E1 Show that the convolution product on [C, V] results as the following left Kan extension:
C √ó C
‚äô

F √óG / V√ó V
‚äóV / V
C
=
(152)
E2 DeÔ¨Åne two functors
Œ¶: [P, V] ‚ÜíV
(evaluation at 0)
Œ®: V ‚Üí[P, V]
(the left adjoint to Œ¶)
Prove that Œ®(a ‚äób) ‚àº
= Œ®a ‚äóŒ®b and Œ¶ ‚ó¶Œ® ‚àº
= 1; Ô¨Ånally, if a ‚ààV is identiÔ¨Åed with the
constant functor in a, then [P, V](a ‚àóF, G) ‚àº
= V(a, [F, G]), where
[F, G] :=
ÀÜ
n
V(Fn, Gn).
(153)
E3 Read [CG13] and take it as an outstanding exercise in generalizing the topic of this
section.
Exercises for ¬ß6

ENDS
57
7. Higher dimensional coend calculus.
Entonces desaparecer√°n del planeta el ingl√©s y el franc√©s y
el mero espa√±ol. El mundo ser√° Tl√∂n. Yo no hago caso, yo
sigo revisando en los quietos d√≠as del hotel de Adrogu√© una
indecisa traducci√≥n quevediana (que no pienso dar a la
imprenta) del Urn Burial de Browne.
J.L. Borges, Tl√∂n, Uqbar, Orbis Tertius
Category theory was born in 1945 when Mac Lane and Eilenberg [EM45] isolated
the correct deÔ¨Ånition of natural transformation between functors.
By doing this, they introduced the paradigmatic example of a 2-category: in this
precise sense then category theory aims from its very beginning to become higher
category theory. And yet despite its age, basic questions, burdened by an intrinsic
computational diÔ¨Éculty, are still intricate, subtle and very challenging.
Even though for many years higher-dimensional category theory remained con-
Ô¨Åned to well-deÔ¨Åned geographical areas, the last 15 years witnessed a super-
exponential growth of interest across several areas of mathematics: higher cat-
egorical structures have been recognized to lie at the heart of modern approaches
to geometry [TV05], [Lur09], [BZFN10], logic [Uni13], topology and mathematical
physics [Sch13]; after many years in which category theory struggled to gain the
respect of mathematicians.
The slow but constant diÔ¨Äusion of a dialect which is powerful enough to encompass
all these developments, and still suÔ¨Éciently simple to be studied, led to the present
situation. Higher category theory and the fundamental constructions therein are
now interpreted in a homotopy-invariant way.17
Co/end calculus, as a part of the categorical toolbox, makes no exception.The
scope of the present chapter is to give a compact but lucid presentation of this
‚Äúhigher co/end-fu‚Äù (a possible translation could be È´òÁ´ØÊ•îË°ì). The struggle here is
on two separate and opposing Ô¨Åelds: on one side, ‚Äúancient‚Äù higher category theory
[GPS95, Hof11] with its baroque equational approach to coherence conditions is a
true nightmare, both for the listener and the exposer. On the other side the ‚Äúnew‚Äù
approach to higher category theory based on homotopy theory (mainly of simplicial
sets) reinterprets those very coherence conditions allowing a precious bookkeeping
device, which is nevertheless often too far from the taste of some practitioners of
categorical algebra.
This simple observation does not distance the author from the current fashion
and the current belief: the ‚Äúhomotopical‚Äù approach to higher categories proved to be
a valid tool to actually do beautiful mathematics, and speaks a subtle and intricate
language, forbidden to the inhabitants of the 1-dimensional world. Nevertheless,
17One of the main tenets of higher category theory is that, whatever they are, these objects
live in the world of (abstract) homotopy theory. There are several ways to justify this apparently
strange remark, but this margin is too narrow to contain any of them: the starting point for
most of them is that the nerve functor Ni (as described in ¬ß3) provides a fully faithful embedding
Cat ‚äÜsSet; the wild variety of model structures on the category of simplicial sets becomes then a
tool to better understand category theory.

58
FOSCO LOREGIAN
we feel this is the right place to clarify our philosophical position. At the moment
of writing this note we (as a community) witness several attempts to acquire a
deeper understanding of the landscape of current mathematics at the level of its
fundamental architecture; category theory, with its indisputable uniÔ¨Åcation power,
can be encoded in homotopy theory, and this is part of a turnaround which takes
the notion of homotopy as a primitive idea interacting with the similarly primitive
notion of structure and operation on a space (seen from this perspective, sets are
discrete groupoids and hence particular cases of topological spaces): there is a
growing feeling that any attempt to rewrite a piece of ‚Äúold‚Äù mathematics turning
it into an ‚Äúhomotopically meaningful‚Äù statement is, in a suitable sense, a piece of
higher category theory.
This is a peculiar, transitional moment in pure mathematics; several generations
used to think in terms of set theory resist the revolution, thinking that the homotopy
groups of spheres form too complicated an object to ‚Äúlie at the foundation‚Äù of
current mathematics. This point of view in some sense indisputable, and yet the
author feels that it underlies a subtle epistemological problem (what is ‚Äúsimple
mathematics‚Äù? What has, and what has not, the right to be considered a primitive
entity? What is, in the end, the ‚Äúright‚Äù primitive entity to choose for a foundation
of mathematics?) which has no hope to be solved ever (so a fortiori, not in the
space of this paragraph).
At the very least, this suggests that the extremely positive attitude towards the
outreach of category theory among the barbarians18 must be taken with a grain
of salt. Categorical jargon gets more and more acknowledged as more and more
applications for it are found, and yet it still suÔ¨Äers from a certain ostracism by
some parts of the mathematical community. This is not, or at least not completely,
their fault, and results in a generalized discomfort.
Together with the development of the language, nobody cared about a comple-
mentary development of self-contained presentations, designed to be as elementary
as possible; many people forgot how this is essential for a rapid and ‚Äú healthy ‚Äù
diÔ¨Äusion of good ideas. The canonical sources where higher category theory has
been distilled are diÔ¨Écult and time-consuming readings; this leaves many people
behind. The technical subtleties, the intrinsic diÔ¨Éculty of simplicial homotopy
theory and the lack of a metatheory serving as intuition in natural language make
the big picture visible only to a handful of people, often the same creators of the
theory; this deters other people to collaborate.
In this age where categorical language is expanding, it is more necessary than ever
to write, to write well, and write simply, letting everyone in. It is a deep author‚Äôs
conviction that by doing this the overall health of mathematical practice signiÔ¨Åcantly
improves, as well as the prompt and faithful diÔ¨Äusion of profound ideas that would
otherwise be exclusively dedicated to an √©lite. Rather, it is the consequence of a
precise historical moment and ideology. This kind of commitment, carried out in the
past, allowed generations of totally unprepared students to appreciate the depth of
18The word here only means ‚Äúthe people living outside the polis of category theory‚Äù, without
any pejorative meaning.

ENDS
59
rich and complex deÔ¨Ånitions (now for real, undoubtedly, a root of the mathematical
language essential to every practitioner).
As in all critical moments ‚Äìin which you carefully consider the risks and beneÔ¨Åts
of a language-shift‚Äì we should be oriented towards ideological openness and a
multilingual attitude: this simple pedagogical principle is unfortunately often
forgotten by innovators of all ages.
It is diÔ¨Écult to foresee where the current landscape will lead us; eventually, the
world will become Tl√∂n. All we can do until then is wait, and have fun learning
something beautiful.
7.1. 2-coends.
One of the most immediate generalization of co/end-fu lives in
the world of 2-categories, where 1-cells f, g : x ‚Üíy admit ‚Äú2-cells‚Äù alpha : f ‚áíg.
In view of Prop. 1.3, to deÔ¨Åne 2-co/ends we must exploit some Ô¨Çavour of limit
and colimit in 2-category theory: this calculus has a rather natural interpretation in
terms of enriched category theory ([KS74, Kel89], for example, oÔ¨Äer an invaluably
complete survey on this topic, but the reader should be aware that 2-category theory
is not the theory of Cat-enriched categories). Here the reader is also warned that
the following discussion has little or no hope to be a self-contained exposition, and
instead heavily relies on the existing literature, for example on classical sources like
[Kel82, Dub70].
Notation 7.1 : As always when dealing with higher dimensional cells and their com-
positions, there are several ‚ÄúÔ¨Çavours‚Äù in which one can weaken strict commutativity:
besides this strictness (where every diagram commutes with an implicit identity
2-cell Ô¨Ålling it), there is a notion of strong commutativity and universality, where
Ô¨Ålling 2-cells are requested to be invertible, and lax commutativity/universality,
where 2-cells are possibly non-invertible.19
The deÔ¨Ånition of lax end of a 2-functor S (given in terms of a universal lax wedge
œâ: b
..‚àí‚ÜíS) is the most general and less symmetric one can give: it specializes to
the notion of strong end, and strict end according to the terminology above (and of
course, it can still be dualized to deÔ¨Åne colax coends!); this subsection is designed
in such a way to reduce to the strong and strict cases as particular examples.
Local notation.
For the rest of the section we adopt some local conventions: Ô¨Årst
of all, we denote A 99K B a lax functor between two 2-categories A, B; as sketched
above, this means that we have a correspondence F0 : Ob(A) ‚ÜíOb(B) and a
correspondence F1 : hom1(A) ‚Üíhom1(B) at the level of 1-cells, such that there
exist ‚Äúlaxity cells‚Äù F(g)F(f) ‚áíF(gf) and idF0a ‚ÜíF1(ida), satisfying ‚Äúobvious‚Äù
coherence conditions.
This said, 2-category theory exists in many dialects: we mainly follow a natural
and auto-explicative notation based on the canonical reference [Kel89], but we feel
free to diverge from it from time to time: the operations of whiskering of an higher
cell with a lower cell is denoted with the symbol ‚àó, so that F ‚àóŒ±: FH ‚áíFK and
19Obviously there are two possible choices for a direction in which a non-invertible ‚Äúlaxity
cell‚Äù can go: a map endowed with a canonical 2-cell F(g)F(f) ‚áíF(gf); the same correspondence,
with 2-cells F(gf) ‚áíF(g)F(f) is called oplax functor.

60
FOSCO LOREGIAN
Œ± ‚àóG: HG ‚áíKG for natural transformation Œ±: H ‚áíK and suitable functors
F, G.
DeÔ¨Ånition 7.2 [lax wedge]: Let S : Aop √ó A ‚ÜíB be a strict 2-functor between
strict 2-categories. A lax wedge based at S consists of a triple {b, œâOb, œâhom}, where
b ‚ààOb(B) (the tip of the wedge) and collections of 1-cells

œâa : b ‚ÜíS(a, a)
	
, one
for each a ‚ààOb(A), and 2-cells

œâf : S(a, f) ‚ó¶œâa ‚áíS(f, a‚Ä≤) ‚ó¶œâa‚Ä≤	
, in a diagram
B
S(a, a)
S(a‚Ä≤, a‚Ä≤)
S(a, a‚Ä≤)
œâa
S(a,f)
œâa‚Ä≤
S(f,a‚Ä≤)
œâf
These data must Ô¨Åt together in such a way that the following coherence axioms,
expressed by the commutation and pasting of the following diagrams of 2-cells, are
satisÔ¨Åed:
(1) The diagram of 2-cells
B
S(a, a)
S(a‚Ä≤, a‚Ä≤)
S(a, a‚Ä≤)
œâa
S(a,f)
œâa‚Ä≤
S(f,a‚Ä≤)
S(f ‚Ä≤,a‚Ä≤)
œâf
B
S(a, a)
S(a‚Ä≤, a‚Ä≤)
S(a, a‚Ä≤)
œâa
S(a,f)
œâa‚Ä≤
S(f,a‚Ä≤)
S(a,f ‚Ä≤) S(a,Œª)
œâf‚Ä≤
is commutative for any Œª: f ‚áíf ‚Ä≤, i.e. the equation
œâf ‚Ä≤ ‚ó¶(S(a, Œª) ‚àóœâa) = (S(Œª, a‚Ä≤) ‚àóœâa‚Ä≤) ‚ó¶œâf
(154)
holds.
(2) For each pair a
f‚àí‚Üía‚Ä≤
f ‚Ä≤
‚àí‚Üía‚Ä≤‚Ä≤ of composable arrows in A, the diagram of
2-cells
B
S(a‚Ä≤‚Ä≤, a‚Ä≤‚Ä≤)
S(a, a)
S(a‚Ä≤, a‚Ä≤)
S(a‚Ä≤, a‚Ä≤‚Ä≤)
S(a, a‚Ä≤)
S(a, a‚Ä≤‚Ä≤)
œâa‚Ä≤‚Ä≤
S(f ‚Ä≤,a‚Ä≤‚Ä≤)
S(f,a‚Ä≤‚Ä≤)
œâa
S(a,f)
S(a,f ‚Ä≤)
œâa‚Ä≤
œâf‚Ä≤
œâf
B
S(a‚Ä≤‚Ä≤, a‚Ä≤‚Ä≤)
S(a, a)
S(a‚Ä≤, a‚Ä≤‚Ä≤)
S(a, a‚Ä≤)
S(a, a‚Ä≤‚Ä≤)
œâa‚Ä≤‚Ä≤
S(f ‚Ä≤,a‚Ä≤‚Ä≤)
S(f,a‚Ä≤‚Ä≤)
œâa
S(a,f)
S(a,f ‚Ä≤)
œâf‚Ä≤f

ENDS
61
is commutative, i.e. the equation
(S(f, a‚Ä≤‚Ä≤) ‚àóœâf ‚Ä≤) ‚ó¶(S(a, f ‚Ä≤) ‚àóœâf) = œâf ‚Ä≤f
(155)
holds.
(3) For each a ‚ààA, œâida = idœâa.
Notation 7.3 : We use the compact notation œâ: b
..‚àí‚ÜíS for a lax wedge; this is
evidently reminiscent of our Def. 1.6 and [ML98].
DeÔ¨Ånition 7.4 [Modification]: A modiÔ¨Åcation Œò: œâ ‚áõœÉ between two lax wedges
œâ, œÉ: b
..‚àí‚ÜíS for S : Aop √ó A ‚ÜíB consists of a collection of 2-cells {Œòa : œâa ‚áí
œÉa}a‚ààOb(A) such that the diagram of 2-cells
B
S(a‚Ä≤, a‚Ä≤)
S(a, a)
S(a, a‚Ä≤)
œÉa
S(a,f)
œâa‚Ä≤
S(f,a‚Ä≤)
œâa
Œòa
œâf
B
S(a‚Ä≤, a‚Ä≤)
S(a, a)
S(a, a‚Ä≤)
œÉa
S(a,f)
œÉa‚Ä≤
S(f,a‚Ä≤)
œâa‚Ä≤
Œòa‚Ä≤
œÉf
is commutative, i.e.
(S(a, f) ‚àóŒòa) ‚ó¶œâf = œÉf ‚ó¶(S(f, a‚Ä≤) ‚àóœâa‚Ä≤)
(156)
The deÔ¨Ånition of a modiÔ¨Åcation is modeled on the deÔ¨Ånition of modiÔ¨Åcation
between (lax) natural transformations; modiÔ¨Åcations [Bor94a] form the 3-cells of
the 3-category 2-Cat (2-Catlax), whose objects are 2-categories, 1-cells are (lax)
functors, 2-cells are (lax) natural transformations.
ModiÔ¨Åcations follow rules for ‚Äúwhiskering‚Äù which are similar to those for natural
transformations and 2-cells, only in higher dimension (and in a much complicated
web of relations between all the possible compositions: there are now three possible
directions in which 3-cells can be composed).
Remark 7.5 : There is another more general deÔ¨Ånition for a modiÔ¨Åcation Œò: œâ ‚áõœÉ
between lax wedges having diÔ¨Äerent domains, say {b, œâ} and {b‚Ä≤, œÉ}: it consists of a
morphism œï: b ‚Üíb‚Ä≤ and a 2-cell Œªa : œÉa ‚ó¶œï ‚áíœâa such that
(œÉf ‚àóœï) ‚ó¶(S(a, f) ‚àóma) = (S(f, a‚Ä≤) ‚àóma‚Ä≤) ‚ó¶œâf
(157)
(draw the corresponding diagram of 2-cells). Nevertheless, we are not interested in
this alternative deÔ¨Ånition.
Def.
7.4 entails that the set LFun(b, S) of lax wedges b
..‚àí‚ÜíS is a category
having morphisms precisely the modiÔ¨Åcations Œò: œâ ‚áõœÉ, and the correspondence
Œ≤S : b 7‚ÜíLFun(b, S) is functorial. The deÔ¨Ånition of lax end for S relies on the
representability of this 2-functor.
DeÔ¨Ånition 7.6 [Lax end of S]: Let S : Aop √ó A ‚ÜíB be a 2-functor; a lax wedge
œâ: b
..‚àí‚ÜíS is called the lax end of S, and denoted
‚Ä∫
a S(a, a)
..‚àí‚ÜíS if for any other

62
FOSCO LOREGIAN
lax wedge œÉ: b‚Ä≤ ‚ÜíS there exists a unique 1-cell x: b‚Ä≤ ‚Üíb between the tips of the
wedges such that
œâa ‚ó¶x = œÉa,
œâf ‚àóx = œÉf
i.e. the diagram of 2-cells
b
S(a, a)
S(a‚Ä≤, a‚Ä≤)
S(a, a‚Ä≤)
b‚Ä≤
œÉa
S(a,f)
œÉa‚Ä≤
S(f,a‚Ä≤)
x
œâa
œâa‚Ä≤
œâf
S(a, a)
S(a‚Ä≤, a‚Ä≤)
S(a, a‚Ä≤)
b‚Ä≤
œÉa
S(a,f)
œÉa‚Ä≤
S(f,a‚Ä≤)
œÉf
commutes, and if every modiÔ¨Åcation Œò: œÉ ‚áõœÉ‚Ä≤ induces a unique 2-cell Œª: x ‚áíx‚Ä≤
(x‚Ä≤ is the arrow induced by œÉ‚Ä≤) in such a way that Œª ‚àóœâa = Œòa. This realizes the
isomorphism of categories between lax wedges b
..‚àí‚ÜíS and B(b,
‚Ä∫
a S(a, a)).
We denote, with an evident and harmless abuse of notation,
BS =
‚Äú
a
S(a, a).
(158)
Remark 7.7 : The notation chosen for
‚Ä∫
a S has a meaning: ideally, the n-co/end
operation is depicted by an integral symbol (accordingly super- or subscripted)
overlapped by an 2n-agon; in this way, a 2-end has the right to be denoted as a
‚Äúsquare-integral‚Äù
‚Ä∫
, and a ‚àû-end (see Def. 7.31) should be denoted as a
¬∏
symbol,
the circle being a polygon with an inÔ¨Ånite number of sides.
7.1.1. Lax co/end calculus.
Several kata of coend-fu proved in our ¬ß1 and ¬ß2
remain true after a proper ‚ÄúlaxiÔ¨Åcation‚Äù, justifying the intuition of lax co/ends as
the right 2-categorical generalization of strict co/ends. We collect the most notable
examples of this phenomenon in the rest of the section; the content of 7.1.2 surely
deserves a special mention, as well as other remarks chosen to convey a sense of
continuity and analogy. In 7.1.2 we prove that the lax counterpart of the ninja
Yoneda lemma 2.1 provides a reÔ¨Çection (using coends) and a reÔ¨Çection (using ends)
of the category of strong presheaves into the category of lax presheaves.
Example 7.8 : The comma objects (f/g) [Gra74] of a 2-category B can be identiÔ¨Åed
with the lax end of functors 2op √ó 2 ‚ÜíB choosing the two 1-cells f, g; this is a
perfect analogy of Exercise 1.E12, also in view of the characterization of the comma
object (f/g) as a lax pullback in Cat.
Example 7.9 : If F, G: A ‚ÜíB are 2-functors, then the lax end of the functor
B(F, G): Aop √ó A ‚ÜíCat
(159)
is given by the formula ‚Äú
a
B(Fa, Ga) ‚àº= LFun(A, B)(F, G)
(160)

ENDS
63
where LFun(A, B)(F, G) is the set of lax natural transformations between lax functors
F, G: A ‚ÜíB deÔ¨Åned in [Gra74].
Proof. A lax wedge for the 2-functor (a, a‚Ä≤) 7‚Üíhom(Fa, Ga‚Ä≤) amounts to a square
a
a‚Ä≤
c.
h
u‚Ä≤
u
Œ±
Ô¨Ålled by a 2-cell œÑf : G(f)‚àó‚ó¶œÑa ‚áíF(f)‚àó‚ó¶œÑa‚Ä≤. Each of the functors œÑa : E ‚Üí
hom(Fa, Ga) sends e ‚ààE into an object œÑa(e) such that
G(f) ‚ó¶œÑa(e)
œÑf
=‚áíœÑa‚Ä≤(e) ‚ó¶F(f)
(161)
which is precisely what is needed to show that the correspondence e 7‚Üí{œÑa(e)}a‚ààA
factors through LFun(A, B)(F, G) ‚äÜQ
a‚ààA hom(Fa, Ga).
‚ñ°
Lax natural transformations Œ∑: F 99K G, described as the lax end above, can
also be characterized as lax limits in the enriched sense: this motivates the search
for a description of lax co/ends which is analogue to our 1.3, where instead of strict
co/equalizers we use [Kel89]‚Äôs notion of co/inserter.
For the ease of the reader, we recall now how these lax limits are deÔ¨Åned (see
[Kel89, ¬ß4]):
DeÔ¨Ånition 7.10 : Let f, g: x ‚Üíy be two parallel 1-cells in the 2-category C; the
inserter Ist(f, g) is deÔ¨Åned as a pair (p, Œª) where p: Ist(f, g) ‚Üíx is a 1-cell in C
and Œª: fp ‚áígp is a 2-cell, universal with respect to the property of connecting
fp, gp: this means that whenever we are given a diagram
x
b
y
x
q
f
q
g
¬µ
this can be split as the whiskering
x
b
Ist(f, g)
y
x
h
p
f
p
g
q
q
Œª
for a unique 1-cell h: b ‚ÜíIst(f, g) in C: this means, again, that ph = q and
Œª ‚àóh = ¬µ.

64
FOSCO LOREGIAN
This remark motivates the search for a description of lax co/ends as lax co/limits,
on the same lines of our Remark 1.13; this is the content of Prop. 7.19 in this
section.
Moreover, as an analogue of the claim for 1-dimensional co/ends, we will prove
that the lax co/end of a functor which is mute in a variable coincides with the lax
co/limit of the same functor restricted to the unmuted component:
Remark 7.11 [Commutation of lax limits]: Strict limits are obviously particular
cases of lax limits; since the classical argument, slightly modiÔ¨Åed to encompass the
presence of non trivial laxity cells, applies to show that lax limits commutes with
lax limits (in an obvious sense which we invite the keen reader to make precise), we
obtain that lax co/limits (and lax co/ends) commute with strict co/limits (and lax
co/ends).
This simple remark will be used all along the present section, and in a similar
way we can deduce the ‚Äúlax Fubini rule‚Äù for iterated lax co/ends: here is an ordered
exposition for these results.
Proposition 7.12 [Co/ends of mute functors]: Suppose that the 2-functor
S : Aop√óA ‚ÜíB is mute in the contravariant variable, i.e. that there is a factorization
S = S‚Ä≤ ‚ó¶p: Aop √ó A
p‚àí‚ÜíA
S‚Ä≤
‚àí‚ÜíB
‚Äú
a
S(a, a) ‚àº= q-lim
‚Üê‚àí‚àíS‚Ä≤
(162)
hence every lax co/limit can be computed as a lax co/end.
Example 7.13 : As a particular example of this, if A is locally discrete (i.e. identiÔ¨Åed
with a locally small 1-category) and if the functor S‚Ä≤ : A ‚ÜíB is constant, i.e.
S‚Ä≤(a) ‚â°b for each a ‚ààA, then
‚Ä∫
a S is called cotensor of b by A and is denoted
b ‚ãîA.
Theorem 7.14 [Parametric lax Ends]: Whenever a functor F : Aop √ó A √ó B ‚ÜíC
is deÔ¨Åned, and the lax end
‚Ä∫
a F(b, a, a) exists for every B ‚ààB, then b 7‚Üí
‚Ä∫
a F(b, a, a)
extends to a 2-functor B ‚ÜíC which has the universal property of the lax end of its
mate ÀÜF : Aop √ó A ‚ÜíCB under the obvious adjunction.
Theorem 7.15 [Fubini rule for lax co/ends]: If one among the following lax
ends exists, then so does the others, and the three are canonically isomorphic:
‚Äú
b,c
T(b, c, b, c)
‚Äú
b
‚Äú
c
T(b, c, b, c)

‚Äú
c
‚Äú
b
T(b, c, b, c)

(163)
Corollary 7.16 [Fubini rule for lax co/limits]: Lax limits commute: if T : B √ó
C ‚ÜíD is a 2-functor, we have
q-lim
‚Üê‚àí‚àí
b‚ààB
q-lim
‚Üê‚àí‚àí
c‚ààC
T(b, c) ‚àº= q-lim
‚Üê‚àí‚àí
c‚ààC
q-lim
‚Üê‚àí‚àí
b‚ààB
T(b, c).
(164)

ENDS
65
7.1.2. The lax ninja Yoneda lemma.
The lax analogue of Prop. 2.1 acquires
a peculiar Ô¨Çavour in this context, since it consists of an argument showing the
co/reÔ¨Çectivity of the category of strict presheaves Cop ‚ÜíCat in the category of lax
presheaves Cop 99K Cat: there is a diagram of adjoint 2-functors
Fun(Cop, Cat)
LFun(Cop, Cat)
(
)‚ô≠
(
)‚ôØ
‚ä£
‚ä£
where the central arrow is the inclusion. This means that for each strict 2-functor
H ‚ààCat(Cop, Cat) there are two natural isomorphisms
Cat(Cop, Cat)(H, F ‚ô≠) ‚àº= LFun(Cop, Cat)(H, F),
Cat(Cop, Cat)(F ‚ôØ, H) ‚àº= LFun(Cop, Cat)(F, H)
(165)
We want to show that the functors F ‚ô≠and F ‚ôØare deÔ¨Åned by the lax coends
F ‚ôØ‚àº=
‚Äú a
C(
, a) √ó Fa
F ‚ô≠‚àº=
‚Äú
a
FaC(a,
).
(166)
Proof. The proof exploits Example 7.9 as well as the commutation of co/ends and
lax co/ends, the preservation of lax co/ends by the hom functor, and the strict
ninja Yoneda lemma: it is a simple calculation, that we can write as
Cat(Cop, Cat)(H, F ‚ô≠) =
ÀÜ
c
Cat(Hc, F ‚ô≠c)
=
ÀÜ
c
Cat

Hc,
‚Äú
a
Cat(C(a, c), Fa)

‚àº=
ÀÜ
c
‚Äú
a
Cat(Hc, Cat(C(a, c), Fa))
‚àº=
‚Äú
a
ÀÜ
c
Cat(Hc √ó C(a, c), Fa)
‚àº=
‚Äú
a
Cat
ÀÜ c
Hc √ó C(a, c), Fa

‚àº=
‚Äú
a
Cat(Ha, Fa)
(7.9)
= LFun(Cop, Cat)(H, F).
The proof that Cat(Cop, Cat)(F ‚ôØ, H) ‚àº= LFun(Cop, Cat)(F, H) is done in a similar
fashion.
‚ñ°
Example 7.17 : Let 1: Cop 99K Cat be the functor sending c ‚ààC into the terminal
category, regarded as a lax functor. Then the strict functor 1‚ôØ: Cop ‚ÜíCat is the
lax coend
1‚ôØ(c) ‚àº=
‚Äú a
1(a) √ó C(a, c) ‚àº=
‚Äú a
C(a, c).
(167)

66
FOSCO LOREGIAN
Hence the category
‚Ä∫ a C(a, c) coincides with the lax colimit of the strict presheaf
Cop ‚ÜíCat, a 7‚ÜíC(a, c), which is [Str76, p. 171] the lax slice category C//c of
commutative diagrams of 2-cells
a
a‚Ä≤
c.
h
u‚Ä≤
u
Œ±
A long and straightforward unwinding of universal properties shows that the category
C//c enjoys the universal property of the lax colimit q-lim
‚àí‚àí‚ÜíC(
, c).
Remark 7.18 [The twisted arrow category as a lax colimit]: This is an
interesting remark, as it came as a surprise to the author. It is possible to characterize
the (opposite of the) twisted arrow category of Def. 1.12 as the lax colimit of the
diagram a 7‚ÜíA/a, i.e. as the lax coend
‚Äú a
A/a.
(168)
This is another long and straightforward exercise in unwinding universal properties,
in a similar vein than Example 4.19, that we leave to the interested reader.
Proposition 7.19 : [Boz80, ¬ß2] There is a canonical isomorphism between the lax
end of a 2-functor T : Cop √ó C ‚ÜíB and the limit of T weighted by the bifunctor
C((
)‚ôØ,
), i.e.
lim
‚Üê‚àí
C((
)‚ôØ,
)T ‚àº=
‚Äú
a
T(a, a)
(169)
where C((
)‚ôØ,
): (c, c‚Ä≤) 7‚ÜíC(
, c‚Ä≤)‚ôØ(c) =
‚Ä∫ a C(c, a)√óC(a, c‚Ä≤) is the lax composition
of relators. A dual statement holds for lax coends.
Proof. The classical argument which exploits the conservativity of the Yoneda
embedding applies: we can compute
B

b, lim
‚Üê‚àí
C((
)‚ôØ,
)T
 (4.17)
=
lim
‚Üê‚àí
C((
)‚ôØ,
)B(b, T)
(4.8) ‚àº=
ÀÜ
c,d
B(b, T(c, d))C(c‚ôØ,d)
=
ÀÜ
c,d
B(b, T(c, d))
‚Ä∫ a C(c,a)√óC(a,d)
‚àº=
‚Äú
a
ÀÜ
c,d

B(b, T(c, d))C(a,d)C(c,a)
(7.15) ‚àº=
‚Äú
a
ÀÜ
c
Cat

C(c, a),
ÀÜ
d
B(b, T(c, d))C(a,d)

‚àº=
‚Äú
a
ÀÜ
c
Cat (C(c, a), B(b, T(c, a)))
‚àº=
‚Äú
a
B(b, T(a, a)) = B

b,
‚Äú
a
T(a, a)

.
‚ñ°

ENDS
67
We can deÔ¨Åne the tensor of a category T with an object a ‚ààA, denoted T ¬∑ a by
means of a lax coend; it is characterized by the natural isomorphism (in x)
Cat(T, A(a, x)) ‚àº= A(T ¬∑ a, x).
(170)
Now, let S : Aop ‚ÜíCat, T : A ‚ÜíB be two functors and suppose B has Cat-tensors;
then the lax coend of the 2-functor Aop √ó A
S√óT
‚àí‚àí‚àí‚ÜíCat √ó B
¬∑‚àí‚ÜíB is called q-tensor
product of S and T, denoted
S ‚äóT =:
‚Äú a
Sa ¬∑ Ta.
(171)
More fundamental and subtle results, like the reduction of co/ends to co/limits,
and the preservation of co/ends by the hom functors, remain valid for lax co/ends:
Theorem 7.20 : In a 2-category B, lax co/ends exist provided that B has co/comma
objects and Cat-co/limits.
Theorem 7.21 : The lax end of the functor T : Aop √ó A ‚ÜíB, if it exists, is uniquely
determined by the natural isomorphism
B

x,
‚Äú
a
T(a, a)

‚àº=
‚Äú
a
B(x, T(a, a))
(172)
for every object x ‚ààA. A dual statement holds for lax coends.
7.1.3. Applications: 2-distributors and lax Kan extensions.
A 2-distributor
œï: A ‚áùB is a 2-functor œï: Bop √ó A ‚ÜíCat. lax coends gives a method to compose
2-distributors, as in the 1-dimensional case: more precisely, let
A
œï‚áùB
œà‚áùC
(173)
be a couple of composable 2-distributors, namely two 2-functors œï: Bop √ó A ‚ÜíCat
and œà: Cop √ó B ‚ÜíCat; then the composition œà ‚ãÑœï is deÔ¨Åned by the coend
œà ‚ãÑœï(c, a) =
‚Äú b
œï(b, a) √ó œà(c, b)
(174)
The compatibility between lax colimits and products ensures that the expected
associativity holds up to a canonical identiÔ¨Åcation:
(œâ ‚ãÑœà) ‚ãÑœï ‚àº= œâ ‚ãÑ(œà ‚ãÑœï)
(175)
for any three A
œï‚áùB
œà‚áùC
œâ‚áùD.
Let T : A ‚ÜíB and œï: A ‚ÜíC be two 2-functors.
DeÔ¨Ånition 7.22 : We call (left) quasi-Kan extension of œï along T a 2-functor
LanT œï: B ‚ÜíC endowed with a quasi-natural transformation a: œï ‚áíLanT œï ‚ó¶T
(a unit) such that, for each 2-functor S : B ‚ÜíC endowed with Œª: œï ‚áíS ‚ó¶T there
exists a unique Cat-natural transformation Œ∂ : LanT œï ‚áíS such that
(Œ∂ ‚àóT) ‚ó¶Œ± = Œª
(176)
and moreover, if Œ£: Œª ‚áõŒª‚Ä≤ is a modiÔ¨Åcation between quasi-natural transformations,
there is a unique modiÔ¨Åcation ‚Ñ¶: Œ∂ ‚áõŒ∂‚Ä≤ (where Œ∂ is induced by Œª, and Œ∂‚Ä≤ by

68
FOSCO LOREGIAN
Œª‚Ä≤) between Cat-natural transformations such that (‚Ñ¶‚àóT) ‚ó¶Œ± = Œ£. This can be
expressed with the isomorphism
[A, C]
 œï, S ‚ó¶T
 ‚àº= [B, C]
 LanT œï, S

(177)
which is natural in S.
Example 7.23 : The quasi-Kan extension of a 2-functor œï: A ‚ÜíC along the trivial
2-functor A ‚Üí1 is the lax colimit of œï.
Remark 7.24 : We can obtain diÔ¨Äerent notions of quasi-Kan extension by reversing
the directions of Œ±, Œª, Œ∂ etc. The example above, as well as the following theorem,
shows that the choice of Cat-natural transformations instead of quasi-natural
transformations is the right choice (see also [Boz80] for a dual statement):
Theorem 7.25 : Notations as above. If C has at least tensors B(Ta, b) ¬∑ œïa‚Ä≤ for each
a, a‚Ä≤ ‚ààA, and the lax coends
‚Äú a
B(Ta, b) ¬∑ œïa
(178)
then the quasi-Kan extension of œï along T exists, and it is given by the formula
above.
We can mimick also Exercise 2.E1 to obtain a lax analogue of it:
Proposition 7.26 : Let LNat(U, V ) denote the category of lax natural transformations
between two 2-functors U, V . Then
LNat(F √ó G, H) ‚àº= LNat(F, HG),
(179)
where HG(x) = LNat(„Çà(A) √ó G, H) =
‚Ä∫
y Sets(hom(y, x) √ó Gy, Hy)
Proof. It is a computation in coend-fu, and every step can be motivated by results
in the present section: calculemus.
LNat(F, HG) =
‚Äú
x
Sets(Fx, LNat(„Çà(A) √ó G, H))
‚àº=
‚Äú
x
‚Äú
y
Sets(Fx, Sets(hom(y, x) √ó Gy, Hy))
‚àº=
‚Äú
y
Sets
 ‚Äú x
Fx √ó hom(y, x)

√ó Gy, Hy

‚àº=
‚Äú
y
Sets
 Fy √ó Gy, Hy

= LNat(F √ó G, H).
‚ñ°
7.2. Homotopy coends and ‚àû-coends.
Higher category theory is now living
a Renaissance, thanks to a massive collaboration of several people drawing from
various Ô¨Åelds of research, and cooperating to re-analyze every feature of category
theory in the topos of simplicial sets.
Several reasons, and the urge to keep this chapter Ô¨Ånite-dimensional force us to
take for granted a certain acquaintance with the language of ‚àû-categories √† la Joyal-
Lurie, but we also try to oÔ¨Äer at least an intuition for what‚Äôs going on and why things

ENDS
69
are done that way. The reader seeking a deeper understanding of this topic is advised
to quit their job and move to Mojave desert with [Lur09, Joy08, Joy02a, JT07] and
a bag full of good weed.
Here we present the theory of homotopy co/ends 7.2.1 in model category theory,
and then we move to the theory of quasicategorical 7.2.2 co/end calculus and
simplicially coherent 7.3 coends. A Ô¨Ånal paragraph explores the deÔ¨Ånition of a
co/end in a derivator E10, and this concludes the discussion of co/end calculus in
each of the most common models for higher categories (model categories, enriched
categories, simplicial sets, derivators). We leave aside a rather important question,
that is model dependence: for example, does an homotopy co/end correspond to an
‚àû-co/end if we pass from model categories to quasicategories? It is a subtle issue,
derailing us from our primary objective.
Sometimes we follow the unique references available, and surely we are leaving
out some other important sources: we take [CP97] for sSet-enriched co/ends, and
[GHN15] for quasicategorical ones. The deÔ¨Ånition of a coend in a derivator comes
from the extensive treatment of category theory in Grothendieck‚Äôs derivators started
by M. Groth [Gro13].
7.2.1. Co/ends in model categories.
One of the most important parts of model
category theory (the study of those structures that set homotopy theory in a purely
formal framework) is the study of homotopy co/limits.
It is a fact, inherent to the theory, that colimit functors lim
‚àí‚ÜíJ : CJ ‚ÜíCare often
quite ill-behaved with respect to a homotopical structure: such a thing is determined
by the speciÔ¨Åcation of a distinguished class of arrows W‚äÜhom(C) (these are called
weak equivalences) which is the class of isomorphisms in a ‚Äúlocalization‚Äù of C. If C
has such a structure, then every category CJ acquires an analogous structure WJ
where Œ∑: F ‚áíG is in WJ if and only if each component Œ∑j : Fj ‚ÜíGj is in W.
It is a fact that the image of such a natural transformation Œ∑: F ‚áíG under the
colimit functor, lim
‚àí‚ÜíŒ∑: lim
‚àí‚ÜíF ‚Üílim
‚àí‚ÜíG is not always a weak equivalence.20
This is an unavoidable feature of the colimit functor lim
‚àí‚ÜíJ : CJ ‚ÜíC. One of the
main tenets of homotopy theory is, nevertheless, that it doesn‚Äôt matter if we replace
an object with another, as soon as the two yield equivalent results. There is hope,
then, that the category of functors CJ contains a better-behaved representative for
the functor lim
‚àí‚Üí, and that the two are linked by some sort of weak- or homotopy
equivalence.
That‚Äôs what a homotopy colimit is: a deformation holim
‚àí‚àí‚àí‚Üíof lim
‚àí‚Üíthat preserves
pointwise weak equivalences. And this is a general procedure in homotopy theory,
where most objects X are not ‚Äúcompatible‚Äù with the homotopical structures we
superimpose on our category of spaces, and yet one is often able to Ô¨Ånd better-
behaved representatives ÀúX in the same homotopy class.
20A minimal instructive example goes as follows: take J to be the generic span 1 ‚Üê0 ‚Üí2 and
the functor sending it to ‚àó‚ÜêSn‚àí1 ‚Üí‚àó; the colimit of F is the terminal space ‚àó. We can replace
F with the diagram D2 ‚ÜêSn‚àí1 ‚ÜíD2, and since disks are contractible there is a homotopy
equivalence ÀúF ‚áíF; unfortunately, the induced arrow lim
‚àí‚ÜíÀúF = S2 ‚Üí‚àóis not a weak equivalence.

70
FOSCO LOREGIAN
Remark 7.27 : Let ‚ä†: A √ó B ‚ÜíC be the t part of a thc situation (see 3.12), which
is moreover left Quillen, and let I be a Reedy category ([Hov99, Def. 5.2.1]). Then
the coend functor
ÀÜ
: Cat(Iop, A) √ó Cat(I, B) ‚ÜíC
(180)
is a left Quillen bifunctor if we regard the functor categories Cat(Iop, A) and
Cat(I, B) endowed with the Reedy model structure. The same is true if I is not
Reedy, but the categories A, B, C are all combinatorial, and there is the projective
model structure on Cat(I, B), and the injective on Cat(Iop, A).
7.2.2. Co/ends in quasicategories.
Remark 7.28 : As a rule of thumb, the translation procedure from category to
‚àû-category theory is based on the following meta-principle: Ô¨Årst you rephrase
the old deÔ¨Ånition in a ‚Äúsimplicially meaningful‚Äù way, so that the ‚àû-categorical
deÔ¨Ånition specializes to the old one for quasicategories N(C) which arise as nerves
of categories. Then you forget about the original gadget and keep the simplicial
one; this turns out to be the right deÔ¨Ånition.
The Ô¨Årst victim of this procedure is the twisted arrow category 1.12 of an
‚àû-category.
DeÔ¨Ånition 7.29 [Twisted arrow ‚àû-category]: Let Œµ: ‚àÜ
‚àÜ
‚àÜ‚Üí‚àÜ
‚àÜ
‚àÜbe the functor
[n] 7‚Üí[n] ‚ãÜ[n]op, where ‚ãÜis the join of simplicial sets [Joy08, EP08]. Let C be a ‚àû-
category; the twisted arrow category tw(C) is deÔ¨Åned to be the simplicial set Œµ‚àóC,
where Œµ‚àó: sSet ‚ÜísSet is the induced functor. More explicitly, and consequently,
the n-simplices of tw(C) are characterized by the relation
tw(C)n ‚àº= sSet(‚àÜ[n], tw(C)) ‚àº= sSet(‚àÜ[n] ‚ãÜ‚àÜ[n]op, C).
(181)
The most important feature of the twisted arrow category is that it admits a
Ô¨Åbration over Cop √ó C (part of its essential properties can be deduced from this);
the machinery of left and right Ô¨Åbrations exposed in [Lur09, Def. 2.0.0.3] gives that
‚Ä¢ There is a canonical simplicial map Œ£: tw(C) ‚ÜíCop √ó C (induced by the
two join inclusions ‚àÜ[
], ‚àÜ[
]op ‚Üí‚àÜ[
] ‚ãÜ‚àÜ[
]op);
‚Ä¢ This ‚àû-functor is a right Ô¨Åbration in the sense of [Lur09, Def. 2.0.0.3].
Remark 7.30 : It is rather easy to see that the above deÔ¨Ånition is reasonable: a
0-simplex in tw(C) is an edge f : ‚àÜ[1] ‚ÜíC, and a 1-simplex of tw(C) is a 3-simplex
thereof, that we can depict as a pair of edges (u, v), such that the square having
twisted edges
f

u
o
f ‚Ä≤

v
/
(182)
commutes. This suggest (as it must be) that the deÔ¨Ånition of tw(C) for a ‚àû-category
specializes to the 1-dimensional one and adds higher-dimensional informations to it.

ENDS
71
DeÔ¨Ånition 7.31 : Let C, D be two ‚àû-categories; the co/end of a simplicial map
F : Cop √ó C ‚ÜíD is the co/limit of the composition
tw(C)
Œ£
‚àí‚ÜíCop √ó C
F‚àí‚ÜíD
(183)
The main interest of the authors in [GHN15] is to formulate an analogue of 4.4,
which characterizes the Grothendieck construction of a Cat-valued functor as a
particular weighted colimit (see 4.19).
It is rather easy to formulate such an analogue deÔ¨Ånition: this appears as [GHN15,
Def. 2.8].
DeÔ¨Ånition 7.32 [op/lax colimit of F]: Let F : C ‚ÜíCat‚àûbe a functor between
‚àû-categories. We deÔ¨Åne
‚Ä¢ the slice Ô¨Åbration for C ‚ààQCat to be the functor of quasicategories œáC : C ‚Üí
QCat sending c ‚ààC to C/c, and dually the coslice Ô¨Åbration to be œáC : C ‚Üí
QCat: c 7‚ÜíCc/;
‚Ä¢ the lax colimit of F to be the coend
Àõ c
Cc/ √ó Fc;
(184)
‚Ä¢ the oplax colimit of F to be the coend
Àõ c
C/c √ó Fc.
(185)
The Grothendieck construction associated to F, discussed in [Lur09] with the
formalism of un/straightening functors results precisely as the oplax colimit of F.
This is coherent with our 4.19 and 4.20.
7.3. Simplicially coherent co/ends.
All the material in the following subsection
comes from [CP97]. Since we are forced to divert from [CP97]‚Äôs notation by our
personal choices and a slight pedantry, we begin the exposition establishing a
convenient notation and a series of useful short-hands. We decided to keep this
introduction equally self-contained and simple, but we can‚Äôt help but admit that
‚Ä¢ there is a sheer amount of (unavoidable, and yet annoying) sins of omissions
in this survey section, basically due to the ignorance of the author; moreover,
the price to pay to obtain a self-contained exposition is to deliberately ignore
several subtleties, exposing the theory to a certain na√Øvety.
‚Ä¢ there are newer and more systematic approaches to this topic, owing a great
debt to [CP97] but capable to generalize sensibly their constructions; among
many, the reader should consult the exceptionally clear [Rie14, Shu06]. All
these references reduce the construction of a simplicially coherent co/end
to the ‚Äúunreasonably eÔ¨Äective‚Äù co/bar construction [Rie14, Ch. 4]: this is
not the case, as it can be proved [Shu06, 21.4] that the coherent co/end of
T results as a suitable derived weighted co/limit of the functor T.
It is our sincere hope that this does not aÔ¨Äect the outreach of this elegant and
neglected piece of Mathematics, and the clumsy attempt to popularize an account
of [CP97] has to be seen as an attempt to communicate how beautiful we Ô¨Ånd this
writing, as it is (one of) the beginner(s) of categorical homotopy theory.

72
FOSCO LOREGIAN
Local notation.
All categories A, B, . . . appearing in this subsection are enriched
over sSet = [‚àÜ
‚àÜ
‚àÜop, Sets]. All of them possess the co/tensors (see Def. 2.3) needed
to state deÔ¨Ånitions and perform computations. These functors assemble into a
thc situation (see Remark 3.12) t = (¬∑, hom, ‚ãî) where ¬∑: sSet √ó A ‚ÜíB determines
the variance of the other two functors. A useful shorthand to denote the functor
‚ãî(K, A) = K ‚ãîA (especially when it is necessary to save space or invoke the
‚Äúexponential‚Äù behaviour of this operation) is AK. We switch rather freely among
these two notations.
DeÔ¨Ånition 7.33 [Totalization]: Let Y ‚Ä¢ : ‚àÜ
‚àÜ
‚àÜop √ó ‚àÜ
‚àÜ
‚àÜ‚ÜíB be a simplicial-cosimplicial
object; we deÔ¨Åne the totalization tot(Y ‚Ä¢
‚Ä¢ ) of Y ‚Ä¢ to be the end
 ÀÜ
n‚àà‚àÜ
‚àÜ
‚àÜ
‚àÜ[n] ‚ãîY n‚Ä¢
(186)
(it is a cosimplicial object). The totalization of Y ‚Ä¢ is also denoted with the shorthand
‚àÜ
‚àÜ
‚àÜ‚Ä¢ ‚ãîY ‚Ä¢ or similar.
DeÔ¨Ånition 7.34 [Diagonalization]: Let X‚Ä¢ : ‚àÜ
‚àÜ
‚àÜop √ó ‚àÜ
‚àÜ
‚àÜop ‚ÜíB be a bisimplicial
object; we deÔ¨Åne the diagonalization diag(X‚Ä¢) of X‚Ä¢ to be the coend
 ÀÜ n‚àà‚àÜ
‚àÜ
‚àÜ
‚àÜ[n] ¬∑ Xn

‚Ä¢
(187)
(it is a simplicial object) The diagonalization of X‚Ä¢ is also denoted with the shorthand
‚àÜ
‚àÜ
‚àÜ‚Ä¢ ¬∑ X‚Ä¢ or similar.
Notation 7.35 [Chain co/product]: Let A ‚ààsSet-Cat, and ‚Éóxn = (x0, . . . , xn)
the ‚Äúgeneric n-tuple of objects‚Äù in A; given additional objects a, b ‚ààA deÔ¨Åne a
bisimplicial set ‚®øA[a|‚Éóx|b]‚Ä¢ whose simplicial set of n-simplices is
‚®øA[a|‚Éóxn|b]‚Ä¢ :=
a
x0,...,xn‚ààA
A(a, x0)‚Ä¢ √ó A(x0, x1)‚Ä¢ √ó ¬∑ ¬∑ ¬∑ √ó A(xn, b)‚Ä¢.21
(188)
Faces and degeneracies are induced, respectively, by composition and identity-
insertion (see Exercise 7.E4).
Finally we deÔ¨Åne the simplicial set Œ¥A(a, b) to be diag(‚®øA[a|‚Éóx‚Ä¢|b]‚Ä¢) = n 7‚Üí
‚®øA[a|‚Éóxn|b]n. Couched as a coend, Œ¥A(a, b) is written
Œ¥A(a, b) ‚àº=
ÀÜ n‚àà‚àÜ
‚àÜ
‚àÜ
‚àÜ[n] √ó ‚®øA[a|‚Éóxn|b]
=
ÀÜ n‚àà‚àÜ
‚àÜ
‚àÜ
‚àÜ[n] √ó
a
x0,...,xn‚ààA
A(a, x0) √ó A(x0, x1) √ó ¬∑ ¬∑ ¬∑ √ó A(xn, b)
‚àº=
ÀÜ n‚àà‚àÜ
‚àÜ
‚àÜ
a
x0,...,xn‚ààA
‚àÜ[n] √ó A(a, x0) √ó A(x0, x1) √ó ¬∑ ¬∑ ¬∑ √ó A(xn, b)
21It is useful to extend this notation in a straightforward way: A[a|‚Éóx|b] denotes the product
A(a, x0) √ó A(x0, x1) √ó ¬∑ ¬∑ ¬∑ √ó A(xn, b), and Œ†A[a|‚Éóx|b], A[‚Éóx], Œ†A[‚Éóx], ‚®øA[‚Éóx] are deÔ¨Åned similarly. Note
that ‚®øA[a|‚Éóxn|b]‚Ä¢ does not depend on ‚Éóxn since the coproduct is quantiÔ¨Åed over all such ‚Éóxn‚Äôs.

ENDS
73
DeÔ¨Ånition 7.36 [The functors Y and W]: Let T : Aop √ó A ‚ÜíB be a functor; we
deÔ¨Åne Y(T)‚Ä¢ to be the cosimplicial object (in B)
Y(T)n :=
Y
‚Éóx=(x0,...,xn)
A[‚Éóxn] ‚ãîT(x0, xn)
(189)
where A[‚Éóxn] = A(x,x1) √ó ¬∑ ¬∑ ¬∑ √ó A(xn‚àí1, xn). Dually, given the same T, we deÔ¨Åne
W(T)n to be the simplicial object (in B)
W(T)n :=
a
‚Éóx=(x0,...,xn)
A[‚Éóxn] ¬∑ T(x0, xn).
(190)
Example 7.37 : If we consider A to be trivially enriched (or as someone says, a
discrete simplicial category), then the object A[a|‚Éóxn|b]‚Ä¢ coincides with the nerve of
the category (a ‚ÜìA ‚Üìb) of arrows ‚Äúunder a and above b‚Äù.
DeÔ¨Ånition 7.38 [Simplicially coherent co/end]: Let T : Aop √ó A ‚ÜíB be a
functor. We deÔ¨Åne
Àõ
a
T(a, a) :=
ÀÜ
a‚Ä≤,a‚Ä≤‚Ä≤ T(a‚Ä≤, a‚Ä≤‚Ä≤)Œ¥A(a‚Ä≤,a‚Ä≤‚Ä≤)
Àõ a
T(a, a) :=
ÀÜ a‚Ä≤,a‚Ä≤‚Ä≤
Œ¥A(a‚Ä≤, a‚Ä≤‚Ä≤) ¬∑ T(a‚Ä≤, a‚Ä≤‚Ä≤)
(191)
to be the simplicially coherent co/end of T.
In a few words, the deÔ¨Ånition of a sSet-coherent co/end involves the classical
construction but adds to the scene ‚Äúfattened up‚Äù co/tensors A[a|‚Éóx|b] and suchlike,
organized as a functor Aop √ó A √ó Aop √ó A ‚ÜíB in such a way that the co/end is on
two variables a‚Ä≤, a‚Ä≤‚Ä≤ ‚ààA.
Remark 7.39 [
, coherent co/ends as deformations]: Example 4.14 gives
that co/end are weighted co/limits, and precisely weighted co/limits with the
hom weight. This perspective is useful here, since we write that
¬∏
a T is the end
¬¥
(a‚Ä≤,a‚Ä≤‚Ä≤)‚ààAop√óA T(a‚Ä≤, a‚Ä≤‚Ä≤)hom(a‚Ä≤,a‚Ä≤‚Ä≤) where we applied a suitable ‚Äúdeformation‚Äù (or
‚Äúresolution‚Äù, or ‚Äúreplacement‚Äù) functor Œ¥ to the hom functor A(
,
), seen as the
identity relator (Remark 5.7). To some extent this point of view is explored in
[Gen15] in the particular case where V-Cat = dg-Cat; we have taken something
from, as well as given something to, that document.
This perspective is of great importance to encompass coherent co/ends into
a general theory ‚Äúcompatible‚Äù with some model structure on V-Cat, for some
monoidal model V and the BousÔ¨Åeld-Kan model structure on V-Cat. Expanding
this point of view, will be, hopefully, the subject of [GL].
Homotopy coherent calculus.
Classical co/end calculus (in the triptych Fubini
- Yoneda - Kan) is an invaluable tool (in fact, the only and most natural one) to
prove several results even in the simplicial setting: as it is customary in the salons
of higher category theory, we will always reduce a computation involving a coherent,
and yet indirectly deÔ¨Åned object, to a computation involving a ‚Äúconcrete‚Äù, and
yet complicated object which takes into account the coherence introduced in the
deformation.

74
FOSCO LOREGIAN
[CP97] succeed in the indeed quite ambitious task to to rewrite all the most
important pieces of classical category theory in this ‚Äúhigher‚Äù model (the paper
contains a calculus for co/limits, mapping spaces, Yoneda, and Kan extensions).
The aim of the rest of this subsection is to sketch some of these original deÔ¨Ånitions,
hopefully helping an alternative formulation of (‚àû, 1)-category theory (the authors
of whom we owe a great debt, were it only for having proved ‚Äìin 1997!‚Äì that the
‚Äú‚àû-categorical dogma‚Äù can be avoided22) to escape oblivion: we do not claim to
give a complete account of this theory here, and instead address the interested
reader to their beautiful original paper.
Proposition 7.40 : Let T : Aop √óA ‚ÜíB be a sSet-functor. Then there is a canonical
isomorphism
Àõ
a
T(a, a) ‚àº= tot(Y(T)‚Ä¢)
(192)
Proof. We use heavily the ninja Yoneda lemma 2.1 in its enriched form, where
ÀÜ
X
A(X, B) ‚ãîF(X) ‚àº= F(B)
(193)
and the fact that K ‚ãî(H ‚ãîA) ‚àº= (K ‚äóH) ‚ãîA, naturally in all arguments.
With this remark in hand we can move to the real proof: ‚Éóx = (x0, . . . , xn) is a
generic tuples of objects of A, and to save some space we switch to the notation
AK to denote K ‚ãîA.
Àõ
a
T(a, a) :=
ÀÜ
a‚Ä≤,a‚Ä≤‚Ä≤ T(a‚Ä≤, a‚Ä≤‚Ä≤)Œ¥A(a‚Ä≤,a‚Ä≤‚Ä≤)
‚àº=
ÀÜ
a‚Ä≤,a‚Ä≤‚Ä≤ T(a‚Ä≤, a‚Ä≤‚Ä≤)
¬¥
n ‚àÜ[n]√ó‚®øA[a‚Ä≤|‚Éóx|a‚Ä≤‚Ä≤]
‚àº=
ÀÜ
a‚Ä≤,a‚Ä≤‚Ä≤,n
T(a‚Ä≤, a‚Ä≤‚Ä≤)‚àÜ[n]√ó‚®øA[a‚Ä≤|‚Éóx|a‚Ä≤‚Ä≤]
‚àº=
ÀÜ
a‚Ä≤,a‚Ä≤‚Ä≤,n

T(a‚Ä≤, a‚Ä≤‚Ä≤)A(xn,a‚Ä≤‚Ä≤)‚àÜ[n]√ó‚®øA[a‚Ä≤|‚Éóx]
‚àº=
ÀÜ
a‚Ä≤,a‚Ä≤‚Ä≤,n
Y
x0,...,xn

T(a‚Ä≤, a‚Ä≤‚Ä≤)A(xn,a‚Ä≤‚Ä≤)‚àÜ[n]√óA[a‚Ä≤|‚Éóx]
‚àº=
ÀÜ
a‚Ä≤,n
Y
x0,...,xn
ÀÜ
a‚Ä≤‚Ä≤ T(a‚Ä≤, a‚Ä≤‚Ä≤)A(xn,a‚Ä≤‚Ä≤)
‚àÜ[n]√óA[a‚Ä≤|‚Éóx]
‚àº=
ÀÜ
a‚Ä≤,n
Y
x0,...,xn
T(a‚Ä≤, xn)‚àÜ[n]√óA[a‚Ä≤|‚Éóx]
‚àº=
ÀÜ
n
Y
x0,...,xn
ÀÜ
a‚Ä≤ T(a‚Ä≤, xn)A(a‚Ä≤,x0)
‚àÜ[n]√óA[‚Éóx]
22The subtle monophysism called ‚Äú‚àû-categorical dogma‚Äù asserts that ‚Äòquasicategory‚Äô and
‚Äò‚àû-category‚Äô are synonyms.

ENDS
75
‚àº=
ÀÜ
n

Y
x0,...,xn
T(x0, xn)A[‚Éóxn]‚àÜ[n] ‚àº= tot(Y(T)).
‚ñ°
For the sake of completeness, we notice that the universal wedge testifying that
¬∏
a T(a, a) ‚àº= tot(Y(T)) is induced by the morphisms
Àõ
a
T(a, a) =
ÀÜ
a‚Ä≤,a‚Ä≤‚Ä≤ Œ¥A(a‚Ä≤, a‚Ä≤‚Ä≤) ‚ãîT(a‚Ä≤, a‚Ä≤‚Ä≤)
ÀÜ
a‚Ä≤,a‚Ä≤‚Ä≤,n
 ‚àÜ[n] √ó ‚®øA[a‚Ä≤|‚Éóx|a‚Ä≤‚Ä≤]

‚ãîT(a‚Ä≤, a‚Ä≤‚Ä≤)
‚àÜ[n] ‚ãîY(T)n.
‚âÄ
Prove the dual statement as an exercise (to Ô¨Ånish the proof it is of vital importance
to exploit a good notation):
Proposition 7.41 : Let T : Aop √óA ‚ÜíB be a sSet-functor. Then there is a canonical
isomorphism
Àõ a
T(a, a) ‚àº= diag(W(T)‚Ä¢)
(194)
7.3.1. Simplicially coherent natural transformations.
Remark 7.42 : The homotopy coherent co/ends admit ‚Äúcomparison‚Äù maps to the
classical co/ends; this is part of a general tenet of higher category theory, where
homotopically correct objects result as a deformation of classical ones, and this
deformations maps into/out of the classical object.
The comparison map
¬∏
T(a, a) ‚Üí
¬¥
T(a, a) arises, here, as an homotopy equiva-
lence between the simplicial set A(a, b) (seen as bisimplicial, and constant in one
direction) and the bisimplicial set Œ¥A(a, b) = diagA[a| ‚Ä¢ |b]‚Ä¢: this is [CP97, p. 15].
The map
d0 :
a
x0
A(a, x0) √ó A(x0, b) ‚ÜíA(a, b)
(195)
given by composition has an homotopy inverse given by
s‚àí1 : A(a, b) ‚ÜíA(a, a) √ó A(a, b): g 7‚Üí(ida, g).
(196)
Indeed, the composition d0s‚àí1 is the identity on A(a, b), whereas the composition
s‚àí1d0 admits is homotopic to the identity on Œ¥A(a, b) (we use the same name for
the maps d0, s‚àí1 and the induced maps ¬Ød0 : Œ¥A(a, b) ‚ÜíA(a, b), induced by the
universal property, and ¬Øs‚àí1 : A(a, b) ‚ÜíŒ¥A(a, b)).
There is an important diÔ¨Äerence between these two maps, though: whilst d0 is
natural in both arguments, s1 is natural in B but not in A. This has an immediate
drawback: whilst d0 can be obtained canonically, as the universal arrow associated
to a certain natural isomorphism (see (200) below), s‚àí1 can‚Äôt (the best we can do
is to characterize the natural argument of s‚àí1 via [CP97, Example 2, p. 16]).

76
FOSCO LOREGIAN
As we have seen in 1.18, the set of natural transformations between two functors
F, G: C ‚ÜíD coincides with the end
¬¥
x D(Fx, Gx), and (see 7.9) the category of
lax natural transformations between two 2-functors coincides with the lax end
‚Ä∫
x D(Fx, Gx). It comes as no surprise, then, that the following characterization of
homotopy coherent natural transformations between two simplicial functors hold:
DeÔ¨Ånition 7.43 [Coherent natural transformations]: Let F, G: C ‚ÜíD be
two simplicial functors; then the simplicial set of coherent transformations between
F and G is deÔ¨Åned to be
Coh(F, G) :=
Àõ
a
D(Fa, Ga).
(197)
DeÔ¨Ånition 7.44 [Mean tensor and cotensor]: Let F : A ‚ÜíB, G: A ‚ÜísSet,
H : Aop ‚ÜísSet. We deÔ¨Åne G ‚ãîF, H ‚äóF respectively as
G ‚ãîF :=
Àõ
a
Ga ‚ãîFa
H ‚äóF :=
Àõ a
Ha ‚äóFa.
(198)
DeÔ¨Ånition 7.45 [Standard resolutions]: Let F : A ‚ÜíB be a simplicial functor;
we deÔ¨Åne
Fa := A(a,
) ‚ãîF =
Àõ
x
A(a, x) ‚ãîFx
Fa := A(
, a) ‚äóF =
Àõ x
A(x, a) ‚äóFx.
Example 7.46 : We specialize the above deÔ¨Ånition to compute the functors hom(a,
)
and hom(a,
): in particular we concentrate on the second case, since the Ô¨Årst is
completely dual. Calculemus:
hom(a, b) =
Àõ a
A(a, x) √ó A(x, b)
‚àº=
ÀÜ xy
Œ¥A(x, y) √ó A(a, x) √ó A(y, b)
‚àº=
ÀÜ xy
A(a, x) √ó Œ¥A(x, y) √ó A(y, b)
‚àº=
ÀÜ xyn
a
x0,...,xn
A(a, x) √ó A(x, x0) √ó ¬∑ ¬∑ ¬∑ √ó A(xn, y) √ó A(y, b) √ó ‚àÜ[n]
‚àº=
ÀÜ xyn
A[a|Àúxn|b] √ó ‚àÜ[n] ‚àº= Œ¥A(a, b).
We leave as an easy exercise in co/end-fu the proof of the following result
(see Exercise E6), which shows that the standard resolutions (
), (
) ‚Äòabsorb the
coherence informations‚Äô:
Proposition 7.47 : Let F, G: C ‚ÜíD be two simplicial functors; then there are
canonical isomorphisms
Nat(F, G) ‚àº= Coh(F, G) ‚àº= Nat(F, G).
(199)

ENDS
77
This result has a number of pleasant consequences: the simplicially coherent
setting is powerful enough to retrieve several classical constructions.
‚Ä¢ Example 7.46 above shows that hom(a,
)(b) ‚àº= Œ¥A(a, b); this entails that
there is an isomorphism
Nat(Œ¥A(a,
), A(a,
)) ‚àº= Coh(A(a,
), A(a,
))
(200)
and it is a matter of verifying some additional nonsense to see that the
sSet-natural transformation corresponding to the identity coherent trans-
formation is precisely d0.
‚Ä¢ The map d0 deÔ¨Ånes additional universal maps Œ∑F , Œ∑F which ‚Äúresolve‚Äù a
functor F : A ‚ÜíB whenever F, F exist (it is suÔ¨Écient that B admits all
the relevant co/limits to perform the construction of F, F). From the chain
of isomorphisms
Œ∑F : Fb =
Àõ
a
A(b, a) ‚ãîFa
‚àº=
ÀÜ
a‚Ä≤,a‚Ä≤‚Ä≤ Œ¥A(a‚Ä≤, a‚Ä≤‚Ä≤) ‚ãîA(b, a‚Ä≤‚Ä≤) ‚ãîFa‚Ä≤
‚Üê
ÀÜ
a‚Ä≤,a‚Ä≤‚Ä≤ A(a‚Ä≤, a‚Ä≤‚Ä≤) ‚ãîA(b, a‚Ä≤‚Ä≤) ‚ãîFa‚Ä≤
(2.1) ‚àº= Fb;
Œ∑F : Fb =
Àõ a
Fa ‚äóA(a, b)
‚àº=
ÀÜ a‚Ä≤,a‚Ä≤‚Ä≤
Fa‚Ä≤ ‚äóA(a‚Ä≤‚Ä≤, b)Œ¥A(a‚Ä≤, a‚Ä≤‚Ä≤)
‚Üí
ÀÜ a‚Ä≤,a‚Ä≤‚Ä≤
Fa‚Ä≤ ‚äóA(a‚Ä≤‚Ä≤, b)A(a‚Ä≤, a‚Ä≤‚Ä≤)
‚àº= Fb;
we obtain natural transformations corresponding to suitable coherent iden-
tities under the isomorphism of Prop. 7.47.
‚Ä¢ The maps Œ∑F , Œ∑F behave like resolutions: [CP97, Prop. 3.4] shows that they
are level-wise homotopy equivalences (meaning that Œ∑F : Fa ‚ÜíFa induces
homotopy equivalences of simplicial sets B(b, Fa)
(Œ∑F )‚àó
‚àí‚àí‚àí‚ÜíB(b, Fa) for each
b, naturally in b).23
7.3.2. Simplicially coherent Kan extensions.
The universal property charac-
terizing a Kan extension is inherently 2-dimensional: uniqueness is stated at the
level of 2-cells, and any sensible generalization of it to the higher world involves
a ‚Äúspace‚Äù of 2-cells between 1-cells. This entails that any reasonable deÔ¨Ånition of
a (left or right) Kan extension ultimately relies on a nice deÔ¨Ånition for a space of
coherent natural transformations between functors, which has been the subject of
23We decide to skip the proof of this proposition, as it is quite long, technical, and even though
it relies on co/end-fu it doesn‚Äôt add much to the present discussion.

78
FOSCO LOREGIAN
the previous subsection. There are, nevertheless, several subtleties as there are
many choices available for a deÔ¨Ånition: in the words of [CP97],
Clearly one can replace Nat by Coh [in the deÔ¨Ånition of a Kan exten-
sion], but should isomorphism be replaced by homotopy equivalence,
should this be natural, in which direction should this go. . . ?
As it turns out from [CP97], the right way to preserve a reasonably vast calculus
for Kan extensions is to ask that the isomorphisms
Nat(H, hoRanG K) ‚àº= Coh(HG, K)
Nat(hoLanG H, K) ‚àº= Coh(H, KG)
hold. This can be achieved deÔ¨Åning the left and right Kan extensions as follows:
DeÔ¨Ånition 7.48 [Coherent Kan extensions]: Let F : A ‚ÜíC and G: A ‚ÜíB be
a span of simplicial functors; we deÔ¨Åne
hoRanG F(
) =
Àõ
a
B(
, Ga) ‚ãîFa
hoLanG F(
) =
Àõ a
B(Ga,
) ‚äóFa
Remark 7.49 : This can be seen as a simplicially coherent analogue of our 7.25; it
is not a coincidence that lax and simplicially coherent co/end calculi mimick each
other: 2-co/ends correspond to suitable ‚Äútruncated‚Äù simplicially coherent co/ends
(and this correspondence can be made functorial).
In the same spirit of [Boz80], a co/endy view on categorical homotopy theory
sheds a light on several geometric constructions (see [CP97] for more informations
and links with [CP90, Seg74]).
We would like to prove, now, that the isomorphisms deÔ¨Åning a Kan extension
hold with the deÔ¨Ånitions above. This is a computation in co/end-fu, which at this
point can be left as an exercise for the reader.
7.3.3. Co/ends in a derivator.
The theory of derivators serves as a purely
2-categorical model for higher category theory, where all the coherence informations
are encoded in coherence conditions for suitable diagrams of 2-cells. Here we only
sketch some of the basic deÔ¨Ånitions needed to pave the way to Def. 7.51 below.
DeÔ¨Ånition 7.50 [The 2-category of prederivators]: A prederivator is a strict
2-functor D: Catop ‚ÜíCAT (where CAT is the category of
‚Ñ¶
+-categories, see the
two-universe convention in the introduction); a morphism of prederivators is a
pseudonatural transformation between pseudofunctors, Œ∑: D ‚áíD‚Ä≤; a 2-cell between
morphisms of prederivators is a modiÔ¨Åcation (see Def. 7.4) Œò: Œ∑ ‚áõŒ∑‚Ä≤ between
pseudonatural transformations.
These data form the 2-category of prederivators.
The notion of a derivator arises as a reÔ¨Ånement of this; apart from some minor
(milder, but not less important) assumptions, a derivator is a prederivator D such

ENDS
79
that every D(u): D(J) ‚ÜíD(I), induced by u: I ‚ÜíJ has both a left and a right
adjoint, Ô¨Åtting into a triple
u! ‚ä£u‚àó‚ä£u‚àó: D(J)
u‚àó
/ D(I)
u‚àó
o
u!
o
(201)
(see [Gro13, Def. 1.10]). These functors are called respectively the homotopy left
and right Kan extensions along u: I ‚ÜíJ. Axiom (Der4) in [Gro13, Def. 1.10] states
that these Kan extensions can always be computed with a pointwise formula; this
can be interpreted as a rephrasing of the theory exposed in our 2.1, in view of the
equivalence between all the following characterizations of LanG F(b)/RanG F(b):
‚Ä¢ the (right or left) Kan extension of F : A ‚ÜíC along G: A ‚ÜíB computed
in b;
‚Ä¢ the weighted co/limit of F with respect to the representable hom(G, b);
‚Ä¢ the conical co/limit of F over the category of elements of hom(G, b);
‚Ä¢ the conical colimit of the diagram (G ‚Üìb) ‚ÜíA
F‚àí‚ÜíB.
Let Tw(K) be the category of elements (Def. 4.1) of homK, for a small category
K; then there exists a functor Œ£K = (t, s): Tw(K) ‚ÜíKop √ó K (Prop. 4.4).
DeÔ¨Ånition 7.51 [Homotopy coend in a derivator]: Let D be a derivator, and
K ‚ààCat a category. The homotopy coend
¬¥ K : D(J √ó Kop √ó K) ‚ÜíD(J) is deÔ¨Åned
as the composition
¬¥ K : D(J √ó Kop √ó K)
Œ£‚àó
K
‚àí‚àí‚ÜíD(J √ó Tw(K))
p!
‚àí‚ÜíD(J)
(202)
Remark 7.52 : Let D(J|
): Catop ‚ÜíCAT be the shifted derivator of D, i.e. the
functor I
√óJ
7‚àí‚ÜíI √ó J
D(
)
7‚ÜíD(I √ó J). Then the coend
¬¥ K is a morphism between
the shifted derivators D(Kop √ó K|
) ‚ÜíD(
).
Remark 7.53 : There is obviously a similar notion of homotopy end in D: one only
has to replace p! with the right adjoint p‚àóin the deÔ¨Ånition above (taking the limit
over the twisted arrow category, instead of the colimit):
¬¥
K : D(J √ó Kop √ó K)
Œ£‚àó
K
‚àí‚àí‚ÜíD(J √ó Tw(K))
p‚àó
‚àí‚ÜíD(J)
(203)
Lemma 7.54 : If F : D ‚ÜíD‚Ä≤ is a morphism of derivators, there is a canonical
‚Äúcomparison‚Äù morphism
¬¥ K ‚ó¶F ‚ÜíF ‚ó¶
¬¥ K
(204)
obtained as the composition

80
FOSCO LOREGIAN
D(J √ó K √ó Kop)
D‚Ä≤(J)
pr!‚ó¶FJ√óL√óTw(K)‚ó¶(t,s)‚àó
pr!‚ó¶(t,s)‚àó‚ó¶FJ√óL√óKop√óK
FJ√óL‚ó¶pr!‚ó¶(t,s)‚àó
‚âÄ
where the second morphism results as the bc pasting
p!FJ
p!FJŒ∑(p!‚ä£p‚àó)
========‚áíp!FJp‚àóp!
p!œïJp!
====‚áíp!p‚àóFep!
œµ(p!‚ä£p‚àó)Fep!
=======‚áíFep!
(205)
represented in the following diagram of 2-cells:
D‚Ä≤(e)
D‚Ä≤(J)
D(J)
D‚Ä≤(e)
D(e)
D(J)
FJ
p!
p!
Fe
id
p‚àó
p‚àó
id
Œ∑(pr!‚ä£pr‚àó)
œµ(pr!‚ä£pr‚àó)
It is almost a triviality that a derivator morphism F preserves homotopy coends
(i.e. the above 2-cell is invertible) if it preserves colimits, or more generally Kan
extensions.
E1 A lax colimit for a diagram F : J ‚ÜíK in a 2-category K is an object L with a lax cocone
{Fj ‚ÜíL} satisfying a suitable universal property (state it, mimicking ‚Äìthe dual of‚Äì Def.
7.2). Show that the opposite of the twisted arrow category tw(C) of Def. 1.12 is the lax
colimit of the diagram C ‚ÜíCat: c 7‚ÜíC/c sending every object to its slice category.
E2 State the deÔ¨Ånition of lax cowedge S
..
‚àí‚Üíd for a 2-functor S : Aop √ó A ‚ÜíB; state the
deÔ¨Ånition of lax coend for S as an initial cowedge, the representing object of the functor
d 7‚ÜíLCwd(S, d).
E3 Show that Ist(f, g) share the universal property of the Cat-limit of the diagram {0 ‚áí
1} ‚ÜíC choosing f, g weighted by the Cat-presheaf {0 ‚áí1} ‚ÜíCat choosing the
categories {0}
d0
‚áí
d1
{0 < 1}.
E4 DeÔ¨Åne co/faces and co/degeneracies for the objects Y(T) and W(T) (hint: there is an
isomorphism œÑ : T(x0, xn)Œ†A[‚Éóx] ‚àº
=

T(x0, xn)A(x0,x1)A[x1|‚Éóy|xn]n‚àí1
, and you want to
assemble a map Y(T)n‚àí1 ‚ÜíY(T)n from its components Œ†A[‚Éóx] ‚ãîT(x1, xn) ‚ÜíY(T)n;
this deÔ¨Ånes d0. The map dn is deÔ¨Åned via an isomorphism œÉ and a similar argument).
E5 Prove the Fubini theorem for simplicially coherent co/ends: given a functor T : Aop √ó
A √ó Bop √ó B ‚ÜíC, then
Àõ a Àõ b
T(a, a, b, b)

‚àº
=
Àõ (a,b)‚ààA√óB
T(a, b, a, b) ‚àº
=
Àõ b Àõ a
T(a, a, b, b)

(206)
(it is a simple theorem about the relation between Œ¥(A √ó B) and Œ¥A √ó Œ¥B!).
E6 Prove that Nat(F, G) ‚àº
= Coh(F, G) ‚àº
= Nat(F, G), using Def. 7.38 and a formal argument.
Exercises for ¬ß7

ENDS
81
E7 Prove that the isomorphisms
Nat(H, hoRanG K) ‚àº
= Coh(HG, K)
Nat(hoLanG H, K) ‚àº
= Coh(H, KG)
hold deÔ¨Åning coherent Kan extensions as in 7.48.
E8 Prove that the standard resolutions ‚Äúabsorb coherence‚Äù in coherent Kan extensions,
showing that
RanG F ‚àº
= hoRanG F
LanG F ‚àº
= hoLanG F.
(207)
(a preliminary lemma: prove that F(
) ‚àº
=
¬¥
a FaŒ¥A(
,a)).
E9 Deduce from the previous exercise that there is an isomorphism
hoRanH F . . .
(208)
for a cospan of functors bC
H
‚Üê‚àíA
F
‚àí‚ÜíbB.
E10 Prove that
¬¥ K : D(Kop √ó K|‚àí) ‚ÜíD deÔ¨Ånes a morphism of derivators (you can either
prove that a functor u: K ‚ÜíL induces a morphism between the shifted derivators
D(L|‚àí) ‚ÜíD(J|‚àí), or prefer an explicit argument ‚Äìboth ways are considerably long).
E11 Prove that ‚Äúcoends in a derivator are pointwise‚Äù, i.e. that given an arrow j : e ‚ÜíJ there
is a canonical isomorphism j‚àó  ¬¥ K X ‚àº
=
¬¥ K j‚àóX for each X ‚ààD(J √ó Kop √ó K).
E12 State and prove the Fubini theorem for homotopy coends in D: the diagram
D(J √ó Koo √ó Loo)
D(J √ó Tw(K) √ó Loo)
D(J √ó Koo √ó Tw(L))
D(J √ó Loo)
D(J √ó Koo)
D(J √ó Tw(L))
D(J √ó Tw(K))
D(J)
Œ£‚àó
K
prK
!
Œ£‚àó
L
prL
!
Œ£‚àó
L
prL
!
Œ£‚àó
K
prK
!
Œ£K√óL
Œ±
Œ≤
commutes for canonically determined 2-cells Œ± and Œ≤.
E13 State and prove an existence theorem for weighted colimits in a derivator: given a
bimorphism ‚äû: (DSets, D) ‚ÜíD(I|‚àí), we deÔ¨Åne the colimit of X ‚ààD(J), weighted by
W ‚ààDSets as the coend (in D)
¬¥ J W ‚äûX, i.e. as the image of the pair (W, X) under
the composition
DSets(Jop) √ó D(J)
¬∑‚àí
‚ÜíD(I|Jop √ó J)
¬¥ J
‚àí‚àí‚ÜíD(I).
(209)
References
[Ada78]
John Frank Adams, InÔ¨Ånite loop spaces, volume 90 of annals of mathematics studies,
Princeton University Press, Princeton, NJ 129 (1978), 247.
[B√©ner]
Jean B√©nabou, Distributors at work, 2000. Lecture notes written by Thomas Streicher.
[Ber07]
Julia Bergner, A model category structure on the category of simplicial categories,
Transactions of the American Mathematical Society 359 (2007), no. 5, 2043‚Äì2058.
[Bor94a]
Francis Borceux, Handbook of categorical algebra. 1, Encyclopedia of Mathematics and
its Applications, vol. 50, Cambridge University Press, Cambridge, 1994, Basic category
theory.
[Bor94b]
, Handbook of categorical algebra. 2, Encyclopedia of Mathematics and its
Applications, vol. 51, Cambridge University Press, Cambridge, 1994, Categories and
structures.
[Boz75]
Sym√©on Bozapalides, Les Ô¨Åns cart√©siennes, C.R. Acad. Sci. Paris A 281 (1975), 597‚Äì600.

82
FOSCO LOREGIAN
[Boz77]
, Les Ô¨Åns cart√©siennes g√©n√©ralis√©es, Archivum Mathematicum 13 (1977), no. 2,
75‚Äì87.
[Boz80]
, Some remarks on lax-presheaves, Illinois Journal of Mathematics 24 (1980),
no. 4, 676‚Äì680.
[BZFN10] D. Ben-Zvi, J. Francis, and D. Nadler, Integral transforms and Drinfel‚Äôd centers in
derived algebraic geometry, J. Amer. Math. Soc. 23 (2010), no. 4, 909‚Äì966.
[Cam]
Tim Campion, Is stokes‚Äô theorem natural in the sense of category theory?, Mathematics
Stack Exchange, URL:https://math.stackexchange.com/q/1229249 (version: 2015-04-
10).
[Car]
David Carchedi, Topos theory course.
[CG13]
Alexander S Corner and Nick Gurski, Operads with general groups of equivariance, and
some 2-categorical aspects of operads in cat, arXiv preprint arXiv:1312.5910 (2013).
[CKS03]
JRB Cockett, J Koslowski, and RAG Seely, Morphisms and modules for poly-bicategories,
Theory and Applications of Categories 11 (2003), no. 2, 15‚Äì74.
[CP90]
J.-M. Cordier and T. Porter, Fibrant diagrams, rectiÔ¨Åcations and a construction of
Loday, J. Pure Appl. Algebra 67 (1990), no. 2, 111‚Äì124.
[CP97]
Jean-Marc Cordier and Timothy Porter, Homotopy coherent category theory, Transac-
tions of the American Mathematical Society 349 (1997), no. 1, 1‚Äì54.
[CP08]
J.M. Cordier and T. Porter, Shape theory: Categorical methods of approximation, Dover
books on mathematics, Dover Publications, 2008.
[Day77]
B. J. Day, Note on compact closed categories, J. Austral. Math. Soc. Ser. A 24 (1977),
no. 3, 309‚Äì311.
[DF78]
W. Dwyer and E. Dror Farjoun, Homotopy coends, Online preprint: http://www.ma.
huji.ac.il/~landau/preprint98/preprint3.ps (1997/8).
[DM96]
G. De Marco, Analisi 1. primo corso di analisi matematica. teoria ed esercizi, Collana
di matematica. Testi e manuali, Zanichelli, 1996.
[Dol58]
Albrecht Dold, Homology of symmetric products and other functors of complexes,
Annals of Mathematics (1958), 54‚Äì80.
[Dub70]
Eduardo J. Dubuc, Kan extensions in enriched category theory, Lecture Notes in
Mathematics, Vol. 145, Springer-Verlag, Berlin-New York, 1970.
[EK66]
Samuel Eilenberg and G.M. Kelly, A generalization of the functorial calculus, J. Algebra
3 (1966), 366‚Äì375.
[Elm83]
A. D. Elmendorf, Systems of Ô¨Åxed point sets, Trans. Amer. Math. Soc. 277 (1983), no. 1,
275‚Äì284.
[EM45]
Samuel Eilenberg and Saunders MacLane, General theory of natural equivalences, Trans.
Amer. Math. Soc. 58 (1945), 231‚Äì294.
[EP08]
Philip John Ehlers and Timothy Porter, Ordinal subdivision and special pasting in
quasicategories, Advances in Mathematics 217 (2008), no. 2, 489‚Äì518.
[Gam10]
Nicola Gambino, Weighted limits in simplicial homotopy theory, J. Pure Appl. Algebra
214 (2010), no. 7, 1193‚Äì1199.
[Gen15]
F. Genovese, Quasi-functors as lifts of fourier-mukai functors: the uniqueness problem,
Ph.D. thesis, Universit√† degli studi di Pavia, 2015.
[GHN15]
David Gepner, Rune Haugseng, and Thomas Nikolaus, Lax colimits and free Ô¨Åbrations
in ‚àû-categories, arXiv preprint arXiv:1501.02161 (2015).
[GJ09]
P.G. Goerss and J.F. Jardine, Simplicial homotopy theory, Modern Birkh√§user Classics,
Birkh√§user Verlag, Basel, 2009, Reprint of the 1999 edition.
[GL]
F. Genovese and F. Loregian, Co/end calculus for ‚àû-categories, In preparation.
[GPS95]
R. Gordon, A. J. Power, and Ross Street, Coherence for tricategories, Mem. Amer.
Math. Soc. 117 (1995), no. 558, vi+81.
[Gra]
John W. Gray, Closed categories, lax limits and homotopy limits, 127‚Äì158.
[Gra74]
, Formal category theory: adjointness for 2-categories, Springer-Verlag, Berlin,
1974, Lecture Notes in Mathematics, Vol. 391.
[Gra80]
, Closed categories, lax limits and homotopy limits, J. Pure Appl. Algebra 19
(1980), 127‚Äì158.

ENDS
83
[Gro13]
M. Groth, Derivators, pointed derivators and stable derivators, Algebraic & Geometric
Topology 13 (2013), no. 1, 313‚Äì374.
[Gui80]
Ren√© Guitart, Relations et carr√©s exacts, Ann. Sci. Math. Qu√©bec 4 (1980), no. 2,
103‚Äì125. MR 599050
[GV72]
A. Grothendieck and J. Verdier, Th√©orie des topos (sga 4, expos√©s i-vi), Springer
Lecture Notes in Mathematics 269 (1972), 270.
[GZ67]
Peter Gabriel and Michel Zisman, Calculus of fractions and homotopy theory, Ergebnisse
der Mathematik und ihrer Grenzgebiete, Band 35, Springer-Verlag New York, Inc., New
York, 1967.
[Hof11]
Alexander E HoÔ¨Änung, Spans in 2-categories: A monoidal tricategory, arXiv preprint
arXiv:1112.0560 (2011).
[Hov99]
M. Hovey, Model categories, Mathematical Surveys and Monographs, vol. 63, American
Mathematical Society, Providence, RI, 1999.
[Isa09]
Samuel B. Isaacson, A note on unenriched homotopy coends, Online preprint: http:
//www-home.math.uwo.ca/~sisaacso/PDFs/coends.pdf (2009).
[Joy02a]
A. Joyal, Quasi-categories and Kan complexes, J. Pure Appl. Algebra 175 (2002),
no. 1-3, 207‚Äì222, Special volume celebrating the 70th birthday of Professor Max Kelly.
[Joy02b]
Andr√© Joyal, Quasi-categories and Kan complexes, Journal of Pure and Applied Algebra
175 (2002), no. 1, 207‚Äì222.
[Joy08]
A. Joyal, The theory of quasi-categories and its applications, Citeseer, 2008.
[JT07]
Andr√© Joyal and Myles Tierney, Quasi-categories vs Segal spaces, Categories in algebra,
geometry and mathematical physics, Contemp. Math., vol. 431, Amer. Math. Soc.,
Providence, RI, 2007, pp. 277‚Äì326.
[Kel80]
G. Max Kelly, A uniÔ¨Åed treatment of transÔ¨Ånite constructions for free algebras, free
monoids, colimits, associated sheaves, and so on, Bulletin of the Australian Mathemati-
cal Society 22 (1980), no. 01, 1‚Äì83.
[Kel82]
, Basic concepts of enriched category theory, no. 64, CUP Archive, 1982.
[Kel89]
, Elementary observations on 2-categorical limits, Bulletin of the Australian
Mathematical Society 39 (1989), 301‚Äì317.
[Kel05]
, On the operads of J. P. May, Repr. Theory Appl. Categ. (2005), no. 13, 1‚Äì13.
[KS74]
Gregory M. Kelly and R. Street, Review of the elements of 2-categories, Category
seminar, Springer, 1974, pp. 75‚Äì103.
[Law73]
Bill Lawvere, Metric spaces, generalised logic, and closed categories, Rendiconti del
Seminario Matematico e Fisico di Milano, vol. 43, TipograÔ¨Åa Fusi, Pavia, 1973.
[LB15]
David Li-Bland, The stack of higher internal categories and stacks of iterated spans,
arXiv preprint arXiv:1506.08870 (2015).
[Lei]
T. Leinster, A Perspective on Higher Category Theory, webpage: https://golem.ph.
utexas.edu/category/2010/03/a_perspective_on_higher_catego.html.
[Low13]
Zhen Lin Low, Universes for category theory, arXiv preprint arXiv:1304.5227 (2013).
[Lur09]
J. Lurie, Higher Topos Theory, Annals of Mathematics Studies, vol. 170, Princeton
University Press, Princeton, NJ, 2009.
[LV12]
Jean-Louis Loday and Bruno Vallette, Algebraic operads, Grundlehren der Mathema-
tischen Wissenschaften [Fundamental Principles of Mathematical Sciences], vol. 346,
Springer, Heidelberg, 2012.
[May72]
J.P. May, The geometry of iterated loop spaces, Springer-Verlag, Berlin-New York, 1972,
Lectures Notes in Mathematics, Vol. 271.
[May97]
J. P. May, Operads, algebras and modules, Operads: Proceedings of Renaissance
Conferences (Hartford, CT/Luminy, 1995), Contemp. Math., vol. 202, Amer. Math.
Soc., Providence, RI, 1997, pp. 15‚Äì31.
[ML70]
S. Mac Lane, The Milgram bar construction as a tensor product of functors, The
Steenrod Algebra and its Applications (Proc. Conf. to Celebrate N. E. Steenrod‚Äôs
Sixtieth Birthday, Battelle Memorial Inst., Columbus, Ohio,1970), Lecture Notes in
Mathematics, Vol. 168, Springer, Berlin, 1970, pp. 135‚Äì152.

84
FOSCO LOREGIAN
[ML98]
, Categories for the working mathematician, second ed., Graduate Texts in
Mathematics, vol. 5, Springer-Verlag, New York, 1998.
[MLM92]
S. Mac Lane and I. Moerdijk, Sheaves in geometry and logic: A Ô¨Årst introduction to
topos theory, Springer, 1992.
[Moe95]
I. Moerdijk, Classifying spaces and classifying topoi, Lecture Notes in Mathematics,
vol. 1616, Springer-Verlag, Berlin, 1995.
[MSS02]
M. Markl, S. Shnider, and J. StasheÔ¨Ä, Operads in algebra, topology and physics,
Mathematical Surveys and Monographs, vol. 96, American Mathematical Society,
Providence, RI, 2002.
[Rie14]
E. Riehl, Categorical homotopy theory, New Mathematical Monographs, vol. 24, Cam-
bridge University Press, Cambridge, 2014.
[RV14]
E. Riehl and D. Verity, The theory and practice of Reedy categories, Theory Appl.
Categ. 29 (2014), 256‚Äì301.
[Sch13]
U. Schreiber, DiÔ¨Äerential cohomology in a cohesive ‚àû-topos, ArXiv:1310.7930 (2013).
[Seg74]
Graeme Segal, Categories and cohomology theories, Topology 13 (1974), 293‚Äì312.
[Shu06]
Michael Shulman, Homotopy limits and colimits and enriched homotopy theory, arXiv
preprint arXiv:math/0610194 (2006).
[Str76]
Ross Street, Limits indexed by category-valued 2-functors, Journal of Pure and Applied
Algebra 8 (1976), no. 2, 149 ‚Äì 181.
[Str11]
JeÔ¨Ärey Strom, Modern classical homotopy theory, vol. 127, American Mathematical
Society Providence, RI, USA, 2011.
[Tri]
T. Trimble, Towards a doctrine of operads. nLab page.
[TV05]
B. To√´n and G. Vezzosi, Homotopical algebraic geometry i: Topos theory, Advances in
mathematics 193 (2005), no. 2, 257‚Äì372.
[Uni13]
The Univalent Foundations Program, Homotopy type theory: Univalent foundations
of mathematics, http://homotopytypetheory.org/book, Institute for Advanced Study,
2013.
[Vit06]
Claudia Centazzo; Enrico M. Vitale, A classiÔ¨Åcation of geometric morphisms and
localizations for presheaf categories and algebraic categories, Journal of Algebra 303
(2006).
[Wei94]
Charles A. Weibel, An introduction to homological algebra, Cambridge Studies in
Advanced Mathematics, vol. 38, Cambridge University Press, Cambridge, 1994.
[Yon60]
Nobuo Yoneda, On Ext and exact sequences, J. Fac. Sci. Univ. Tokyo Sect. I 8 (1960),
507‚Äì576 (1960).
Department of Mathematics and Statistics
Masaryk University, Faculty of Sciences
Kotl√°≈ôsk√° 2, 611 37 Brno, Czech Republic
loregianf@math.muni.cz fosco.loregian@gmail.com

