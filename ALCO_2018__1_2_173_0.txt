ALGEBRAIC
COMBINATORICS
Vincent Pilaud & Viviane Pons
Permutrees
Volume 1, issue 2 (2018), p. 173-224.
<http://alco.centre-mersenne.org/item/ALCO_2018__1_2_173_0>
© The journal and the authors, 2018.
Some rights reserved.
This article is licensed under the
CREATIVE COMMONS ATTRIBUTION 4.0 INTERNATIONAL LICENSE.
http://creativecommons.org/licenses/by/4.0/
Access to articles published by the journal Algebraic Combinatorics on
the website http://alco.centre-mersenne.org/ implies agreement with the
Terms of Use (http://alco.centre-mersenne.org/legal/).
Algebraic Combinatorics is member of the
Centre Mersenne for Open Scientiﬁc Publishing
www.centre-mersenne.org

Algebraic Combinatorics
Volume 1, issue 2 (2018), p. 173–224
https://doi.org/10.5802/alco.1
Permutrees
Vincent Pilaud & Viviane Pons
Abstract
We introduce permutrees, a uniﬁed model for permutations, binary trees, Cam-
brian trees and binary sequences. On the combinatorial side, we study the rotation lattices on
permutrees and their lattice homomorphisms, unifying the weak order, Tamari, Cambrian and
boolean lattices and the classical maps between them. On the geometric side, we provide both
the vertex and facet descriptions of a polytope realizing the rotation lattice, specializing to
the permutahedron, the associahedra, and certain graphical zonotopes. On the algebraic side,
we construct a Hopf algebra on permutrees containing the known Hopf algebraic structures on
permutations, binary trees, Cambrian trees, and binary sequences.
1. Introduction
Binary words, binary trees, and permutations are three combinatorial families that
share a common pattern linking their combinatorics to geometry and algebra. For
example, the family of binary words of size n is naturally endowed with the boolean
lattice structure. Its Hasse diagram corresponds to the skeleton of an n-dimensional
hypercube. Finally, all binary words index the basis of a Hopf algebra [7] whose prod-
uct is encoded in the boolean lattice (the product of two basis elements is given by a
sum over an interval in the boolean lattice). We ﬁnd a similar scheme for the other
families which we summarize in Figure 1. Recently, the family of Cambrian trees was
also shown to share a similar pattern: Cambrian trees generalize the notion of bi-
nary trees, they are naturally endowed with N. Reading’s (type A) Cambrian lattice
structure [30], they correspond to the vertices of C. Hohlweg and C. Lange’s associa-
hedra [9], and they index the basis of G. Chatel and V. Pilaud’s Cambrian algebra [4].
All these families are related through deep structural properties from all three as-
pects: combinatorics, geometry, and algebra. As lattices, the boolean lattice on binary
sequences is both a sub- and a quotient lattice of the Tamari lattice on binary trees,
itself a sub- and quotient lattice of the weak order on permutations [1, 30]. As poly-
topes, the cube contains J.-L. Loday’s associahedron [16] which in turn contains the
permutahedron [39, Lecture 0]. And as algebras, the descent Hopf algebra on binary
sequences of [7] is a sub- and quotient Hopf algebra of J.-L. Loday and M. Ronco’s
Hopf algebra on binary trees [17, 8], itself a sub- and quotient algebra of C. Mal-
venuto and C. Reutenauer’s Hopf algebra on permutations [18, 6]. More generally,
Manuscript received 4th August 2017, accepted 14th August 2017.
Acknowledgements. VPi was supported by the French ANR grant SC3A (15 CE40 0004 01).
ISSN: 2589-5486
http://algebraic-combinatorics.org/

Vincent Pilaud & Viviane Pons
permutations
binary trees
binary sequences
Weak order
Tamari lattice
boolean lattice
Combinatorics
4321
4231
4312
3421
3412
3241
2431
4213
4132
1234
1324
1243
2134
2143
2314
3124
1342
1423
3142
2413
4123
1432
3214
2341
−−−
−+ −
+ −−
−−+
−+ +
+ −+
+ + −
+ + +
[14]
[20]
Permutahedron
Associahedron
Cube
Geometry
3412
3421
4321
4312
2413
4213
3214
1423
1432
1342
1243
1234
2134
1324
2341
2431
3124
2314
−−−
−+ −
+ −−
−−+
−+ +
+ −+
+ + −
+ + +
[39, Lecture 0]
[16, 9]
Algebra
Malvenuto-Reutenauer
Loday-Ronco
Descent Hopf algebra
algebra [18, 6]
algebra [17, 8]
[7]
Figure 1. Summary of lattice structures, polytopes, and Hopf al-
gebras on 3 families of combinatorial objects
these exemples led to the development of necessary and suﬃcient conditions to ob-
tain combinatorial Hopf algebras from lattice congruences of the weak order [29] and
from rewriting rules on monoids [8, 27].
All these diﬀerent aspects have been deeply studied but until now, these families
have been considered as diﬀerent kind of objects. In this paper, we unify all these
objects under a unique combinatorial deﬁnition containing structural, geometric, and
algebraic information. A given family type (binary words, binary trees, Cambrian
trees, permutations) can then be encoded by a special decoration on [n]. Our deﬁnition
also allows for interpolations between the known families: we obtain combinatorial
objects that are structurally “half” binary trees and “half” permutations. This leads
in particular to new lattice structures (see Figures 11 and 12), to new polytopes (see
Figures 15 and 16) and to new combinatorial Hopf algebras (see Section 4).
We call our new objects permutrees. They are labelled and oriented trees where
each vertex can have one or two parents and one or two children, and with local rules
around each vertex similar to the classical rule for binary trees (see Deﬁntion 2.1).
We will explore in particular the following features of permutrees:
Combinatorics: We describe a natural insertion map from (decorated) permutations
to permutrees similar to the binary tree insertion. The ﬁbers of this map deﬁne
a lattice congruence of the weak order. Therefore, there is an homomorphism
from the weak order on permutations to the rotation lattice on permutrees. It
specializes to the classical weak order on permutations [14], the Tamari order
on binary trees [20], the Cambrian lattice on Cambrian trees [30, 4], and the
boolean lattice on binary sequences.
Algebraic Combinatorics, Vol. 1 #2 (2018)
174

Permutrees
Geometry: We provide the vertex and facet description of the permutreehedron,
a polytope whose graph is the Hasse diagram of the rotation lattice on per-
mutrees. The permutreehedron is obtained by deleting facets from the classical
permutahedron. It specializes to the classical permutahedron [39, Lecture 0],
to J.-L. Loday’s and C. Hohlweg and C. Lange’s associahedra [16, 9], and to
the parallelepiped generated by {ei+1 −ei | i ∈[n −1]}.
Algebra: We construct a Hopf algebra on permutrees and describe the product and
coproduct in this algebra and its dual in terms of cut and paste operations
on permutrees. It contains as subalgebras C. Malvenuto and C. Reutenauer’s
algebra on permutations [18, 6], J.-L. Loday and M. Ronco’s algebra on binary
trees [17, 8], G. Chatel and V. Pilaud’s algebra on Cambrian trees [4], and
I. Gelfand, D. Krob, A. Lascoux, B. Leclerc, V. S. Retakh, and J.-Y. Thibon’s
algebra on binary sequences [7].
All our constructions and proofs are generalizations of previous work, in particu-
lar [4] from which we borrow the general structure of the paper. However, we believe
that our main contribution is the very uniﬁed deﬁnition of permutrees which leads to
natural constructions, simple proofs, and new objects in algebra and geometry.
2. Permutrees
2.1. Permutrees and leveled permutrees. This paper focuses on the following
family of trees.
Definition 2.1. A permutree is a directed tree T with vertex set V endowed with a
bijective vertex labeling p : V →[n] such that for each vertex v ∈V,
(i) v has one or two parents (outgoing neighbors), and one or two children (in-
coming neighbors);
(ii) if v has two parents (resp. children), then all labels in the left ancestor (resp.
descendant) subtree of v are smaller than p(v) while all labels in the right
ancestor (resp. descendant) subtree of v are larger than p(v).
The decoration of a permutree is the n-tuple δ(T) ∈{
,
,
,
}n deﬁned by
δ(T)p(v) =









if v has one parent and one child,
if v has one parent and two children,
if v has two parents and one child,
if v has two parents and two children,
for all v ∈V. Equivalently, we record the up labels δ∨(T) = {i ∈[n] | δ(T)i ∈{
,
}}
of vertices with two parents and the down labels δ∧(T) = {i ∈[n] | δ(T)i ∈{
,
}}
of vertices with two children. If δ(T) = δ, we say that T is a δ-permutree.
We denote by PT (δ) the set of δ-permutrees, by PT (n) = F
δ∈{
,
,
,
}n PT (δ)
the set of all permutrees on n vertices, and by PT := F
n∈N PT (n) the set of all
permutrees.
Definition 2.2. An increasing tree is a directed tree T with vertex set V endowed
with a bijective vertex labeling q : V →[n] such that v →w in T implies q(v) < q(w).
Definition 2.3. A leveled permutree is a directed tree T with vertex set V endowed
with two bijective vertex labelings p, q : V →[n] which respectively deﬁne a permutree
and an increasing tree. In other words, a leveled permutree is a permutree endowed
with a linear extension of its transitive closure (given by the inverse of the labeling q).
Algebraic Combinatorics, Vol. 1 #2 (2018)
175

Vincent Pilaud & Viviane Pons
1
2
3
4
5
6
7
7
6
4
4
2
1
3
5
1
2
3
4
5
6
7
7
6
4
4
2
1
3
5
Figure 2. A permutree (left), an increasing tree (middle), and a
leveled permutree (right). The decoration is
.
Figure 2 provides examples of a permutree, an increasing tree, and a leveled per-
mutree. We use the following conventions in all ﬁgures of this paper:
(i) All edges are oriented bottom-up — we can thus omit the edge orientation;
(ii) For a permutree, the vertices appear from left to right in the order given by
the labeling p — we can thus omit the vertex labeling;
(iii) For an increasing tree, the vertices appear from bottom to top in the order
given by the labeling q — we can thus omit the vertex labeling;
(iv) In particular, for a leveled permutree with vertex labelings p, q : V →[n] as in
Deﬁnition 2.3, each vertex v appears at position
 p(v), q(v)

— we can thus
omit both labelings;
(v) In all our trees, we decorate the vertices with
,
,
, or
depending on
their number of parents and children, following the natural visual convention
of Deﬁnition 2.1;
(vi) In a permutree, we often draw a vertical red wall below
and
vertices and
above
and
vertices to mark the separation between the left and right
descendant or ancestor subtrees of these vertices.
Example 2.4. For speciﬁc decorations, permutrees specialize to classical combina-
torial families:
(i) Permutrees with decoration
n are in bijection with permutations of [n].
Indeed, such a permutree is just a path of vertices labelled by [n].
(ii) Permutrees with decoration
n are in bijection with rooted planar binary
trees on n vertices. Indeed, such a permutree has a structure of rooted planar
binary tree, and its labeling p : V →[n] is just the inorder labeling which can
be recovered from the binary tree (inductively label each vertex after its left
subtree and before its right subtree).
(iii) Permutrees with decoration in {
,
}n are precisely Cambrian trees [4].
(iv) Permutrees with decoration
n are in bijection with binary sequences with
n−1 letters. Indeed, such a tree can be transformed to a sequence of letters u
or d whose ith letter records whether the vertex i is a child of the vertex i+1
or the opposite.
(v) Permutrees with decoration in {
,
}n are in bijection with acyclic orienta-
tions of the graph with vertices [n] and an edge between any two positions
separated only by
’s in the decoration.
Figure 3 illustrates these families represented as permutrees. The goal of this paper
is to propose a uniform treatment of all these families and of the lattices, morphisms,
polytopes, and Hopf algebras associated to them.
Algebraic Combinatorics, Vol. 1 #2 (2018)
176

Permutrees
1
2
3
4
5
6
7
1
2
3
4
5
6
7
1
2
3
4
5
6
7
7
6
4
1 2
3
5
1
2
3
4
5
6
7
4
4
3
3
5
5
6
6
7
7
2
2
1
1
1
2
3
4
5
6
7
7
6
5
4
3
2
1
Figure 3. Leveled permutrees corresponding to a permutation
(left), a leveled binary tree (middle left), a leveled Cambrian tree
(middle right), and a leveled binary sequence (right).
Remark 2.5. There are two natural operations on permutrees, that we call sym-
metrees, given by horizontal and vertical reﬂections. Denote by T
(resp. T ) the
permutree obtained from T by a horizontal (resp. vertical) reﬂection. Its decoration is
then δ(T ) = δ(T)
(resp. δ(T ) = δ(T) ), where δ
(resp. δ ) denotes the decora-
tion obtained from δ by a mirror image (resp. by interverting
and
decorations).
Remark 2.6. Observe that the decorations of the leftmost and rightmost vertices of
a permutree are irrelevant. Namely, consider two decorations δ, δ′ ∈{
,
,
,
}n
such that δ′ is obtained from δ by forcing δ′
1 = δ′
n =
. Then there is a bijection
from δ-permutrees to δ′-permutrees which consists in deleting the left (resp. right)
incoming and outgoing edges — if any — of the leftmost (resp. rightmost) vertex of
a δ-permutree. See Figure 4 (left).
When δ = δ′
δ′′, there is a bijection between PT (δ) and PT (δ′
) × PT (
δ′′).
We send a δ-permutree T to the pair of permutrees (T′, T′′) where T′ (resp. T′′) is the
(δ′
)-permutree (resp. the (
δ′′)-permutree) on the left (resp. right) of the (|δ′|+1)th
vertex of T. Conversely, we send a pair of permutrees (T′, T′′) to the δ-permutree T
obtained by merging the rightmost vertex of T′ with the leftmost vertex of T′′. See
Figure 4 (right).
7
6
4
4
2
1
3
5
7
6
4
4
2
3
5
4
2
1
3
7
6
4
5
Figure 4. Some bijections between permutrees: the leftmost and
rightmost decorations do not matter (left), and a decoration
yields
a product (right).
Remark 2.7.
Permutrees can as well be seen as dual trees of certain {2, 3, 4}-
angulations. We keep the presentation informal as we only need the intuition of the
construction in this paper.
For a given decoration δ ∈{
,
,
,
}n, we construct a collection Pδ of points
in the plane as follows. We ﬁrst ﬁx p0 = (0, 0) and pn+1 = (n + 1, 0) and denote
Algebraic Combinatorics, Vol. 1 #2 (2018)
177

Vincent Pilaud & Viviane Pons
7
6
4
2
1
3
5
7
6
5
4
4
3
2
1
8
0
7
6
5
4
4
3
2
1
8
0
Figure 5. Permutrees (left) and {2, 3, 4}-angulations (right) are
dual to each other.
by C the circle with diameter p0pn+1. Then for each i ∈[n], we a place at abscissa i
a point p0
i on p0pn+1 if δi =
, a point p−
i
on the circle C and below p0pn+1
if δi ∈{
,
}, and a point p+
i on the circle C and above p0pn+1 if δi ∈{
,
}.
Note that when δi =
, we have both p−
i and p+
i at abscissa i. Figure 5 shows the
point set Pδ for δ =
.
An arc in Pδ is an abscissa monotone curve connecting two external points of Pδ,
not passing through any other point of Pδ, and not crossing the vertical line at
abscissa i if δi =
. Arcs are considered up to isotopy in R2 ∖Pδ. In particular,
we can assume that the arcs joining two consecutive points on the boundary of the
convex hull of Pδ are straight. We call {2, 3, 4}-angulation of Pδ a maximal set of non-
crossing arcs in Pδ. An example is given in Figure 5. As observed in this picture, one
can check that a {2, 3, 4}-angulation decomposes the convex hull of Pδ into diangles,
triangles and quadrangles. In fact, for each j ∈[n], there is one diangle around p0
j
if δj =
, one triangle {p±
i , p±
j , p±
k } with i < j < k if δj ∈{
,
}, and one
quadrangle {p±
i , p−
j , p+
j , p±
k } with i < j < k if δj =
.
We associate to a {2, 3, 4}-angulation of Pδ its dual permutree with
• a vertex in each {2, 3, 4}-angle: the jth vertex is a vertex
in the diangle en-
closing p0
j if δj =
, a vertex
(resp.
) in the triangle {p±
i , p±
j , p±
k }
with i < j < k if δj =
(resp.
), and a vertex
in the quadran-
gle {p±
i , p−
j , p+
j , p±
k } with i < j < k if δj =
,
• an edge for each arc: for each arc α, there is an edge from the {2, 3, 4}-angle
adjacent to α and below α to the {2, 3, 4}-angle adjacent to α and above α.
2.2. Permutree correspondence. In this section, we present a correspondence
between the permutations of Sn and the leveled δ-permutrees for any given decora-
tion δ ∈{
,
,
,
}. This correspondence deﬁnes a surjection from the permuta-
tions of Sn to the δ-permutrees by forgetting the increasing labeling. This surjection
will be a special case of the surjections described in Section 2.7. We follow here the
presentation of the Cambrian correspondence in [4].
We represent graphically a permutation τ ∈Sn by the (n × n)-table, with rows
labelled by positions from bottom to top and columns labelled by values from left to
right, and with a dot at row i and column τ(i) for all i ∈[n]. (This unusual choice of
orientation is necessary to ﬁt later with the existing constructions of [17, 8, 4].)
A decorated permutation is a permutation table where each dot is decorated by
,
,
, or
. See the top left corner of Figure 6. We could equivalently think of
a permutation where the positions or the values receive a decoration, but it will
be useful later to switch the decoration from positions to values. The p-decoration
Algebraic Combinatorics, Vol. 1 #2 (2018)
178

Permutrees
(resp. v-decoration) of a decorated permutation τ is the sequence δp(τ) (resp. δv(τ))
of decorations of τ ordered by positions from bottom to top (resp. by values from
left to right). For a permutation τ ∈Sn and a decoration δ ∈{
,
,
,
}n, we
denote by τδ (resp. by τ δ) the permutation τ with p-decoration δp(τδ) = δ (resp. with
v-decoration δv(τ δ) = δ). We let Sδ := {τδ | τ ∈Sn} and Sδ :=

τ δ  τ ∈Sn
	
. Fi-
nally, we let
S{
,
,
,
} :=
G
n∈N
δ∈{
,
,
,
}n
Sδ =
G
n∈N
δ∈{
,
,
,
}n
Sδ
denote the set of all decorated permutations.
In concrete examples, we underline the down positions/values (those decorated
by
or
) while we overline the up positions/values (those decorated by
or
):
for example, 2751346 is the decorated permutation represented on the top left corner of
Figure 6, where τ = [2, 7, 5, 1, 3, 4, 6], δp =
and δv =
.
The insertion algorithm transforms a decorated permutation τ to a leveled per-
mutree Θ(τ). As a preprocessing, we represent the table of τ (with decorated dots in
positions (τ(i), i) for i ∈[n]) and draw a vertical red wall below the down vertices
and above the up vertices. These walls separate the table into regions. Note that the
number of children (resp. parents) expected at each vertex is the number of regions
visible below (resp. above) this vertex. We then sweep the table from bottom to top
(thus reading the permutation τ from left to right) as follows. The procedure starts
with an incoming strand in between any two consecutive down values. At each step,
we sweep the next vertex and proceed to the following operations depending on its
decoration:
(i) a vertex decorated by
or
catches the only incoming strands it sees, while
a vertex decorated by
or
connects the two incoming strands just to its
left and to its right,
(ii) a vertex decorated by
or
creates a unique outgoing strand, while a vertex
decorated by
or
creates two outgoing strands just to its left and to its
right.
The procedure ﬁnishes with an outgoing strand in between any two consecutive up
values. See Figure 6.
1
2
3
4
5
6
7
7
6
4
4
2
1
3
5
1
2
3
4
5
6
7
7
6
4
4
2
1
3
5
1
2
3
4
5
6
7
7
6
4
4
2
1
3
5
3
1
2
3
4
5
6
7
7
6
4
4
2
1
5
1
2
3
4
5
6
7
7
6
4
4
2
1
3
5
1
2
3
4
5
6
7
7
6
4
4
2
1
3
5
1
2
3
4
5
6
7
7
6
4
4
2
1
3
5
1
2
3
4
5
6
7
7
6
4
4
2
1
3
5
Figure 6. The insertion algorithm on the decorated permutation 2751346.
Algebraic Combinatorics, Vol. 1 #2 (2018)
179

Vincent Pilaud & Viviane Pons
Proposition 2.8. The map Θ is a bijection from δ-decorated permutations to leveled
δ-permutrees.
Proof. First, we need to prove that the map Θ is well-deﬁned. This relies on the fol-
lowing invariant of the sweeping algorithm: along the sweeping line, there is precisely
one strand in each of the intervals separated by the walls. Indeed, this invariant holds
when we start the procedure and is preserved when we sweep any kind of vertex.
Therefore, the sweeping algorithm creates a graph whose vertices are the decorated
dots of the permutation table together with the initial and ﬁnal positions of the
strands and where no edge crosses a red wall. It follows that this graph is a tree (a
cycle would force an edge to cross a red wall), and it is a leveled permutree (the walls
separate left and right ancestor or descendant subtrees). To prove that Θ is bijective,
we already observed that a leveled permutree T is a permutree endowed with a linear
extension τ. We can consider that τ is decorated by the decorations of the vertices
of T. Finally, one checks easily that when inserting the decorated permutation τ, the
resulting leveled permutree is Θ(τ) = T.
□
For a decorated permutation τ, we denote by P(τ) the permutree obtained by
forgetting the increasing labeling in Θ(τ) and by Q(τ) the increasing tree obtained
by forgetting the permutree labeling in Θ(τ). These trees should be thought of as
the insertion and recording trees of the permutree correspondence, in analogy to the
insertion and recording tableaux in the Robinson-Schensted correspondence [33]. The
same analogy was already done for the sylvester correspondence [8] and the Cambrian
correspondence [4]. The following statement was already observed along the previous
proof.
Proposition 2.9. The decorated permutations τ ∈Sδ such that P(τ) = T are pre-
cisely the linear extensions of (the transitive closure of) the permutree T.
Example 2.10. Following Example 2.4, the δ-permutree P(τ) is:
(i) a path with vertices labelled by τ for δ =
n,
(ii) the binary tree obtained by successive insertions (in a binary search tree) of
the values of τ read from right to left for δ =
n,
(iii) the Cambrian tree obtained by the insertion algorithm of [4] for δ ∈{
,
}n,
(iv) a permutree recording the recoils of τ for δ =
n. Namely, the vertex i is
below the vertex i + 1 in P(τ) if τ −1(i) < τ −1(i + 1), and above otherwise.
For example, the leveled permutrees of Figure 3 were all obtained by inserting the
permutation 2751346 with diﬀerent decorations.
2.3. Permutree congruence. In this section, we characterize the decorated per-
mutations which give the same P-symbol in terms of a congruence relation deﬁned by
a rewriting rule. We note that this is just a straightforward extension of the deﬁnitions
of the sylvester congruence by F. Hivert, J.-C. Novelli and J.-Y. Thibon [8] and of
the Cambrian congruence of N. Reading [30].
Definition 2.11. For a decoration δ ∈{
,
,
,
}n, the δ-permutree congruence
is the equivalence relation on Sδ deﬁned as the transitive closure of the rewriting rules
UacV bW ≡δ UcaV bW if a < b < c and δb =
or
,
UbV acW ≡δ UbV caW if a < b < c and δb =
or
,
where a, b, c are elements of [n] while U, V, W are words on [n]. Note that the dec-
orations of a and c do not matter, only that of b which we call the witness of the
rewriting rule.
Algebraic Combinatorics, Vol. 1 #2 (2018)
180

Permutrees
The permutree congruence is the equivalence relation on all decorated permuta-
tions S{
,
,
,
} obtained as the union of all δ-permutree congruences:
≡
:=
G
n∈N
δ∈{
,
,
,
}n
≡δ .
Proposition 2.12. Two decorated permutations τ, τ ′ ∈S{
,
,
,
} are permutree
congruent if and only if they have the same P-symbol:
τ ≡τ ′ ⇐⇒P(τ) = P(τ ′).
Proof. It boils down to observe that two consecutive vertices a, c in a linear extension τ
of a δ-permutree T can be switched while preserving a linear extension τ ′ of T precisely
when they belong to distinct ancestor or descendant subtrees of a vertex b of T. It
follows that the vertices a, c lie on either sides of b so that we have a < b < c. If δb =
or
and a, c appear before b in τ, then they belong to distinct descendant subtrees of b
and τ = UacV bW can be switched to τ ′ = UcaV bW. If δb =
or
and a, c appear
after b in τ, then they belong to distinct ancestor subtrees of b and τ = UbV acW can
be switched to τ ′ = UbV caW.
□
Recall that the (right) weak order on Sn is deﬁned as the inclusion order of
(right) inversions, where a (right) inversion of τ ∈Sn is a pair of values i < j such
that τ −1(i) > τ −1(j). This order is a lattice with minimal element [1, 2, . . . , n −1, n]
and maximal element [n, n −1, . . . , 2, 1].
A lattice congruence of a lattice (L, ⩽, ∧, ∨) is an equivalence relation ≡on L
which respects the meet and join operations: x ≡x′ and y ≡y′ implies x ∧y ≡x′ ∧y′
and x ∨y ≡x′ ∨y′ for all x, x′, y, y′ ∈L. For ﬁnite lattices, it is equivalent to require
that equivalence classes of ≡are intervals of L and that the maps π↓and π↑respectively
sending an element to the bottom and top elements of its equivalence class are order
preserving.
The quotient of L modulo the congruence ≡is the lattice L/≡whose elements are
the equivalence classes of L under ≡, and where for any two classes X, Y ∈L/≡, the
order is given by X ⩽Y if and only if there exist representatives x ∈X and y ∈Y such
that x ⩽y, and the meet (resp. join) is given by X ∧Y = x ∧y (resp. X ∨Y = x ∨y)
for any representatives x ∈X and y ∈Y .
N. Reading deeply studied the lattice congruences of the weak order, see in partic-
ular [28, 31]. Using his technology, in particular that of [31], we will prove in the next
section that our permutree congruences are as well lattice congruences of the weak
order.
Proposition 2.13. For any decoration δ ∈{
,
,
,
}n, the δ-permutree congru-
ence ≡δ is a lattice congruence of the weak order on Sδ.
Corollary 2.14. The δ-permutree congruence classes are intervals of the weak order
on Sn. In particular, the following sets are in bijection:
(i) permutrees with decoration δ,
(ii) δ-permutree congruence classes,
(iii) permutations of Sn that avoid the patterns ac-b with δb ∈{
,
} and b-ac
with δb ∈{
,
} (maximums of δ-permutree congruence classes),
(iv) permutations of Sn that avoid the patterns ca-b with δb ∈{
,
} and b-ca
with δb ∈{
,
} (minimums of δ-permutree congruence classes).
Example 2.15. Following Example 2.4, the δ-permutree congruence ≡is:
(i) the trivial congruence for δ =
n,
Algebraic Combinatorics, Vol. 1 #2 (2018)
181

Vincent Pilaud & Viviane Pons
(ii) the sylvester congruence [8] for δ =
n,
(iii) the Cambrian congruence [28, 30, 4] for δ ∈{
,
}n,
(iv) the hypoplactic congruence [12, 21] (σ ≡τ if and only if σ and τ have the
same descent sets) for δ =
n.
Remark 2.16. In [28], N. Reading deﬁnes a notion of homogeneous congruences of
the weak order. For example, the parabolic congruences cover all homogeneous degree
1 congruences. It turns out that the permutree congruences cover all homogeneous
degree 2 congruences. In other words, the permutree congruences are precisely the
lattice congruences obtained by contracting a subset of side edges of the bottom
hexagonal faces of the weak order together with all edges forced by these contractions.
For example, as illustrated in Figure 12, for each δ ∈{
,
,
,
}4, the δ-permutree
congruence is the ﬁnest congruence which contracts the edges
[1324, 3124] if δ2 ∈{
,
},
[2134, 2314] if δ2 ∈{
,
},
[1243, 1423] if δ3 ∈{
,
},
[1324, 1342] if δ3 ∈{
,
}.
2.4. Arc diagrams. We now interpret the permutree congruence in terms of the
arc diagrams of N. Reading [31]. We ﬁrst brieﬂy recall some deﬁnitions adapted to
suit better our purposes (in contrast to the presentation of [31], our arc diagrams are
horizontal to ﬁt our conventions).
Consider the n points {q1, . . . , qn} where qi = (i, 0). An arc diagram is a set
of abscissa monotone curves (called arcs) joining two points qi and qj, not passing
through any other point qk, and such that:
• no two arcs intersect except possibly at their endpoints,
• no two arcs share the same left endpoint or the same right endpoint (but the
right endpoint of an arc may be the left endpoint of another arc).
Two arcs are equivalent if they have the same endpoints qi, qj and pass above or
below the same points qk for i < k < j, and two arc diagrams are equivalent if
their arcs are pairwise equivalent. In other words, arc diagrams are considered up to
isotopy. Denote by An the set of arc diagrams on n points.
There are two similar maps asc and desc from Sn to An: for a permutation τ ∈Sn,
draw the table with a dot at row i and column τ(i) for each i ∈[n], trace the
segments joining two consecutive dots corresponding to ascents (resp. descents) of τ,
let the points and segments fall down to the horizontal line, allowing the segments
connecting ascents (resp. descents) to curve but not to pass through any dot, and call
the resulting arc diagram asc(τ) (resp. desc(τ)). See Figure 7 (left) for an illustration.
It is proved in [31] that asc and desc deﬁne bijections from Sn to An.
Consider now a decoration δ ∈{
,
,
,
}n. Draw a vertical wall below each
point qi with δi ∈{
,
} and above each point qi with δi ∈{
,
}. We denote
by Uδ the set of arcs which do not cross any of these walls. Note that this is very
similar to [31, Example 4.9] where each point qi is incident to precisely one wall. The
following lemma is immediate.
Lemma 2.17. For any τ ∈Sn, the arc diagram asc(τ) (resp. desc(τ)) uses only
arcs in Uδ if and only if τ avoids the patterns ac-b with δb ∈{
,
} and b-ac
with δb ∈{
,
} (resp. ca-b with δb ∈{
,
} and b-ca with δb ∈{
,
}).
Consider now two arcs α with endpoints qi, qj, and β with endpoints qk, qℓ. Then α
is a subarc of β if k ⩽i ⩽j ⩽ℓand α and β pass above or below the same points qm
for i < m < j. Consider now a subset U of all possible arcs which is closed by
subarcs. Denote by An(U) the set of arc diagrams consisting only of arcs of U. It
is then proved in [31] that asc−1(An(U)) (resp. desc−1(An(U))) is the set of bottom
Algebraic Combinatorics, Vol. 1 #2 (2018)
182

Permutrees
7
6
4
4
2
1
3
5
1
2
3
4
5
6
7
7
6
4
2
1
3
5
Figure 7. The arc diagrams asc(τ) (green, up) and desc(τ) (pink,
down) associated to the permutation τ = 2537146 (left) and the arc
diagrams asc(T) (green, up) and desc(T) (pink, down) associated to
a permutree T (right).
(resp. top) elements of the classes of a lattice congruence ≡U of the weak order. We
therefore obtain the proof of Proposition 2.13.
Proof of Proposition 2.13. For any decoration δ ∈{
,
,
,
}n, the set Uδ of arcs
not crossing any wall is clearly closed by subarcs. It follows that asc−1(An(Uδ))
(resp. desc−1(An(Uδ))) is the set of bottom (resp. top) elements of the classes of a lat-
tice congruence ≡Uδ of the weak order. But Lemma 2.17 ensures that asc−1(An(Uδ))
(resp. desc−1(An(Uδ))) are precisely the bottom (resp. top) elements of the classes of
the permutree congruence ≡δ. The two congruences ≡Uδ and ≡δ thus coincide which
proves that ≡δ is a lattice congruence of the weak order.
□
We conclude this section with a brief comparison between permutrees and arc
diagrams. Consider a permutree T, delete all its leaves, and let its vertices fall down
to the horizontal axis, allowing the edges to curve but not to pass through any vertex.
The resulting set of oriented arcs can be decomposed into the set asc(T) of increasing
arcs oriented from i to j with i < j and the set desc(T) of decreasing arcs oriented
from j to i with i < j. The following observation, left to the reader, is illustrated in
Figure 7 (right).
Proposition 2.18. The set asc(T) is the arc diagram asc(τ) of the maximal linear
extension τ of T while the set desc(T) is the arc diagram desc(σ) of the minimal linear
extension σ of T.
2.5. Numerology. In this section, we discuss enumerative properties of permutrees.
For δ ∈{
,
,
,
}n, we call factorial-Catalan number the number C(δ) of δ-per-
mutrees. The values of C(δ) for |δ| ∈{3, 4, 5, 6} are reported in Table 1. To evaluate
these numbers, we proceed in two steps: we ﬁrst show that the number of δ-permutrees
only depends on the positions of the
and
in δ, and then give summation formulas
for factorial-Catalan numbers C(δ) for δ ∈{
,
,
}n.
2.5.1. Only
and
matter. According to Corollary 2.14, δ-permutrees are in bijec-
tion with permutations of Sn avoiding the patterns ac-b with δb ∈{
,
} and b-ac
with δb ∈{
,
}. We construct a generating tree Tδ for these permutations. This tree
has n levels, and the nodes at level m are labelled by the permutations of [m] whose
values are decorated by the restriction of δ to [m] and avoiding the two patterns ac-b
with δb ∈{
,
} and b-ac with δb ∈{
,
}. The parent of a permutation in Tδ is
Algebraic Combinatorics, Vol. 1 #2 (2018)
183

Vincent Pilaud & Viviane Pons
··· ·
·
···
5
6
·
· 4
.
···· ·
·· ·
·
····
14 18
24
··
· 10 12
.
·
· 8
.
.
····· ·
··· ··
·· ·
·
· ·
·· ·
·
·····
42
56
60
76
84
120
···
·
28
36
36
.
48
.
··
··
25
30
36
.
.
.
··
·
20
24
.
.
.
.
·
·
·
20
24
.
.
.
.
·
· 16
.
.
.
.
.
······ ·
···· ··
··· ···
·· ·
··
· ·
·
·· ·
··· ··
·· ·
·
· ·
·· ·
·
······
132
180
200
200
248
280
288
324
408
480
720
····
·
84
112
120
112
.
152
168
168
.
240
.
···
··
70
90
90
.
108
.
120
.
144
.
.
··
···
70
84
.
90
108
108
.
.
.
.
.
···
·
56
72
72
.
.
.
96
.
.
.
.
··
··
56
60
.
.
72
.
.
.
.
.
.
·
··
·
50
.
72
72
.
.
.
96
.
.
.
··
·
·
50
60
.
60
.
72
.
.
.
.
.
··
·
40
48
.
.
.
.
.
.
.
.
.
·
·
·
40
.
48
.
.
.
.
.
.
.
.
·
· 32
.
.
.
.
.
.
.
.
.
.
Table 1. All factorial-Catalan numbers C(δ) for |δ| ∈{3, 4, 5, 6}.
Each row (resp. column) corresponds to all decorations with a
ﬁxed subset of positions marked with
(resp.
). For exam-
ple, we read in row ··
··· and column ·
··
· of the bottom table
that C(δ1
δ4
δ6) = 108 for any δ1, δ4, δ6 ∈{
,
}. Dots inside
the table correspond to overlapping sets of positions of
and
.
These tables give all factorial-Catalan numbers up to the mirror sym-
metry of Remark 2.5.
obtained by deleting its maximal value. See Figure 8 for examples of such generating
trees.
Proposition 2.19. For any decorations δ, δ′ ∈{
,
,
,
}n with δ−1(
) =
δ′−1(
) and δ−1(
) = δ′−1(
), the generating trees Tδ and Tδ′ are isomorphic.
For the proof, we consider the possible positions of m + 1 in the children of a
permutation τ at level m in Tδ. Index by {0, . . . , m} from left to right the gaps before
the ﬁrst letter, between two consecutive letters, and after the last letter of τ. We call
free gaps the gaps in {0, . . . , m} where placing m + 1 does not create a pattern ac-b
with δb ∈{
,
} and b-ac with δb ∈{
,
}. They are marked with a blue point •
in Figure 8.
Lemma 2.20. Any permutation at level m with g free gaps has g children in Tδ, whose
numbers of free gaps
• all equal g + 1 when δm+1 =
,
• range from 2 to g + 1 when δm+1 =
or
,
• all equal 2 when δm+1 =
.
Proof. Let τ be a permutation at level m in Tδ with g free gaps. Let σ be the child
of τ in Tδ obtained by inserting m + 1 at a free gap j ∈{0, . . . , m}. Then the free
gaps of σ are 0, j + 1 together with
• all free gaps of τ if δm+1 =
,
Algebraic Combinatorics, Vol. 1 #2 (2018)
184

Permutrees
Figure 8. The generating trees Tδ for the decorations δ =
(top) and δ =
(bottom). Free gaps are marked with blue
dots.
Algebraic Combinatorics, Vol. 1 #2 (2018)
185

Vincent Pilaud & Viviane Pons
• the free gaps of τ after j if δm+1 =
,
• the free gaps of τ before j + 1 if δm+1 =
,
• no other free gaps if δm+1 =
.
□
Proof of Proposition 2.19. Order the children of a node of Tδ from left to right by
increasing number of free gaps as in Figure 8. Lemma 2.20 shows that the shape of
the resulting tree only depends on the positions of
and
in δ. It ensures that
the trees Tδ and Tδ′ are isomorphic and provides an explicit bijection between the
δ-permutrees and δ′-permutrees when δ−1(
) = δ′−1(
) and δ−1(
) = δ′−1(
).
□
Proposition 2.19 immediately implies the following equi-enumeration result.
Corollary 2.21. The factorial-Catalan number C(δ) only depends on the positions
of the symbols
and
in δ.
Using more carefully the description of the generating tree in Lemma 2.20, we
obtain the following recursive formulas for the factorial-Catalan numbers.
Corollary 2.22. Let δ ∈{
,
,
,
}n and δ′ be obtained by deleting the last
letter δn of δ. The number C(δ, g) of permutations avoiding ac-b with δb ∈{
,
}
and b-ac with δb ∈{
,
} and with g free gaps satisﬁes the following recurrence
relations:
C(δ, g) =















11g>2 · (g −1) · C(δ′, g −1)
if δn =
,
11g⩾2 ·
X
g′⩾g−1
C(δ′, g′)
if δn =
or
,
11g=2 ·
X
g′⩾2
g′ · C(δ′, g′)
if δn =
,
where 11X is 1 if X is satisﬁed and 0 otherwise.
This can be used to compute the factorial-Catalan number C(δ) = P
g⩾2 C(δ, g)
inductively from C(δ, 2) = 1 for any δ of size 1. We will see however diﬀerent formulas
in the remainder of this section.
2.5.2. Summation formulas. By Corollary 2.21, it is enough to understand the
factorial-Catalan number C(δ) when δ ∈{
,
,
}n. Following Remark 2.6, we ﬁrst
observe that we can also get rid of the
symbols.
Lemma 2.23. Assume that δ = δ′
δ′′, then C(δ) = C(δ′
) · C(
δ′′).
We can therefore focus on the factorial-Catalan number C(δ) when δ ∈{
,
}n.
Note that when δ ∈{
,
}n, all δ-permutrees have a single outgoing strand, and are
therefore rooted. This enables us to derive recursive formulas for factorial-Catalan
numbers.
Proposition 2.24. For any decoration δ ∈{
,
}n, the factorial-Catalan num-
ber C(δ) satisﬁes the following recurrence relation
C(δ) =
X
i∈δ−1(
)
C(δ|[n]∖i) +
X
i∈δ−1(
)
C(δ|[1,...,i−1]) · C(δ|[i+1,...,n])
Proof. We group the δ-permutrees according to their root. The formula thus follows
from the obvious bijection between δ-permutree T with root i and
• δ|[n]∖i-permutrees if δi =
,
• pairs of δ|[1,...,i−1]- and δ|[i+1,...,n]-permutrees if δi =
.
□
Algebraic Combinatorics, Vol. 1 #2 (2018)
186

Permutrees
D
P
δ∈Dn C(δ)
for n ∈[10]
reference
{
,
,
,
}
4
32
320
3584
43264
553472
7441920
104740864
−
{
,
,
}
3
18
144
1368
14688
173664
2226528
30647808
−
{
,
,
}
3
18
126
936
7164
55800
439560
3489696
−
{
,
,
} or {
,
,
} 3
18
135
1134
10287
99306
1014039
10933542
−
{
,
} or {
,
}
2
8
44
296
2312
20384
199376
2138336 [23, A077607]
{
,
}
2
8
40
224
1360
8864
61984
467072
−
{
,
} or {
,
}
2
8
36
168
796
3800
18216
87536 [23, A084868]
{
,
}
2
8
40
224
1344
8448
54912
366080 [23, A052701]
{
}
1
2
6
24
120
720
5040
40320 [23, A000142]
{
} or {
}
1
2
5
14
42
132
429
1430 [23, A000108]
{
}
1
2
4
8
16
32
64
128 [23, A000079]
Table 2. Sums of the factorial-Catalan numbers over subfamilies of
decorations given by all words on a given subset of {
,
,
,
}.
Proposition 2.25. For any decoration δ ∈{
,
}n, the factorial-Catalan num-
ber C(δ) satisﬁes the following recurrence relation
C(δ) =
X
i∈δ−1(
)
J⊆δ−1(
)
C(δ|[1,...,i−1]∖J) · C(δ|[i+1,...,n]∖J) · |J|!
Proof. Similar as the previous proof except that we group the δ-permutrees according
to their topmost
vertex. Details are left to the reader.
□
We conclude by the following statement which sums up the results of this numerol-
ogy section.
Corollary 2.26. For any decoration δ, the factorial-Catalan number C(δ) is given
by the recurrence formula
C(δ) =
Y
k∈[m]
X
i∈[bk−1,bk]∩δ−1(
)
J⊆[bk−1,bk]∩δ−1(
)
C(δ|[bk−1,...,i−1]∖J) · C(δ|[i+1,...,bk]∖J) · |J|!
where {b0 < b1 < · · · < bm} = {0, n} ∪δ−1(
).
Example 2.27. Following Example 2.4, we obtain classical formulas for
(i) the factorial n! = C(
n) [23, A000142],
(ii) the Catalan number
1
n+1
 2n
n

= C(
n) = C(δ) for δ ∈{
,
}n [23,
A000108],
(iii) the power 2n−1 = C(
n) [23, A000079].
Other relevant subfamilies of decorations will naturally appear in Section 4. Namely,
we are particularly interested in the subfamilies of decorations given by all words
in Dn on a given subset D of {
,
,
,
}. See Table 2.
Remark 2.28. The factorial-Catalan number is always bounded by 2n−1 ⩽C(δ) ⩽n!.
Moreover, we even have C(δ) ⩽
1
n+1
 2n
n

if δ contains no
, while C(δ) ⩾
1
n+1
 2n
n

if δ contains no
. This follows from Corollary 2.22 but will even be easier to see
from decoration reﬁnements in the next section.
We refer to Table 1 for the values of all factorial-Catalan numbers C(δ) for all
decorations δ such that |δ| ∈{3, 4, 5, 6}.
Algebraic Combinatorics, Vol. 1 #2 (2018)
187

Vincent Pilaud & Viviane Pons
2.6. Rotations and permutree lattices. We now extend the rotation from bi-
nary trees to all permutrees. This local operation only exchanges the orientation of
an edge and rearranges the endpoints of two other edges.
Definition 2.29. Let i →j be an edge in a δ-permutree T, with i < j. Let D be the
only (resp. the right) descendant subtree of vertex i if δi ∈{
,
} (resp. δi ∈{
,
})
and let U denote the only (resp. the left) ancestor subtree of vertex j if δj ∈{
,
}
(resp. δj ∈{
,
}). Let T′ be the oriented tree obtained from T just reversing the
orientation of i →j and attaching the subtree U to i and the subtree D to j. The
transformation from T to T′ is called rotation of the edge i →j. See Figure 9.
U
D
D
U
i
j
i
j
U
D
D
U
i
j
j
j
i
j
U
D
D
U
i
j
i
j
U
D
D
U
i
i
j
j
U
D
D
U
i
i
j
i
i
j
U
D
D
U
i
j
i
j
i
j
i
j
U
D
D
U
i
j
i
i
j
i
U
D
D
U
i
i
i
i
j
j
U
D
D
U
i
j
j
j
i
j
U
D
D
U
i
j
i
j
U
D
D
U
j
i
j
i
U
D
i
D
U
i
j
j
U
D
D
U
j
j
i
i
U
D
D
U
j
j
i
i
U
D
D
U
i
j
i
j
U
D
D
U
j
j
j
i
i
j
i
j
Figure 9. Rotations in permutrees: in each box, the tree T (left) is
transformed into the tree T′ (right) by rotation of the edge i →j.
The 16 boxes correspond to the possible decorations of i and j.
The following statement shows that the rotation of the edge i →j is the only
operation which exchanges the orientation of this edge while preserving all other edge
cuts. An edge cut in a permutree T is the ordered partition (I ∥J) of the vertices of T
into the set I of vertices in the source set and the set J = [n] ∖I of vertices in the
target set of an oriented edge of T.
Proposition 2.30. The result T′ of the rotation of an edge i →j in a δ-permutree T
is a δ-permutree. Moreover, T′ is the unique δ-permutree with the same edge cuts
as T, except the cut deﬁned by the edge i →j.
Proof. We ﬁrst observe that T′ is still a tree, with an orientation of its edges and
a bijective labeling of its vertices by [n]. To check that T′ is still a δ-permutree, we
need to check the local conditions of Deﬁnition 2.1 around each vertex of T′. Since we
did not perturb the labels nor the edges incident to the vertices of T distinct from i
and j, it suﬃces to check the local conditions around i and j. By symmetry, we only
give the arguments around i. We distinguish two cases:
Algebraic Combinatorics, Vol. 1 #2 (2018)
188

Permutrees
• If i is an down vertex in T (decorated by
or
), then D is the right
descendant of i in T, so that all labels in D are larger than i. Moreover, all
labels in the right ancestor and descendant of j (if any) are larger than j,
which is in turn larger than i. It follows that all labels in the right descendant
of i in T′ are larger than i. Finally, the left descendant of i in T′ is the left
descendant of i in T, so all its labels are still smaller than i.
• If i is an up vertex in T (decorated by
or
), then U belongs to the right
ancestor of i in T, so that all labels in U are larger than i. It follows that all
labels in the right ancestor of i in T′ are larger than i. Finally, the left ancestor
of i in T′ is the left ancestor of i in T, so all its labels are still smaller than i.
This closes the proof that T′ is a δ-permutree. By construction, the δ-permutree T′
clearly has the same edge cuts as T, except the cut corresponding to the edge i →j.
Any δ-permutree with this property is obtained from T by reversing the edge i →j
to an edge i ←j and rearranging the neighbors of i and j. But it is clear that
the rearrangement given in Deﬁnition 2.29 is the only one which preserves the local
conditions of Deﬁnition 2.1 around the vertices i and j.
□
Remark 2.31. Following Remark 2.7, a rotation on permutrees is dual to a ﬂip on
{2, 3, 4}-angulations of Pδ. Namely, after deletion of an internal arc from a {2, 3, 4}-an-
gulation, there is a unique distinct internal arc that can be inserted to complete to a
new {2, 3, 4}-angulation. See Figure 10.
7
6
5
4
4
3
2
1
8
0
7
6
5
4
4
3
2
1
8
0
7
6
5
4
4
3
2
1
8
0
Figure 10. A sequence of two rotations on permutrees, and the
corresponding ﬂips on {2, 3, 4}-angulations.
Deﬁne the increasing rotation graph on PT (δ) to be the graph whose vertices are
the δ-permutrees and whose arcs are increasing rotations T →T′, i.e. where the
edge i →j in T is reversed to the edge i ←j in T′ for i < j. See Figure 11. The
following statement, adapted from N. Reading’s work [30], asserts that this graph
is acyclic, that its transitive closure deﬁnes a lattice, and that this lattice is closely
related to the weak order. See Figure 11.
Proposition 2.32. The transitive closure of the increasing rotation graph on PT (δ)
is a lattice, called δ-permutree lattice. The map P : Sδ →PT (δ) deﬁnes a lattice
homomorphism from the weak order on Sδ to the δ-permutree lattice on PT (δ).
Proof. For two δ-permutree congruence classes X, Y , deﬁne X ⩽Y if and only if
there are representatives σ ∈X and τ ∈Y such that σ ⩽τ in weak order. By
Proposition 2.13, this order deﬁnes a lattice on the δ-permutree congruence classes.
Moreover, these classes correspond to the δ-permutrees by Proposition 2.12. Therefore,
we only have to show that the quotient order on these classes coincides with the order
given by increasing ﬂips on the δ-permutrees. For this, it suﬃces to check that if two
Algebraic Combinatorics, Vol. 1 #2 (2018)
189

Vincent Pilaud & Viviane Pons
Figure 11. The δ-permutree lattices, for the decorations
δ =
(left) and δ =
(right).
Algebraic Combinatorics, Vol. 1 #2 (2018)
190

Permutrees
permutations σ and τ diﬀer by the transposition of two consecutive values i < j,
then the δ-permutrees P(σ) and P(τ) either coincide or diﬀer by the rotation of the
edge i →j. If σ ≡δ τ, then we have P(σ) = P(τ) by Proposition 2.12. If σ ̸≡δ τ,
then i and j are consecutive values comparable in P(σ), so that P(σ) contains the
edge i →j. We then check locally that the eﬀect of switching i and j in the insertion
process precisely rotates this edge in P(σ).
□
Note that the minimal (resp. maximal) δ-permutree is an oriented path from 1 to n
(resp. from n to 1) with an additional incoming leaf at each down vertex (decorated
by
or
) and an additional outgoing leaf at each up vertex (decorated by
or
).
See Figure 11.
Example 2.33. Following Example 2.4, the δ-permutree lattice is:
(i) the weak order on Sn for δ =
n,
(ii) the Tamari lattice deﬁned by right rotations on binary trees for δ =
n,
(iii) the (type A) Cambrian lattices of N. Reading [30] for δ ∈{
,
}n,
(iv) the boolean lattice for δ =
n.
Remark 2.34. Note that diﬀerent decorations generally give rise to diﬀerent per-
mutree lattices. In fact, although it preserves the number of δ-permutrees by Corol-
lary 2.21 and the number of Schröder δ-permutrees by Corollary 5.23, changing
a
to a
in the decoration δ may change both the δ-permutree lattice and the
rotation graph on δ-permutrees. For example, the rotation graphs for the decora-
tion
and
both have 248 vertices but are not isomorphic.
Note however that the symmetrees discussed in Remark 2.5 provide lattice (anti)-
isomorphisms between the permutree lattices for the decorations δ, δ
and δ .
2.7. Decoration refinements. Order the decorations by
≼{
,
} ≼
(in
other words, by increasing number of incident edges). Let δ, δ′ be two decorations of
the same size n. If δi ≼δ′
i for all i ∈[n], then we say that δ reﬁnes δ′, or that δ′
coarsens δ, and we write δ ≼δ′. The set of all decorations of size n ordered by
reﬁnement ≼is a boolean lattice with minimal element
n and maximal element
n.
For any permutation τ ∈Sn and any decoration δ ∈{
,
,
,
}n, we denote
by τ δ ∈Sδ the permutation τ whose values get decorated by δ. Observe now that for
any two decorations δ ≼δ′, the δ-permutree congruence reﬁnes the δ′-permutree con-
gruence: σδ ≡δ τ δ =⇒σδ′ ≡δ′ τ δ′. See Figure 12 for an illustration of the reﬁnement
lattice on the δ-permutree congruences for all decorations δ ∈
· {
,
,
,
}2 ·
.
In other words, all linear extensions of a given δ-permutree T are linear extensions of
the same δ′-permutree T′. It deﬁnes a natural surjection map Ψδ′
δ : PT (δ) →PT (δ′)
from δ-permutrees to δ′-permutrees for any two decorations δ ≼δ′. Namely, the
image Ψδ′
δ (T) of any δ-permutree T is obtained by inserting any linear extension of T
seen as a permutation decorated by δ′.
This surjection Ψδ′
δ can be described visually as follows, see Figure 13. We start from
a δ-permutree, with vertices labelled from left to right as usual. We then redecorate its
vertices according to δ′ and place the corresponding vertical red walls below the down
vertices (decorated by
or
) and above the up vertices (decorated by
or
).
The result is not a permutree at the moment as some edges of the tree cross some
red walls. In order to ﬁx it, we cut the edges crossing red walls and reconnect them
with vertical segments as illustrated in Figure 13 (middle right). Finally, we stretch
the picture to see a δ′-permutree with our usual straight edges.
Algebraic Combinatorics, Vol. 1 #2 (2018)
191

Vincent Pilaud & Viviane Pons
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
4321
4231
4312
3421
3412
3241
2431
4213
1234
1324
2134
1243
3124
2314
1342
2143
3142
2413
3214
2341
4123
1423
4132
1432
Figure 12. The ﬁbers of the δ-permutree congruence,
for all decorations δ ∈
· {
,
,
,
}2 ·
.
Algebraic Combinatorics, Vol. 1 #2 (2018)
192

Permutrees
7
6
4
4
2
1
3
5
7
4
1
6
4
2
3
5
7
4
1
2
6
3
5
7
6
4
4
2
1
3
5
Figure 13. Reﬁnement by cut and stretch: starting from a per-
mutree decorated with
(left), we redecorate its ver-
tices with
(middle left), cut and reconnect its edges
along the resulting red walls (middle right), and stretch the resulting
-permutree (right).
Note that if ≡and ≈are two lattice congruences of the same lattice L and ≡
reﬁnes ≈, then the map sending a class of L/≡to its class in L/≈is a lattice homor-
morphism. Since the δ-permutree lattice is isomorphic to the quotient of the weak
order by the δ-permutree congruence by Proposition 2.32, we obtain the following
statement.
Proposition 2.35. The surjection Ψδ′
δ deﬁnes a lattice homomorphism from the δ-
permutree lattice to the δ′-permutree lattice.
Example 2.36. When δ =
n, the surjection Ψδ′
δ is just the P-symbol described in
Section 2.2. The reader can thus apply the previous description to see pictorially the
classical maps described in Example 2.10 (BST insertion, descents). For example, we
have illustrated in Figure 14 an insertion of a permutation in a binary tree seen with
this cut and stretch interpretation. Besides these maps, the surjection Ψδ′
δ specializes
when δ =
n and δ′ =
n to the classical canopy map from binary trees to binary
sequences, see [17, 37].
1
2
3
4
5
6
7
7
6
4
1 2
3
5
7
6
4
1 2
3
5
7
6
4
1 2
3
5
Figure 14. BST insertion seen as the reﬁnement map from a
n-
permutree (i.e. a permutation of Sn) to a
n-permutree (i.e. a bi-
nary tree on [n]).
3. Permutreehedra
In this section, we show that the known geometric constructions of the associahe-
dron [16, 9, 13] extend in our setting. We therefore obtain a family of polytopes
which interpolate between the permutahedron, the associahedra, and some graphical
zonotopes. We call these polytopes permutreehedra .
Algebraic Combinatorics, Vol. 1 #2 (2018)
193

Vincent Pilaud & Viviane Pons
We refer to [39] or [19, Chapter 5] for background on polytopes and fans. Let us
just remind that a polytope is a subset P in Rn deﬁned equivalently as the convex hull
of ﬁnitely many points in Rn or as a bounded intersection of ﬁnitely many closed half-
spaces of Rn. The faces of P are the intersections of P with its supporting hyperplanes.
A polyhedral fan is a collection of polyhedral cones of Rn closed under faces and
which intersect pairwise along faces. The (outer) normal cone of a face F of P is the
cone generated by the outer normal vectors of the facets (codimension 1 faces) of P
containing F. Finally, the (outer) normal fan of P is the collection of the (outer)
normal cones of all its faces.
We denote by (ei)i∈[n] the canonical basis of Rn and let 11 := P
i∈[n] ei. All our
constructions will lie in the aﬃne subspace
H :=

x ∈Rn

X
i∈[n]
xi =
n + 1
2

.
3.1. Permutree fans. We consider the (type A) Coxeter arrangement deﬁned by
the hyperplanes {x ∈Rn | xi = xj} for all 1 ⩽i < j ⩽n. It deﬁnes a complete simpli-
cial fan, called the braid fan. Each maximal cone C of this fan corresponds to a per-
mutation given by the order of the coordinates of any point of C. More precisely, each
permutation τ yields the maximal cone C⋄(τ) :=

x ∈Rn  xτ −1(1) ⩽· · · ⩽xτ −1(n)
	
of the braid fan.
For a permutree T, deﬁne now its incidence cone C(T) by
C(T) := n + 1
2
11 + cone {ei −ej | ∀i →j in T}
=

x ∈H

X
j∈J
xj
|J| ⩽
X
i∈I
xi
|I|, ∀(I ∥J) ∈EC(T)

and its braid cone C⋄(T) by
C⋄(T) := {x ∈H | xi ⩽xj, ∀i →j in T}
= n + 1
2
11 + cone
 X
j∈J
ej
|J| −
X
i∈I
ei
|I|
 ∀(I ∥J) ∈EC(T)

,
where EC(T) denotes the set of edge cuts of T. Note that these two cones both lie
in the space H, are simplicial, and are polar to each other. We use these cones to
construct the permutree fan.
Proposition 3.1. For any decoration δ ∈{
,
,
,
}n, the collection of cones
{C⋄(T) | T ∈PT (δ)}, together with all their faces, forms a complete simplicial
fan F(δ) of H called δ-permutree fan.
Proof. The statement is a special case of a general result of N. Reading [29, The-
orem 1.1], but we give a direct short proof for the convenience of the reader. A
cone C⋄(T) is the union of the cones C⋄(τ) over all linear extensions τ of T. Since
the sets of linear extensions of the δ-permutrees form a partition of Sn (δ-permutree
congruence classes), we already know that the cones C⋄(T) for all T ∈PT (δ) are
interior disjoint and cover the all space Rn. Now any δ-permutree T is adjacent by
rotation to n other δ-permutrees T1, . . . , Tn. If Tk is obtained from T by rotating
the edge i →j with edge cut (I ∥J), it has precisely the same edge cuts as T except
the edge cut (I ∥J). The cone C⋄(Tk) thus shares all but one ray of C⋄(T). We con-
clude that each facet of C⋄(T) is properly shared by another cone C⋄(T′). Since the
cones C⋄(T) for all T ∈PT (δ) are interior disjoint, it shows that no such cone can
improperly share a (portion of a) facet with C⋄(T). We obtain that all cones intersect
properly which concludes the proof that we have a complete simplicial fan.
□
Algebraic Combinatorics, Vol. 1 #2 (2018)
194

Permutrees
Proposition 3.2. Consider two decorations δ ≼δ′ and let Ψδ′
δ : PT (δ) →PT (δ′)
be the surjection deﬁned in Section 2.7. For any δ-permutree T and its im-
age T′ = Ψδ′
δ (T), we have
C(T) ⊇C(T′)
and
C⋄(T) ⊆C⋄(T′).
In other words, the δ-permutree fan F(δ) reﬁnes the δ′-permutree fan F(δ′).
Proof. We have seen in the deﬁnition of Ψδ′
δ that all linear extensions of T are linear
extensions of T′ = Ψδ′
δ (T). Since the cone C⋄(T) is the union of the cones C⋄(τ) over all
linear extensions τ of T, we obtain that C⋄(T) ⊆C⋄(T′). The inclusion C(T) ⊇C(T′)
follows by polarity.
□
Example 3.3. Following Example 2.4, the δ-permutree fans specialize to:
(i) the braid fan for δ =
n,
(ii) the Cambrian fans of N. Reading and D. Speyer [32] for δ ∈{
,
}n,
(iii) the fan obtained by the arrangement of hyperplanes xi = xi+1 for each
i ∈[n −1] for δ =
n,
(iv) the fan obtained by the hyperplane arrangement xi
=
xj
for each
i < j ∈[n −1] such that δ|(i,j) =
j−i−1 for δ ∈{
,
}n.
3.2. Permutreehedra. We now construct the δ-permutreehedron whose normal fan
is the δ-permutree fan. As for J.-L. Loday’s or C. Hohlweg and C. Lange’s associa-
hedra [16, 9], our permutreehedra are obtained by deleting certain inequalities in
the facet description of the classical permutahedron. We thus ﬁrst recall the vertex
and facet descriptions of this polytope. The permutahedron Perm(n) is the polytope
obtained as
(i) either the convex hull of the points p(τ) := [τ −1(i)]i∈[n] ∈Rn, for all τ ∈Sn,
(ii) or the intersection of the hyperplane H = H=([n]) with the half-spaces H⩾(J)
for ∅̸= J ⊆V, where
H=(J) :=

x ∈Rn

X
j∈J
xj =
|J| + 1
2

and
H⩾(J) :=

x ∈Rn

X
j∈J
xj ⩾
|J| + 1
2

.
Its normal fan is precisely the braid fan described in the previous section. An illus-
tration of Perm(4) is given on the bottom of Figure 16.
From this polytope, we construct the δ-permutreehedron PT(δ), for which we give
both vertex and facet descriptions:
(i) The vertices of PT(δ) correspond to δ-permutrees. We associate to a δ-permu-
tree T a point a(T) ∈Rn whose coordinates are deﬁned by
a(T)i =









1 + d
if δi =
,
1 + d + ℓr
if δi =
,
1 + d −ℓr
if δi =
,
1 + d + ℓr −ℓr
if δi =
,
where d denotes the number of the descendants i in T, ℓand r denote the
sizes of the left and right descendant subtrees of i in T when δi ∈{
,
},
and ℓand r denote the sizes of the left and right ancestor subtrees of i in T
when δi ∈{
,
}. Note that a(T) is independent of the decorations of the
ﬁrst and last vertices of T.
Algebraic Combinatorics, Vol. 1 #2 (2018)
195

Vincent Pilaud & Viviane Pons
(ii) The facets of PT(δ) correspond to the δ-building blocks, that is, to all sub-
sets I ⊂[n] such that there exists a δ-permutree T which admits (I ∥J)
as an edge cut. We associate to a δ-building block I the hyperplane H=(I)
and the half-space H⩾(I) deﬁned above for the permutahedron. Note that δ-
building blocks are easy to compute on the dual representation described in
Remark 2.7: any internal arc α in Pδ corresponds to the building block Iα
of the indices of all points pk below α, including the endpoints of α in
the upper convex hull of Pδ (and excluding 0 and n + 1). For example,
when δ ∈{
,
}n, the building blocks are the subsets I such that I ∩δ−1(
)
is an interval of δ−1(
).
For example, the vertex corresponding to the permutree displayed in Figure 2
is [7, −4, 3, 8, 1, 12, 1] and the facet corresponding to the edge 3 →4 is x1+x2+x3 ⩾6.
Theorem 3.4. The permutree fan F(δ) is the normal fan of the permutreehe-
dron PT(δ) deﬁned equivalently as
(i) either the convex hull of the points a(T) for all δ-permutrees T,
(ii) or the intersection of the hyperplane H with the half-spaces H⩾(B) for all
δ-building blocks B.
Figure 15. The permutreehedra PT(δ) for the two the decorations
δ =
(left) and δ =
(right).
Figure 15 illustrates the permutreehedra PT(
) and PT(
). For
more examples, Figure 16 shows all δ-permutreehedra for δ ∈
· {
,
,
,
}2 ·
.
We restrict to the cases when δ1 = δ4 =
as the ﬁrst and last symbols of δ do not
matter for PT(δ) (see Remark 2.6).
Our proof of Theorem 3.4 is based on the following characterization of the valid
right hand sides to realize a complete simplicial fan as the normal fan of a convex
polytope. A proof of this statement can be found e.g. in [10, Theorem 4.1].
Theorem 3.5 ([10, Theorem 4.1]). Given a complete simplicial fan F in Rd, consider
for each ray ρ of F a half-space H⩾
ρ of Rd containing the origin and deﬁned by a
hyperplane H=
ρ orthogonal to ρ. For each maximal cone C of F, let a(C) ∈Rd be
the intersection of the hyperplanes H=
ρ for ρ ∈C. Then the following assertions are
equivalent:
(i) The vector a(C′) −a(C) points from C to C′ for any two adjacent maximal
cones C, C′ of F.
Algebraic Combinatorics, Vol. 1 #2 (2018)
196

Permutrees
(ii) The polytopes
conv {a(C) | C maximal cone of F}
and
T
ρ ray of F
H⩾
ρ
coincide and their normal fan is F.
To apply this theorem, we start by checking that our point a(T) is indeed the
intersection of the hyperplanes corresponding to the cone C(T).
Lemma 3.6. For any permutree T, the point a(T) is the intersection point of the
hyperplanes H=(I) for all edge cuts (I ∥J) of T.
Proof. Let x denote the intersection point of the hyperplanes H=(I) for all edge
cuts (I ∥J) of T. Fix k ∈[n]. Each cut given by the incoming and outgoing edges of
vertex k provides an equation of the form P
i∈I xi =
 |I|+1
2

. Combining these equa-
tions (more precisely, adding the outgoing equations and substracting the incoming
equations), we obtain the value of xk in terms of the sizes d, ℓ, r, ℓ, r deﬁned earlier.
We distinguish four cases, depending on the decoration of i:
xk =













 d+2
2

−
 d+1
2

= 1 + d
if δi =
,
 ℓ+r+2
2

−
 ℓ+1
2

−
 r+1
2

= 1 + d + ℓr
if δi =
,
 d+r+2
2

+
 d+ℓ+2
2

−
 d+1
2

−
 d+ℓ+r+1
2

= 1 + d −ℓr
if δi =
,
 ℓ+r+r+2
2

+
 ℓ+r+ℓ+2
2

−
 ℓ+1
2

−
 r+1
2

−
 ℓ+r+ℓ+r+1
2

= 1 + d + ℓr −ℓr
if δi =
.
□
We can now check that Condition (i) in Theorem 3.5 holds. This requires a short
case analysis of the rotation on permutrees (see Deﬁnition 2.29 and Figure 9).
Lemma 3.7. Let T and T′ be two permutrees connected by the rotation of the edge
i →j ∈T to the edge i ←j ∈T′. Then the diﬀerence a(T′) −a(T) is a positive
multiple of ei −ej.
Proof. Analyzing the 16 possible situations presented in Figure 9, we obtain that
a(T′) −a(T) = (ℓ+ 1)(r + 1)(ei −ej),
where ℓis the sum of the sizes of the left subtrees of i (if any), and r is the sum of the
sizes of the right subtrees of j (if any). The result follows since ℓ⩾0 and r ⩾0.
□
Proof of Theorem 3.4. Direct application of Theorem 3.5, where (i) holds by Lem-
mas 3.6 and 3.7.
□
Example 3.8. Following Example 2.4, the δ-permutreehedron PT(δ) specializes to:
(i) the permutahedron Perm(n) for δ =
n,
(ii) the associahedron Asso(n) of J.-L. Loday [34, 16] for δ =
n,
(iii) the associahedra Asso(δ) of C. Hohlweg and C. Lange [9, 13] for δ ∈{
,
}n,
(iv) the parallelepiped Para(n) with directions ei −ei+1 for each i ∈[n −1]
for δ =
n,
(v) the graphical zonotope Zono(δ) generated by the vectors ei −ej for each
i < j ∈[n −1] such that δ|(i,j) =
j−i−1 for δ ∈{
,
}n.
See Figure 16 for examples when n = 4.
3.3. Further geometric topics. We now explore several miniatures about per-
mutreehedra. All are inspired from similar properties known for the associahedron,
see e.g. [13] for a survey.
Algebraic Combinatorics, Vol. 1 #2 (2018)
197

Vincent Pilaud & Viviane Pons
3.3.1. Linear orientation and permutree lattice. The δ-permutree lattice studied in
Section 2.6 naturally appears in the geometry of the δ-permutreehedron PT(δ). De-
note by U the vector
U := (n, n −1, . . . , 2, 1) −(1, 2, . . . , n −1, n) =
X
i∈[n]
(n + 1 −2i) ei.
Proposition 3.9. When oriented in the direction U, the 1-skeleton of the δ-permutree-
hedron PT(δ) is the Hasse diagram of the δ-permutree lattice.
Proof. By Theorem 3.4, the 1-skeleton of PT(δ) is the rotation graph on δ-permutrees.
It thus only remains to check that increasing rotations are oriented as U. Consider
two δ-permutrees T, T′ connected by the rotation of the edge i →j ∈T to the
edge i ←j ∈T′ such that i < j. Then according to Lemma 3.7, we have
⟨U | a(T′) −a(T) ⟩= (ℓ+ 1)(r + 1)⟨U | ei −ej ⟩= 2(ℓ+ 1)(r + 1)(j −i) > 0.
□
3.3.2. Matriochka permutreehedra. We have seen in Proposition 3.2 that the δ-permu-
tree fan F(δ) reﬁnes the δ′-permutree fan F(δ′) when δ ≼δ′. It implies that all rays
of F(δ′) are also rays of F(δ), and thus that all the inequalities of the δ′-permutreehe-
dron PT(δ′) are also inequalities of the δ-permutreehedron PT(δ).
Corollary 3.10. For any two decorations δ ≼δ′, we have PT(δ) ⊆PT(δ′).
Thus, the poset of (n −1)-dimensional permutreehedra ordered by inclusion is iso-
morphic to the reﬁnement poset on the decorations of
· {
,
,
,
}n−2 ·
(the
decorations on the ﬁrst and last vertices do not matter by Remark 2.6). Chains along
this poset provide Matriochka permutreehedra. This poset is illustrated on Figure 16.
3.3.3. Parallel facets. It is known that the permutahedron Perm(n) has 2n−1−1 pairs
of parallel facets, while all associahedra Asso(δ) of C. Hohlweg and C. Lange [9, 13]
as well as the parallelepiped Para(n) have n−1 pairs of parallel facets. This property
extends to all permutreehedra as follows.
Proposition 3.11. Consider a decoration δ ∈{
,
,
,
}n, assume without loss of
generality that δ1 ̸=
and δn ̸=
, let 1 = u0, u1, . . . , uv−1, uv = n be the positions
in δ such that δui ̸=
, and let ni = ui −ui−1 −1 be the sizes of the (possibly empty)
blocks of
in δ. Then the permutreehedron PT(δ) has
X
i∈[v]
(2ni+1 −1)
pairs of parallel facets whose normal vectors are the characteristic vectors of
• the sets [ui−1] ∪X for i ∈[v] and X ⊆(ui−1, ui), and
• the sets X for i ∈[v] and ∅̸= X ⊊(ui−1, ui).
Proof. Pairs of parallel facets correspond to pairs of complementary building blocks.
As already mentioned, it is easier to think of building blocks as arcs in Pδ: the
building block corresponding to an arc α is the set Iα of indices of all points pk
below α, including the endpoints of α in the upper convex hull of Pδ (and excluding 0
and n + 1).
Algebraic Combinatorics, Vol. 1 #2 (2018)
198

Permutrees
PT(         )
PT(         )
PT(         )
PT(         )
PT(         )
PT(         )
PT(         )
PT(         )
PT(         )
PT(         )
PT(         )
PT(         )
PT(         )
PT(         )
PT(         )
PT(         )
Figure 16. The δ-permutreehedra, for all decorations
δ ∈
· {
,
,
,
}2 ·
.
Algebraic Combinatorics, Vol. 1 #2 (2018)
199

Vincent Pilaud & Viviane Pons
Let pi, pj with i < j denote the endpoints of α, and deﬁne Jα := (i, j) ∩δ−1(
)
and Kα := (i, j) ∖δ−1(
). Observe that
• if p0 and pn+1 are both above α, then Jα ⊆Iα ⊆Kα,
• if p0 is below α while pn+1 is above α, then [1, i] ∪Jα ⊆Iα ⊆[1, i] ∪Kα,
• if p0 is above α while pn+1 is below α, then [j, n] ∪Jα ⊆Iα ⊆[j, n] ∪Kα,
• if p0 and pn+1 are both below α, then [1, i]∪[j, n]∪Jα ⊆Iα ⊆[1, i]∪[j, n]∪Kα.
We conclude that if Iα and Iβ are complementary, then
• either there is i ∈[v] such that Iα = [1, ui−1] ∪X and Iβ = [ui + 1, n] ∪
(ui−1, ui) ∖X for some X ⊆(ui−1, ui) (or the opposite),
• or there is i ∈[v] such that Iα
= X and Iβ
= [n] ∖X for some
∅̸= X ⊊(ui−1, ui) (or the opposite).
The enumerative formula is then immediate.
□
3.3.4. Common vertices. It is combinatorially relevant to characterize which vertices
are common to two nested permutreehedra. For example, note that [1, 2, . . . , n −1, n]
and [n, n−1, . . . , 2, 1] are common vertices of all (n−1)-dimensional permutreehedra.
The other common vertices are characterized in the following statement.
Proposition 3.12. Consider two decorations δ ≼δ′, a δ-permutree T and a δ′-permu-
tree T′. The following assertions are equivalent:
(i) the vertex a(T) of PT(δ) coincides with the vertex a(T′) of PT(δ′),
(ii) the cone C(T) of PT(δ) coincides with the cone C(T′) of PT(δ′),
(iii) the normal cone C⋄(T) of PT(δ) coincides with the normal cone C⋄(T′)
of PT(δ′),
(iv) the ﬁber of T′ under the surjection Ψδ′
δ is the singleton (Ψδ′
δ )−1(T′) = {T},
(v) T and T′ have precisely the same linear extensions,
(vi) T and T′ coincide up to some empty descendant or ancestors,
(vii) for each i ∈[n] with δi ∈{
,
} but δ′
i ∈{
,
} (resp. with δi ∈{
,
}
but δ′
i ∈{
,
}), the vertex i of T is not above (resp. below) an edge of T,
and T′ is obtained from T by adding one empty descendant (resp. ancestor)
subtree at each such vertex i,
(viii) for each i ∈[n] with δi ∈{
,
} but δ′
i ∈{
,
} (resp. with δi ∈{
,
}
but δ′
i ∈{
,
}), the vertex i of T′ has at least one empty descendant
(resp. ancestor), and T is obtained from T′ by deleting one empty descen-
dant (resp. ancestor) subtree at each such vertex i.
Proof. Since PT(δ′) is obtained from PT(δ) by deleting facet inequalities, and PT(δ)
is simple, a vertex a(T) is common to PT(δ) and PT(δ′) if and only if the facets
containing a(T) are common to PT(δ) and PT(δ′). This proves (i) ⇐⇒(ii). The
equivalence (ii) ⇐⇒(iii) is immediate by polarity. The equivalence (iii) ⇐⇒(iv)
follows by Proposition 3.2. The equivalence (iii) ⇐⇒(v) holds since C⋄(T) is the
union of the cones C⋄(τ) over all linear extensions τ of T. The equivalence (ii) ⇐⇒(vi)
holds since C(T) has a facet for each internal edge of T. Finally, the equivalence
(vi) ⇐⇒(vii) ⇐⇒(viii) directly follow from the description of Ψδ′
δ in Section 2.7.
□
In particular, since
n ≼δ for any decoration δ, Proposition 3.12 characterizes
the common points of the permutahedron Perm(n) with any permutreehedron PT(δ).
Call δ-singleton a permutation τ corresponding to such a common vertex, that is, such
that P−1(P(τ)) = {τ}. In the next section, we will need the following consequences
of Proposition 3.12.
Lemma 3.13. Let τ ∈Sn be a δ-singleton and let i, j ∈[n] be such that τ(i) = j. Then
• if δj ∈{
,
}, then either τ([1, i −1]) ⊆[1, j −1] or τ([1, i −1]) ⊆[j + 1, n];
Algebraic Combinatorics, Vol. 1 #2 (2018)
200

Permutrees
• if δj ∈{
,
}, then either τ([i + 1, n]) ⊆[1, j −1] or τ([i + 1, n]) ⊆[j + 1, n].
Proof. Let T be the
n-permutree obtained by insertion of τ. By Proposition 3.12,
if δj ∈{
,
}, then the vertex j of T is not above an edge of T. Equivalently,
all vertices of T below j are either to the left or to the right of j. In other words,
if i = τ −1(j), we have either τ([1, i −1]) ⊆[1, j −1] or τ([1, i −1]) ⊆[j + 1, n]. The
second part of the statement is symmetric.
□
Lemma 3.14. Consider a decoration δ ∈
· {
,
,
,
}n−2 ·
, and denote
by I1, . . . , Ip the blocks of consecutive decorations
in δ. Then a permutation τ and
its opposite ¯τ = τ · [n, . . . , 1] are both δ-singletons if and only if τ = π1 · . . . · πp
or ¯τ = π1 · . . . · πp for some (π1, . . . , πp) ∈SI1 × · · · × SIp.
Proof. Let i, j ∈[n] be such that τ(i) = j and δj ∈{
,
}. Since τ is a δ-singleton,
τ([1, i −1]) is a subset of either [1, j −1] or [j + 1, n] by Lemma 3.13. Since ¯τ is
a δ-singleton and ¯τ(n + 1 −i) = j, τ([i + 1, n]) = ¯τ([1, n −i]) is a subset of either
[1, j −1] or [j + 1, n] by Lemma 3.13. If τ([1, i −1]) and τ([i + 1, n]) are both subsets
of [1, j −1] (resp. of [j + 1, n]), then j = n (resp. j = 1) which contradicts our
assumption that δn =
(resp. that δ1 =
). By symmetry, we conclude that for
all i, j ∈[n] with τ(i) = j and δj ̸=
, we have either τ([1, i −1]) ⊆[1, j −1]
and τ([i + 1, n]) = [j + 1, n], or τ([1, i −1]) ⊆[j + 1, n] and τ([i + 1, n]) = [1, j −1].
The result immediately follows.
□
3.3.5. Isometrees. We now consider isometries of the permutreehedron PT(δ) and
between distinct permutreehedra PT(δ) and PT(δ′). As already observed, PT(δ) is
independent of the ﬁrst and last decorations δ1 and δn. In this section, we assume
without loss of generality that δ1 = δn =
.
For a permutation τ ∈Sn, we denote by ρτ : Rn →Rn the isometry of Rn given by
permutation of coordinates ρτ(x1, . . . , xn) = (xτ(1), . . . , xτ(n)). We write ρi = ρ(i i+1)
for the exchange of the ith and (i + 1)th coordinates. With these notations, we have
the following observation.
Proposition 3.15. If δi = δi+1 =
, then ρi is an isometry of the permutree-
hedron PT(δ). Thus, if I1, . . . , Ip are the blocks of consecutive
in δ, then for
any Π = (π1, . . . , πv) ∈SI1 × · · · × SIp, the map ρΠ := ρπ1 ◦· · · ◦ρπp is an isometry
of the permutreehedron PT(δ).
Proof. Assume that δi = δi+1 =
. Then there are no local condition around ver-
tices i and i + 1 in the deﬁnition of δ-permutrees. Therefore, exchanging the labels i
and i+1 in any δ-permutree T results in a new δ-permutree T′. Moreover, the vertices
associated to T and T′ are related by a(T′) = ρi(a(T)). We conclude that ρi is indeed
an isometry of the permutreehedron PT(δ).
□
Remember now the two symmetrees discussed in Remark 2.5. Denote by T
(resp. T ) the permutree obtained from T by a horizontal (resp. vertical) symmetry,
and denote by δ
(resp. δ ) the decoration obtained from δ by a mirror image (resp. by
interverting
and
decorations), so that δ(T ) = δ(T)
(resp. δ(T ) = δ(T) ).
Finally, we write δ
= (δ )
= (δ ) .
Proposition 3.16. For any permutree T, we have
a(T )i = a(T)n+1−i
and
a(T )i = n + 1 −a(T)i.
Thus, the permutreehedra PT(δ), PT(δ ), PT(δ ), and PT(δ
) are all isometric.
Proof. The formulas follow by case analysis from the deﬁnition of a(T)i.
□
Algebraic Combinatorics, Vol. 1 #2 (2018)
201

Vincent Pilaud & Viviane Pons
We denote by
χ : (x1, . . . , xn) 7→(xn, . . . , x1)
and
θ : (x1, . . . , xn) 7→(n + 1 −x1, . . . , n + 1 −xn)
the two maps of Proposition 3.16. To follow Remark 2.5, we call them isometrees. The
main result of this section claims that the isometries of Propositions 3.15 and 3.16
are essentially the only isometries preserving permutreehedra.
Proposition 3.17. Let δ, δ′ ∈
· {
,
,
,
}n−2 ·
and denote by I1, . . . , Ip
and I′
1, . . . , I′
q the blocks of consecutive decorations
in δ and δ′ respectively. If ρ
is an isometry of Rn which sends the permutreehedron PT(δ) to the permutreehe-
dron PT(δ′), then δ′ ∈{δ, δ , δ , δ
} and ρ−1
Π′ ◦ρ ◦ρ−1
Π
∈{Id, χ, θ, χ ◦θ} for
some Π ∈SI1 × · · · × SIp and Π′ ∈SI′
1 × · · · × SI′q.
Proof. By Proposition 3.12, the δ-singletons correspond to the cones of the permutree
fan F(δ) that are single braid cones. Since the isometry ρ sends the permutreehe-
dron PT(δ) to the permutreehedron PT(δ′), it sends the permutree fan F(δ) to
the permutree fan F(δ′), and thus the δ-singletons to the δ′-singletons. Therefore,
ρ sends any pair (τ, ¯τ) of opposite δ-singletons to a pair (τ ′, ¯τ ′) of opposite δ′-
singletons. Lemma 3.14 ensures that there is Π := (π1, . . . , πp) ∈SI1 × · · · × SIp such
that τ = π1 · . . . · πp or ¯τ = π1 · . . . · πp, and Π′ := (π′
1, . . . , π′
q) ∈SI′
1 × · · · × SI′q such
that τ ′ = π′
1·. . .·π′
q or ¯τ ′ = π′
1·. . .·π′
q. Therefore, the isometry Γ := ρ−1
Π′ ◦ρ◦ρ−1
Π stabilizes
the pair of opposite singletons {[1, . . . , n], [n, . . . , 1]}, and thus the center O := n+1
2 11
of the permutahedron Perm(n). For any subset ∅̸= U ⊆[n] of cardinality u := |U|,
the distance from O to the hyperplane H=(U) is
d
 O, H=(U)

=
n u (n −u)
p
u2 + (n −u)2 .
Observe that the function
x 7−→
x (1 −x)
p
x2 + (1 −x)2
is bijective on

0, 1
2

. It follows that the isometry Γ sends the hyperplane H=(U),
for ∅̸= U ⊆V, to an hyperplane H=(U ′) for some ∅̸= U ′ ⊆[n] with |U ′| = |U|
or |U ′| = n −|U|. Observe moreover that the facets of Perm(n) deﬁned by the hy-
perplanes H=({i}) for i ∈[n] are pairwise non-adjacent, but that the facet deﬁned
by H=({i}) is adjacent to all facets deﬁned by H=(V ∖{j}) for j ∈[n] ∖{i}. There-
fore, the hyperplanes H=({i}) for i ∈[n] are either all sent to the hyperplanes H=({j})
for j ∈[n], or all sent to the hyperplanes H=([n] ∖{j}) for j ∈[n].
Assume ﬁrst that we are in the former situation. Deﬁne a map γ : [n] →[n] such
that the hyperplane H=({i}) is sent by Γ to the hyperplane Γ
 H=({i})

= H=({γ(i)})
for any i ∈[n]. It follows that Γ(ei) = eγ(i). Since Γ is a linear map, it sends the
characteristic vector of any subset ∅̸= U ⊆[n] to the characteristic vector of γ(U).
Thus, the map γ deﬁnes an isomorphism from the δ-building blocks to the δ′-building
blocks. However, up to an horizontal reﬂection, the δ-building blocks determine the
decoration δ. Indeed, we immediately derive from the description of building blocks
in terms of arcs in the point set Pδ that
• δj ∈{
,
} if and only if {j} is a δ-building block,
• δj ∈{
,
} if and only if [n] ∖{j} is a δ-building block, and
• two labels i, j ∈[n] are only separated by
in δ if and only if they belong
to complementary δ-building blocks.
We conclude that Γ ∈{Id, χ} in this ﬁrst situation.
Finally, if we were in the latter situation above, then we just apply a vertical
reﬂection to the decoration δ. By Proposition 3.16, it composes Γ by a symmetry θ
Algebraic Combinatorics, Vol. 1 #2 (2018)
202

Permutrees
and thus places us back in the situation treated above. We conclude that Γ ∈{θ, χ◦θ}
in this second situation.
□
Corollary 3.18. Consider a decoration δ
∈
· {
,
,
,
}n−2 ·
, and
let n1, . . . , np denote the sizes of the blocks of consecutive
in δ. Then the
isometry group of the permutreehedron PT(δ) has cardinality
n1! · · · np! (1 + 11δ=δ
−11δ=
n) (1 + 11δ∈{δ ,δ
}).
We ﬁnally consider the number x(n) of isometry classes of n-dimensional per-
mutreehedra. We have x(0) = 1 (a point), x(1) = 1 (a segment), x(2) = 3 (an
hexagon, a pentagon, a quadrilateral), and Figure 16 shows that x(3) = 7. In general,
x(n) is given by the following statement.
Corollary 3.19. The number x(n) of isometry classes of n-dimensional permutree-
hedra is the number of orbits of decorations δ ∈
· {
,
,
,
}n−1 ·
under the
symmetrees δ 7→δ
and δ 7→δ . It is given by the formula
x(n) = 2n−4 2n + (−1)n + 7

for n ⩾1. Its generating function is given by
X
n∈N
x(n)tn = 1 −3t −5t2 + 7t3
1 −4t −4t2 + 16t3 .
See [23, A225826].
Proof. The ﬁrst sentence is a direct consequence of Proposition 3.17. For the second
part, note that x(n) = 2n−4 2n + (−1)n + 7

satisﬁes the recursive formulas:
(⋆)
x(2k) = 4 · x(2k −1) −4k−1
and
x(2k + 1) = 16 · x(2k −1) −9 · 4k−1,
for k ⩾1 with initial values x(0) = x(1) = 1. There is left to prove that the number
of orbits satisﬁes these recurrences as well. Let Xn be the set of orbits of decora-
tions δ ∈
· {
,
,
,
}n−1 ·
(of size n + 1 such that the corresponding per-
mutreehedron is of dimension n) under the symmetrees δ 7→δ
and δ 7→δ . We write
Xn = An ⊔Bn ⊔Cn ⊔Dn ⊔En as a disjoint union of 5 subsets according to the
symetrees of the orbit:
• An contains the orbits {δ} where δ = δ
= δ
= δ
(like
),
• Bn contains the orbits {δ, δ } where δ = δ
̸= δ
= δ
(like
),
• Cn contains the orbits {δ, δ } where δ = δ
̸= δ
= δ
(like
),
• Dn contains the orbits {δ, δ
= δ } where δ = δ
̸= δ
= δ
(like
),
• En contains the orbits {δ, δ , δ , δ
}, where all symmetrees of δ are distinct
(like
).
We write the corresponding numbers with lower case letters such that
x(n) = a(n) + b(n) + c(n) + d(n) + e(n).
Now we can obtain recursive formulas for these number by a simple case by case
combinatorial generation: orbits of decorations of odd sizes 2k+1 (even dimension 2k)
are obtained by adding a letter of {
,
,
,
} in the middle of a decoration of size
2k and orbits of decorations of even sizes 2k+2 (odd dimension 2k+1) are obtained by
adding a word of {
,
,
,
}2 in the middle of a decoration of size 2k. Depending
on the symmetree subset of the original decoration of size 2k, this process will have
Algebraic Combinatorics, Vol. 1 #2 (2018)
203

Vincent Pilaud & Viviane Pons
redundancies (adding two diﬀerent letters can lead to one single orbit) and will lead
to the following recursive formulas:
a(2k) = 2 · a(2k −1)
a(2k + 1) = 2 · a(2k −1)
b(2k) = 2 · b(2k −1)
b(2k + 1) = 4 · b(2k −1) + a(2k −1)
c(2k) = a(2k −1) + 4 · c(2k −1)
c(2k + 1) = 4 · c(2k −1) + a(2k −1)
d(2k) = 2 · d(2k −1)
d(2k + 1) = 4 · d(2k −1) + a(2k −1)
e(2k) = b(2k −1) + d(2k −1)
e(2k + 1) = 2 · a(2k −1) + 6 · b(2k −1)
+ 4 · e(2k −1)
+6 · c(2k −1) + 6 · d(2k −1) + 16 · e(2k −1)
for k ⩾1 with initial values a(1) = 1 and b(1) = c(1) = d(1) = e(1) = 0. In particular,
we obtain
a(2k + 1) = 2k
and
b(2k + 1) = c(2k + 1) = d(2k + 1) = 2 · 4k−1 −2k−1.
By a basic computation, one checks that the number x(n) of orbits in Xn satisﬁes (⋆).
For completeness, note that x(n) can be expressed as
x(n) = 4 · x(n −1) + 4 · x(n −2) −16 · x(n −3)
for n ⩾4 with initial values x(0) = 1, x(1) = 1, x(2) = 3 and x(3) = 7. Therefore, its
generating function is given by
X
n∈N
x(n)tn = 1 −3t −5t2 + 7t3
1 −4t −4t2 + 16t3 .
□
3.3.6. Permutrees versus signed tree associahedra. To conclude this section on per-
mutreehedra, we want to mention that these polytopes were already constructed very
implicitly. Indeed, any permutreehdron is a product of certain faces of the signed
tree associahedra studied in [25]. More speciﬁcally, for any decoration in {
,
}n,
the permutreehedron is a graph associahedron as constructed in [2, 26, 38]. We be-
lieve however that the present construction is much more explicit and reﬂects rele-
vant properties of these polytopes, which are not necessarily apparent in the general
construction of [25] (in particular the combinatorial and algebraic properties of the
permutrees which do not hold in general for arbitrary signed tree associahedra).
4. The permutree Hopf algebra
This section is devoted to algebraic aspects of permutrees. More precisely, using the
same idea as G. Chatel and V. Pilaud in [4] we construct a Hopf algebra on per-
mutrees as a subalgebra of a decorated version of C. Malvenuto and C. Reutenauer’s
algebra. In turn, our algebra contains subalgebras isomorphic to C. Malevenuto and
C. Reutenauer’s Hopf algebra on permutations [18], J.-L. Loday and M. Ronco’s
Hopf algebra on binary trees [17], G. Chatel and V. Pilaud Hopf algebra on Cam-
brian trees [4], and I. Gelfand, D. Krob, A. Lascoux, B. Leclerc, V. S. Retakh, and
J.-Y. Thibon’s algebra on binary sequences [7]. In other words, we obtain an alge-
braic structure in which it is natural to multiply permutations with binary trees, or
Cambrian trees with binary sequences. To keep our paper short, we omit the proofs
of most statements as they are straightforward and similar to that of [4, Section 1.2].
4.1. The Hopf algebra on (decorated) permutations. We brieﬂy recall here
the deﬁnition and some elementary properties of a decorated version of C. Malvenuto
and C. Reutenauer’s Hopf algebra on permutations [18]. For n, n′ ∈N, let
S(n,n′) := {τ ∈Sn+n′ | τ1 < · · · < τn and τn+1 < · · · < τn+n′}
Algebraic Combinatorics, Vol. 1 #2 (2018)
204

Permutrees
denote the set of permutations of Sn+n′ with at most one descent, at position n. The
shifted concatenation τ ¯τ ′, the shifted shuﬄe τ ¯ τ ′, and the convolution τ ⋆τ ′ of two
permutations τ ∈Sn and τ ′ ∈Sn′ are classically deﬁned by
τ ¯τ ′ := [τ1, . . . , τn, τ ′
1 + n, . . . , τ ′
n′ + n] ∈Sn+n′,
τ ¯ τ ′ :=

(τ ¯τ ′) ◦π−1 | π ∈S(n,n′)	
and
τ ⋆τ ′ :=

π ◦(τ ¯τ ′) | π ∈S(n,n′)	
.
For example,
12 ¯ 231 = {12453, 14253, 14523, 14532, 41253, 41523, 41532, 45123, 45132, 45312},
12 ⋆231 = {12453, 13452, 14352, 15342, 23451, 24351, 25341, 34251, 35241, 45231}.
We also use the notation τ\τ ′ = τ ¯τ ′ and τ/τ ′ = ¯τ ′τ.
As shown by J.-C. Novelli and J.-Y. Thibon in [22], these deﬁnitions extend to
decorated permutations as follows. The decorated shifted shuﬄe τ ¯ τ ′ is deﬁned as
the shifted shuﬄe of the permutations where decorations travel with their values, while
the decorated convolution τ ⋆τ ′ is deﬁned as the convolution of the permutations where
decorations stay at their positions. For example,
12 ¯ 231 = {12453, 14253, 14523, 14532, 41253, 41523, 41532, 45123, 45132, 45312},
12 ⋆231 = {12453, 13452, 14352, 15342, 23451, 24351, 25341, 34251, 35241, 45231}.
Using these operations, we can deﬁne a decorated version of C. Malvenuto and
C. Reutenauer’s Hopf algebra on permutations [18].
Definition 4.1. Let FQSym{
,
,
,
} be the Hopf algebra with basis (Fτ)τ∈S{
,
,
,
}
and whose product and coproduct are deﬁned by
Fτ · Fτ ′ =
X
σ∈τ ¯ τ ′
Fσ
and
△Fσ =
X
σ∈τ⋆τ ′
Fτ ⊗Fτ ′.
We now recall well-known properties of C. Malvenuto and C. Reutenauer’s Hopf al-
gebra on permutations which easily translate to similar properties of FQSym{
,
,
,
}.
Proposition 4.2. A product of weak order intervals in FQSym{
,
,
,
} is a weak
order interval: for any two weak order intervals [µ, ω] ⊆Sδ and [µ′, ω′] ⊆Sδ′, we
have

X
µ⩽τ⩽ω
Fτ

·

X
µ′⩽τ ′⩽ω′
Fτ ′

=
X
µ\µ′⩽σ⩽ω/ω′
Fσ,
where ⩽denotes the weak order on Sδδ′.
Corollary 4.3. For τ ∈Sδ, deﬁne
Eτ =
X
τ⩽τ ′
Fτ ′
and
Hτ =
X
τ ′⩽τ
Fτ ′
where ⩽is the weak order on Sδ. Then (Eτ)τ∈S and (Hτ)τ∈S are multiplicative bases
of FQSym:
Eτ · Eτ ′ = Eτ\τ ′
and
Hτ · Hτ ′ = Hτ/τ ′.
A permutation τ ∈Sδ is E-decomposable (resp. H-decomposable) if and only if there
exists k ∈[n −1] such that τ([k]) = [k] (resp. such that τ([k]) = [n] ∖[k]). More-
over, FQSym{
,
,
,
} is freely generated by the elements Eτ (resp. Hτ) for all E-
indecomposable (resp. H-indecomposable) decorated permutations τ.
We will also consider the dual Hopf algebra of FQSym{
,
,
,
}, deﬁned as follows.
Algebraic Combinatorics, Vol. 1 #2 (2018)
205

Vincent Pilaud & Viviane Pons
Definition 4.4. Let FQSym∗
{
,
,
,
} be the Hopf algebra with basis (Gτ)τ∈S{
,
,
,
}
and whose product and coproduct are deﬁned by
Gτ · Gτ ′ =
X
σ∈τ⋆τ ′
Gσ
and
△Gσ =
X
σ∈τ ¯ τ ′
Gτ ⊗Gτ ′.
4.2. Subalgebra. We now construct a subalgebra of FQSym{
,
,
,
} whose basis
is indexed by permutrees. Namely, let PT be the vector subspace of FQSym{
,
,
,
}
generated by the elements
PT :=
X
τ∈S{
,
,
,
}
P(τ)=T
Fτ =
X
τ∈L(T)
Fτ,
for all permutrees T. For example, for the permutree of Figure 2 (left), we have
P
= F2135476+F2135746+F2137546+· · ·+F7523146+F7523416+F7523461 (90 terms).
The following statement is similar to [4, Theorem 24], which was inspired from sim-
ilar arguments for Hopf algebras arising from lattice quotients of the weak order [29]
and from rewriting rules in monoids [27].
Theorem 4.5. PT is a Hopf subalgebra of FQSym{
,
,
,
}.
Once we have observed this property, it is interesting to describe the product and
coproduct in the Hopf algebra PT directly in terms of permutrees. We brieﬂy do it in
the next two statements.
Product For any permutrees T, T′, denote by T\T′ (resp. by T/T′) the permutree
obtained by grafting the rightmost outgoing (resp. incoming) edge of T to the leftmost
incoming (resp. outgoing) edge of T′ while shifting all labels of T′. An example is given
in Figure 17 (left).
Proposition 4.6. For any permutrees T, T′, the product PT · PT′ is given by
PT · PT′ =
X
S
PS,
where S runs over the interval between T\T′ and T/T′ in the δ(T)δ(T′)-permutree
lattice.
7
6
4
4
2
1
3
5
7
6
4
4
2
1
3
5
2
1
3
4
3
1
1
2
1
3
2
2
2
1
1
1
Figure 17. Grafting two permutrees (left) and cutting a permutree
(right).
Coproduct Deﬁne a cut of a permutree S to be a set γ of edges such that any geo-
desic vertical path in S from a down leaf to an up leaf contains precisely one edge of γ.
Algebraic Combinatorics, Vol. 1 #2 (2018)
206

Permutrees
Such a cut separates the permutree S into two forests, one above γ and one below γ,
denoted A(S, γ) and B(S, γ), respectively. An example is given in Figure 17 (right).
Proposition 4.7. For any permutree S, the coproduct △PS is given by
△PS =
X
γ

Y
T∈B(S,γ)
PT

⊗

Y
T′∈A(S,γ)
PT′

,
where γ runs over all cuts of S and the products are computed from left to right.
Example 4.8. Following Example 2.4, let us underline relevant subalgebras of the
permutree algebra PT. Namely, for any collection ∆of decorations in {
,
,
,
}∗
stable by shuﬄe, the linear subspace of PT generated by the elements Pδ for δ ∈∆
forms a subalgebra PT∆of PT. In particular, PT contains the subalgebras:
(i) PT{
}∗is C. Malvenuto and C. Reutenauer’s Hopf algebra on permuta-
tions [18],
(ii) PT{
}∗is J.-L. Loday and M. Ronco’s Hopf algebra of on binary trees [17],
(iii) PT{
,
}∗is G. Chatel and V. Pilaud’s Hopf algebra on Cambrian trees [4],
(iv) PT{
}∗is I. Gelfand, D. Krob, A. Lascoux, B. Leclerc, V. S. Retakh, and
J.-Y. Thibon’s algebra on binary sequences [7],
as well as all algebras PTD∗for any subset D of the decorations {
,
,
,
}. The
dimensions of these algebras are given by the number of permutrees with decorations
in D∗, gathered in Table 2. Interestingly, the rules for the product and the coproduct
in the permutree algebra PT provide uniform product and coproduct rules for all
these Hopf algebras.
4.3. Quotient algebra. The next result is automatic by duality from Theorem 4.5.
Theorem 4.9. The graded dual PT∗of the permutree algebra PT is the quotient
of FQSym∗
{
,
,
,
} under the permutree congruence ≡. The dual basis QT of PT
is expressed as QT = π(Gτ), where π is the quotient map and τ is any linear exten-
sion of T.
Similarly as in the previous section, we can describe combinatorially the product
and coproduct of Q-basis elements of PT∗in terms of operations on permutrees.
Product Call gaps the n + 1 positions between two consecutive integers of [n],
including the position before 1 and the position after n. A gap γ deﬁnes a geodesic
vertical path λ(T, γ) in a permutree T from the bottom leaf which lies in the same
interval of consecutive down labels as γ to the top leaf which lies in the same interval
of consecutive up labels as γ. See Figure 19. A multiset Γ of gaps therefore deﬁnes
a lamination λ(T, Γ) of T, i.e. a multiset of pairwise non-crossing geodesic vertical
paths in T from down leaves to up leaves. When cut along the paths of a lamination,
the permutree T splits into a forest.
Consider two Cambrian trees T and T′ on [n] and [n′] respectively. For any shuﬄe s
of their decorations δ and δ′, consider the multiset Γ of gaps of [n] given by the
positions of the down labels of δ′ in s and the multiset Γ′ of gaps of [n′] given by the
positions of the up labels of δ in s. We denote by T s\T′ the Cambrian tree obtained
by connecting the up leaves of the forest deﬁned by the lamination λ(T, Γ) to the
down leaves of the forest deﬁned by the lamination λ(T′, Γ′).
Algebraic Combinatorics, Vol. 1 #2 (2018)
207

Vincent Pilaud & Viviane Pons
5
4
3
2
3
2
1
3
2
1
s =
T  =
T  =
= T s\T  
(e)
(d)
(c)
(b)
(a)
5
4
3
2
1
8
6
5
2
7
4
3
1
1
Figure 18. (a) The two initial permutrees T⃝and T□. (b) Given
the shuﬄe s =
, the positions of the
and
are
reported in T⃝and the positions of the
and
are reported in T□.
(c) The corresponding laminations. (d) The permutrees are split ac-
cording to the laminations. (e) The resulting permutree T⃝s\T□.
Example 4.10. Consider the permutrees T⃝and T□of Figure 18. To distinguish dec-
orations in T⃝and T□, we circle the symbols in δ(T⃝) =
and square the sym-
bols in δ(T□) =
. Consider now an arbitrary shuﬄe s =
of these two decorations. The resulting laminations of T⃝and T□, as well as the
permutree T⃝s\T□are represented in Figure 18.
Proposition 4.11. For any permutrees T, T′, the product QT · QT′ is given by
QT · QT′ =
X
s
QT s\T′,
where s runs over all shuﬄes of the decorations of T and T′.
Coproduct
For a gap γ, we denote by L(S, γ) and R(S, γ) the left and right
subpermutrees of S when split along the path λ(S, γ). An example is given in Figure 19.
7
6
4
4
2
1
3
5
7
6
4
4
2
1
3
5
4
3
1
1
2
1
3
2
Figure 19. A gap γ between 3 and 4 (left) deﬁnes a vertical cut
(middle) which splits the permutree vertically (right).
Proposition 4.12. For any permutree S, the coproduct △QS is given by
△QS =
X
γ
QL(S,γ) ⊗QR(S,γ),
where γ runs over all gaps between vertices of S.
Algebraic Combinatorics, Vol. 1 #2 (2018)
208

Permutrees
4.4. Further algebraic topics. To conclude this section, we explore some more
advanced properties of the permutree algebra.
4.4.1. Multiplicative bases and indecomposable elements. For a permutree T, deﬁne
ET :=
X
T⩽T′
PT′
and
HT :=
X
T′⩽T
PT′.
The next statement follows from Corollary 4.3 and Proposition 4.6.
Proposition 4.13. (ET)T∈PT and (HT)T∈PT are multiplicative bases of PT :
ET · ET′ = ET\T′
and
HT · HT′ = HT/T′.
We now consider decomposition properties of permutrees. Since the E- and H-bases
have similar properties, we focus on the E-basis and invite the reader to translate the
following properties to the H-basis.
Proposition 4.14. The following properties are equivalent for a permutree S:
(i) ES = ET · ET′ for non-empty permutrees T, T′;
(ii) ([k] ∥[n] ∖[k]) is an edge cut of S for some k ∈[n −1];
(iii) at least one linear extension τ of S is decomposable, meaning that τ([k]) = [k]
for some k ∈[n].
We say that S is E-decomposable and that the edge cut ([k] ∥[n] ∖[k]) is splitting.
We are interested in E-indecomposable elements. We ﬁrst understand the behavior
of decomposability under rotations.
Lemma 4.15. Let T be a δ-permutree, let i →j be an edge of T with i < j, and let T′
be the δ-permutree obtained by rotating i →j in T. Then
(i) if T is E-indecomposable, then so is T′;
(ii) if T is E-decomposable while T′ is not, then δi ̸=
or i = 1, and δj ̸=
or j = n.
Proof. Denote by L and L (resp. R and R) the index sets of the left (resp. right)
ancestor and descendant subtrees of i (resp. of j) in T and T′ (using ∅if there
is no such subtree), and let U and D denote the ancestor and descendant sub-
trees as in Figure 9. The main observation is that the two permutrees T and T′
have the same cuts except the cut corresponding to the edge between i and j. More
precisely, the cut C :=
 {i} ∪L ∪L ∪D
 {j} ∪R ∪R ∪U

in T is replaced by the
cut C′ :=
 {j} ∪R ∪R ∪D
 {i} ∪L ∪L ∪U

in T′. Since i < j, the cut C′ cannot be
splitting, so that T′ is automatically E-indecomposable when T is E-indecomposable.
Assume now that T is E-decomposable while T′ is not and that δi =
. Then the
cut C is splitting so that {i} ∪L ∪D ≪{j} ∪R ∪R ∪U (where X ≪Y means
that x < y for all x ∈X and y ∈Y ). But L ≪{i} ≪D since δi =
. There-
fore L ≪{i, j}∪R∪R∪D∪U. Since T′ is E-indecomposable, this implies that L = ∅
since otherwise the cut
 L
 {i, j} ∪R ∪R ∪D ∪U

of T′ would be splitting. There-
fore, i = 1. We prove similarly that δj =
implies j = n.
□
Corollary 4.16. The set of E-indecomposable δ-permutrees is an upper ideal of the
δ-permutree lattice.
Remark 4.17.
Note that contrarily to the Cambrian algebra, this ideal is not
primitive in general. For example, the ideal of δ-permutrees for the decora-
tion δ =
illustrated in Figure 2 is generated by the 4 permutrees
illustrated in Figure 20.
Algebraic Combinatorics, Vol. 1 #2 (2018)
209

Vincent Pilaud & Viviane Pons
7
6
4
4
2
1
3
5
7
6
4
4
5
2
1
3
4
4
2
1
3
7
6
5
7
6
4
4
2
1
3
5
Figure
20. The
four
generators
of
the
upper
ideal
of
E-
indecomposable δ-permutrees for the decoration δ =
.
4.4.2. Dendriform structures. Dendriform algebras were introduced by J.-L. Loday
in [15, Chap. 5]. In a dendriform algebra, the product · is decomposed into two partial
products · = ≺+ ≻satisfying:
x ≺
 y · z

=
 x ≺y

≺z,
x ≻
 y ≺z

=
 x ≻y

≺z,
x ≻
 y ≻z

=
 x · y

≻z.
The shuﬄe product on permutations can be decomposed into ¯ = ≺+ ≻where
for τ = στn and τ ′ = σ′τ ′
n′ we have
τ ≺τ ′ := (σ ¯ τ ′)τn
and
τ ≻τ ′ := (τ ¯ σ′)¯τ ′
n′.
This endows C. Malvenuto and C. Reutenauer’s algebra on permutations with a den-
driform algebra structure deﬁned on the F-basis by
Fτ ≺Fτ ′ =
X
σ∈τ≺τ ′
Fσ
and
Fτ ≻Fτ ′ =
X
σ∈τ≻τ ′
Fσ.
It turns out that some subalgebras of the permutree algebra are stable under these
dendriform operations ≺and ≻.
Proposition 4.18. For any subset ∆of {
,
}∗stable by shuﬄe, the subalgebra
of the permutree algebra PT generated by {PT | T ∈PT (δ), δ ∈∆} is stable by the
dendriform operations ≺and ≻.
Proof. Let δ ∈{
,
}n and δ′ ∈{
,
}n′, let T ∈PT (δ) and T′ ∈PT (δ′), and
let τ = στn ∈Sδ and τ ′ = σ′τ ′
n′ ∈Sδ′ be such that T = P(τ) and T′ = P(τ ′). Then
PT ≺PT′ =
X
P(σ¯τ ′τn)⩽S⩽T/T′
PS
and
PT ≻PT′ =
X
T\T′⩽S⩽P(¯σ′τ ¯τ ′
n′)
PS.
Indeed, PT ≺PT′ is the sum of Fσ for τ ¯τ ′ ⩽σ ⩽¯τ ′τ such that σn+n′ = τn. These per-
mutations are exactly all linear extensions of the trees S such that T\T′ ⩽S ⩽T/T′
whose root is τn. Therefore, PT ≺PT′ is the sum of PS for all these trees. Similarly,
PT ≻PT′ is the sum of PS for the trees S such that T\T′ ⩽S ⩽T/T′ whose root
is ¯τ ′
n′.
□
Remark 4.19. Note that the assumption that ∆⊂{
,
}∗in Proposition 4.18 is
necessary. For example, we have
P
≺P
= (F213 + F231) ≺(F132 + F312)
contains F234651 but not F234615 although P(234651) = P(234615).
Algebraic Combinatorics, Vol. 1 #2 (2018)
210

Permutrees
4.4.3. Integer point transform. We now show that the product of two permutrees
can be interpreted in terms of their integer point transforms. This leads to relevant
equalities for permutrees with decorations in {
,
}.
Definition 4.20. The integer point transform ZS of a subset S of Rn is the multi-
variate generating function of the integer points inside S:
ZS(t1, . . . , tn) =
X
(i1,...,in)∈Zn∩S
ti1
1 · · · tin
n .
For a permutree T, we denote by ZT the integer point transform of the cone
C♦(T) :=

x ∈Rn
+

xi ⩽xj for any edge i →j of T with i < j
xi < xj for any edge i →j of T with i > j

.
Note that this cone diﬀers from the cone C⋄(T) deﬁned in Section 3.1 in two ways:
ﬁrst it leaves in Rn
+ and not in H, second it excludes the facets of C⋄(T) corresponding
to the decreasing edges of T (i.e. the edges i →j with i > j). We denote by Zτ the
integer point transform of the chain τ1 →· · · →τn for a permutation τ ∈Sn. The
following statements are classical.
Proposition 4.21.
(i) For any permutation τ ∈Sn, the integer point trans-
form Zτ is given by
Zτ(t1, . . . , tn) =
 Y
i∈[n]
 1 −tτi · · · tτn
−1

Y
i∈[n−1]
τi>τi+1
tτi+1 · · · tτn

.
(ii) The integer point transform of a permutree T is given by ZT = P
τ∈L(T) Zτ,
where the sum runs over the set L(T) of linear extensions of T.
(iii) The product of the integer point transforms Zτ and Zτ ′ of two permuta-
tions τ ∈Sn and τ ′ ∈Sn′ is given by the shifted shuﬄe
Zτ(t1, . . . , tn) · Zτ ′(tn+1, . . . , tn+n′) =
X
σ∈τ ¯ τ ′
Zσ(t1, . . . , tn+n′).
In other words, the linear map from FQSym to the rational functions deﬁned
by Ψ: Fτ 7→Zτ is an algebra morphism.
Proof. For Point ((i)), observe that the cone

x ∈Rn
+
 xτi ⩽xτi+1 for all i ∈[n −1]
	
is generated by the vectors eτi + · · · + eτn, for i ∈[n], which form a (unimodular)
basis of the lattice Zn. A straightforward inductive argument shows that the integer
point transform of the cone

x ∈Rn
+
 xτi ⩽xτi+1 for all i ∈[n −1]
	
is thus given
by Q
i∈[n]
 1 −tτi · · · tτn
−1. The second product of Zτ is then given by the facets
which are excluded from the cone C♦(τ).
Point ((ii)) follows from the fact that the cone C♦(T) is partitioned by the
cones C♦(τ) for the linear extensions τ of T.
Finally, the product Zτ(t1, . . . , tn) · Zτ ′(tn+1, . . . , tn+n′) is the integer point trans-
form of the poset formed by the two disjoint chains τ and ¯τ ′, whose linear extensions
are precisely the permutations which appear in the shifted shuﬄe of τ and τ ′. This
shows Point ((iii)).
□
It follows from Proposition 4.21 that the product of the integer point transforms
of two permutrees behaves as the product in the permutree algebra PT.
Corollary 4.22. For any two permutrees T ∈PT (n) and T′ ∈PT (n′), we have
ZT(t1, . . . , tn) · ZT′(tn+1, . . . , tn+n′) =
X
T\T′ ⩽S ⩽T/T′
ZS(t1, . . . , tn+n′).
Algebraic Combinatorics, Vol. 1 #2 (2018)
211

Vincent Pilaud & Viviane Pons
Proof. Omitting the variables (t1, . . . , tn+n′) for concision, we have
ZT · ZT′ = Ψ(PT) · Ψ(PT′) = Ψ(PT · PT′) = Ψ
 X
S
PS

=
X
S
Ψ(PS) =
X
S
ZS,
where the sums run over the increasing ﬂip interval [T\T′, T/T′].
□
Finally, we specialize this result to permutrees with decorations in {
,
}∗. The
main observation is the following.
Proposition 4.23. The integer point transform of any permutree T with decoration
in {
,
}∗is given by
ZT(t1, . . . , tn) =

Y
(I ∥J)∈EC(T)
 1 −
Y
j∈J
tj
−1

Y
(I ∥J)∈DEC(T)
Y
j∈J
tj

,
where EC(T) denotes the set of all edge cuts of T (including (∅∥[n])) and DEC(T)
denotes the decreasing edge cuts of T, i.e. those of edges i →j with i > j.
Proof. Consider the cone C deﬁned by the inequalities 0 ⩽xi for all i ∈[n]
and xi ⩽xj for all edges i →j in T. As the decoration of T is in {
,
}∗, the
tree T is naturally rooted at its bottommost vertex r. Since there is a path from r
to any other vertex v, the inequalities 0 ⩽xr and xi ⩽xj for all edges i →j in T
already imply all other inequalities 0 ⩽xi for i ∈[n] ∖{r}. We therefore obtain that
the cone C is deﬁned by n inequalities and thus is simplicial. Moreover, we easily
check that the rays of C are given by the characteristic vectors P
j∈J ej for all edge
cuts (I ∥J) ∈EC(T), including the vector 11 for the artiﬁcial edge cut (∅∥[n]).
We obtain that the integer point transform of C is Q
(I ∥J)∈EC(T)
 1 −Q
j∈J tj
−1.
Finally, the second product of ZT is given by the facets which are excluded from C
to obtain C♦(T).
□
Corollary 4.24. For any permutrees T ∈PT (n) and T′ ∈PT (n′) with decorations
in {
,
}∗, we have
Q
(I ∥J)∈DEC(T)
Q
j∈J
tj
Q
(I ∥J)∈EC(T)
 1 −Q
j∈J
tj
 ·
Q
(I ∥J)∈DEC(T′)
Q
j∈J
tn+j
Q
(I ∥J)∈EC(T′)
 1 −Q
j∈J
tn+j
 =
X
S
Q
(I ∥J)∈DEC(S)
Q
j∈J
tj
Q
(I ∥J)∈EC(S)
 1 −Q
j∈J
tj
,
where S ranges over the permutree lattice interval [T\T′, T/T′].
Example 4.25. For example, we have the following equality of rational functions:
Z
· Z
= (1 −x1)−1x1(1 −x3)−1(1 −x1x2x3)−1 · (1 −x4)−1
=
(1 −x1)−1x1(1 −x3x4)−1(1 −x4)−1(1 −x1x2x3x4)−1
+ (1 −x1)−1x1(1 −x3x4)−1(1 −x3)−1x3(1 −x1x2x3x4)−1
+ (1 −x1x2x3)−1x1x2x3(1 −x1)−1x1(1 −x3)−1(1 −x1x2x3x4)−1
= Z
+ Z
+ Z
.
Remark 4.26. The simple product formula for the integer point transform ZT does
not hold for an arbitrary permutree T. Indeed, the cone C♦(T) is not always simpli-
cial. For example, C♦(
) is generated by the vectors [0, 1, 0], [0, 1, 1], [1, 1, 0], [1, 1, 1],
where the ﬁrst is not the characteristic vector P
j∈J ej for an edge cut (I ∥J) of
.
Algebraic Combinatorics, Vol. 1 #2 (2018)
212

Permutrees
5. Schröder permutrees
This section is devoted to Schröder permutrees which correspond to the faces of the
permutreehedra. It is largely inspired from the presentation of [4, Part 3].
5.1. Schröder permutrees. We now focus on the following family of trees.
Definition 5.1. For δ ∈{
,
,
,
}n and X ⊆[n], let
X∨:= {x ∈X | δx ∈{
,
}}
and
X∧:= {x ∈X | δx ∈{
,
}} .
A Schröder δ-permutree is a directed tree S with vertex set V endowed with a vertex
labeling p : V →2[n] ∖∅such that
(i) the labels of S partition [n], i.e. v ̸= w ⇒p(v)∩p(w) = ∅and S
v∈V p(v) = [n];
(ii) each vertex v ∈V has one incoming (resp. outgoing) subtree Sv
I (resp. SI
v)
for each interval I of [n] ∖p(v)∧(resp. of [n] ∖p(v)∨) and all labels of Sv
I
(resp. of SI
v) are subsets of I.
For δ ∈{
,
,
,
}n, we denote by SchrPT(δ) the set of Schröder δ-permutrees,
and we let SchrPT(n) := F
δ∈{
,
,
,
}n SchrPT(δ) and SchrPT := F
n∈N SchrPT(n).
Definition 5.2. A k-leveled Schröder δ-permutree is a directed tree with vertex set V
endowed with two labelings p : V →2[n]∖∅and q : V →[k] which respectively deﬁne a
Schröder δ-permutree and an increasing tree (meaning that q is surjective and v →w
in S implies that q(v) < q(w)).
Figure 21 illustrates a Schröder permutree and a 3-leveled Schröder permutree.
For example, for the node v labelled by p(v) = {4, 6}, we have p(v)∧= {4, 6} so
that [7]∖p(v)∧= {1, 2, 3}⊔{5}⊔{7} and v has 3 incoming subtrees and p(v)∨= {4}
so that [7]∖p(v)∨= {1, 2, 3}⊔{5, 6, 7} and v has 2 outgoing subtrees. Note that each
level of a k-leveled Schröder permutree may contain more than one node.
1
2
3
7
6
4
4
2
1
3
5
1
2
3
7
6
4
4
2
1
3
5
Figure 21. A Schröder permutree (left), an increasing tree (mid-
dle), and a 3-leveled Schröder permutree (right).
Example 5.3. Following Example 2.4, observe that Schröder δ-permutrees specialize
to classical families of combinatorial objects:
(i) Schröder
n-permutrees are in bijection with ordered partitions of [n],
i.e. with sequences λ := λ1|λ2| . . . |λk−1|λk
where λi
⊆
[n] are such
that S
i∈[k] λi = [n] and λi ∩λj = ∅for i ̸= j.
(ii) Schröder
n-permutrees are precisely Schröder trees, i.e. planar rooted trees
where each node has at least two children.
(iii) Schröder δ-permutrees for δ ∈{
,
} are Schröder Cambrian trees [4, Section
3.1].
(iv) Schröder
n-permutrees correspond to ternary sequences of length n −1.
Figure 22 illustrates these families represented as Schröder permutrees. In this section,
we provide a uniform treatment of these families.
Algebraic Combinatorics, Vol. 1 #2 (2018)
213

Vincent Pilaud & Viviane Pons
1
2
3
7
6
4
2
1
3
5
1
2
3
7
6
4
2
1
3
5
1
2
3
7
6
4
2
1
3
5
1
2
3
7
6
4
2
1
3
5
7
6
4
2
1
3
5
Figure 22. Leveled Schröder permutrees corresponding to an or-
dered partition (left), a leveled Schröder tree (middle left), a lev-
eled Schröder Cambrian tree (middle right), and a leveled ternary
sequence (right).
Remark 5.4. Similar to Remark 2.7, Schröder δ-permutrees are dual trees of dissec-
tions of Pδ, that is, non-crossing sets of arcs in Pδ (as deﬁned in Remark 2.7). See
Figure 23 for an illustration. Note that contracting an edge in a Schröder permutree
corresponds to deleting an arc in its dual dissection.
7
6
5
4
4
3
2
1
8
0
7
6
5
4
4
3
2
1
8
0
7
6
4
2
1
3
5
Figure 23. Schröder permutrees (left) and dissections (right) are
dual to each other.
We will need the following statement in the next section.
Lemma 5.5. Schröder δ-permutrees are stable by edge contraction.
Proof. Let e = v →w be an edge in a Schröder δ-permutree S, and let S/e be
the tree obtained by contraction of e, where the contracted vertex vw gets the la-
bel p(vw) = p(v) ∪p(w). Condition (i) of Deﬁnition 5.1 is clearly satisﬁed. For Condi-
tion (ii), let I1, . . . , Ip be the intervals of [n]∖p(w)∧, where Ii is the interval which con-
tains p(v), and let J1, . . . , Jq be the intervals of [n]∖p(v)∧. Observe that for all j ∈[q],
all labels of Sv
Jj are all included in Ii (because Sv
Jj belongs to Sw
Ii) and in Jj. Therefore,
the descendant subtrees Sw
I1, . . . , Sw
Ii−1, Sv
J1, . . . , Sv
Jq, Sw
Ii+1, . . . , Sw
Ip of vw in S/e indeed
belong to the intervals I1, . . . , Ii−1, Ii ∩J1, . . . , Ii ∩Jq, Ii+1, . . . , Ip of [n] ∖p(vw). The
proof is similar for ancestor subtrees of vw in S/e. The other vertices of S/e have not
changed locally.
□
Let S, S′ be two Schröder δ-permutrees. We say that S reﬁnes S′ if S′ can be
obtained from S by contraction of some edges.
5.2. Faces. Consider a Schröder permutree S. For i, j ∈[n], we write i →j if there
are vertices v, w of S such that i ∈p(v), j ∈p(w) and v = w or v →w is an edge
in S. We say that (I ∥J) is an edge cut of S if I (resp. J) is the union of all labels of
Algebraic Combinatorics, Vol. 1 #2 (2018)
214

Permutrees
the vertices in the source (resp. sink) set of an edge of S. Deﬁne the braid cone C⋄(S)
of S as the cone
C⋄(S) := {x ∈H | xi ⩽xj for any i →j in S}
= cone
 X
j∈J
ej
 for all edge cuts (I ∥J) of S

.
Proposition 5.6. The map S 7→C⋄(S) is a lattice homomorphism from the reﬁnement
lattice on Schröder δ-permutrees to the inclusion lattice on the cones of the δ-permutree
fan F(δ). In particular,
F(δ) = {C⋄(S) | S Schröder δ-permutree} .
Proof. Contracting an edge v →w in S corresponds to forcing the inequalities xi ⩽xj
to become equalities xi = xj for i ∈p(v) and j ∈p(w). Reciprocally, since the
cone C⋄(S) is simplicial, its faces are obtained by forcing some of its inequalities
to become equalities, which corresponds to contracting some edges in S. The result
immediately follows.
□
Proposition 5.7. For any Schröder δ-permutree S, the set
F(S) := conv {a(T) | T δ-permutree reﬁning S} =
T
(I ∥J) cut of S
H⩾(I)
is a face of the δ-permutreehedron PT(δ). Moreover, the map S 7→F(S) is a lattice
homomorphism from the reﬁnement lattice on Schröder δ-permutrees to the face lattice
of the δ-permutreehedron PT(δ).
Proof. Since the normal fan of the δ-permutreehedron PT(δ) is the δ-permutree
fan F(δ) by Theorem 3.4, there is a face F(S) whose normal cone is C⋄(S). This face is
given by the inequalities of PT(δ) corresponding to the rays of C⋄(S), that is, by the
inequalities H⩾(I) for the edge cuts (I ∥J) of S. Moreover, a δ-permutree satisﬁes
these inequalities if and only if it reﬁnes S, which proves the second equality. Finally,
the lattice homomorphism property is a direct consequence of Proposition 5.6.
□
5.3. Schröder permutree correspondence. We now deﬁne an analogue of the
permutree correspondence and P-symbol, which will map decorated ordered par-
titions of [n] to Schröder permutrees. We represent graphically an ordered parti-
tion λ := λ1| · · · |λk of [n] into k parts by the (k × n)-table with a dot at row i and
column j for each j ∈λi. See Figure 24 (left). We denote by Pn the set of ordered
partitions of [n] and we set P := F
n∈N Pn.
A decorated ordered partition is an ordered partition table where each dot receives a
decoration of {
,
,
,
}. For a decoration δ ∈{
,
,
,
}n, let Pδ be the set of
ordered partitions of [n] decorated by δ, and set P{
,
,
,
} := F
n∈N,δ∈{
,
,
,
}n Pδ.
Given such a decorated ordered partition λ := λ1| · · · |λk, we construct a leveled
Schröder-Cambrian tree Θ⋆(λ) as follows. As a preprocessing, we represent the table
of λ (with a dot at row i and column j for each j ∈λi), we draw a vertical red wall
below the down dots (decorated by
or
) and above the up dots (decorated by
or
), and we connect into nodes the dots at the same level which are not separated
by a wall. Note that we might obtain several nodes per level. We then sweep the
table from bottom to top as follows. The procedure starts with an incoming strand
in between any two consecutive down values. At each level, each node v (connected
set of dots) gathers all strands in the region below and visible from v (i.e. not hidden
by a vertical wall) and produces one strand in each region above and visible from v.
The procedure ﬁnished with an outgoing strand in between any two consecutive up
values. See Figure 24.
Algebraic Combinatorics, Vol. 1 #2 (2018)
215

Vincent Pilaud & Viviane Pons
1
2
3
7
6
4
4
2
1
3
5
1
2
3
7
6
4
4
2
1
3
5
1
2
3
7
6
4
4
2
1
3
5
1
2
3
7
6
4
4
2
1
3
5
Figure 24. The insertion algorithm on the decorated ordered par-
tition 125|37|46.
Example 5.8. As illustrations of the Schröder permutree correspondence, the lev-
eled Schröder permutrees of Figure 22 were all obtained by inserting the ordered
partition 125|37|46 with diﬀerent decorations.
Proposition 5.9. The map Θ⋆is a bijection from decorated ordered partitions to
leveled Schröder-Cambrian trees.
Proof. The proof is similar to that of Proposition 2.8.
□
For a decorated ordered partition λ, we denote by P⋆(τ) the permutree obtained
by forgetting the increasing labeling in Θ⋆(τ). Note that a decorated ordered partition
of [n] into k parts is sent to a Schröder permutree with at least k internal nodes, since
some levels can be split into several nodes.
Similar to Proposition 2.9, the following characterization of the ﬁbers of the map P⋆
is immediate from the description of the Schröder permutree correspondence. For an
ordered partition λ := λ1| . . . |λk, we let λ−1(i) be such that i ∈λλ−1(i). For a Schröder
permutree S, we write i →j in S if the node of S containing i is below the node of S
containing j, and i ∼j in S if i and j belong to the same node of S. We say that i
and j are incomparable in S when i ̸→j, j ̸→i, and i ̸∼j.
Proposition 5.10. For any Schröder δ-permutree S and any decorated ordered par-
tition λ ∈Pδ, we have P⋆(λ) = S if and only if i ∼j in S implies λ−1(i) = λ−1(j)
and i →j in S implies λ−1(i) < λ−1(j). In other words, λ is obtained from a linear
extension of S by merging parts which label incomparable vertices of S.
5.4. Schröder permutree congruence. Similar to the permutree congruence,
we now characterize the ﬁbers of P⋆by a congruence deﬁned as a rewriting rule.
Remember that we write X ≪Y when x < y for all x ∈X and y ∈Y , that is,
when max(X) < min(Y ).
Definition 5.11. For a decoration δ ∈{
,
,
,
}n, the Schröder δ-permutree
congruence is the equivalence relation on Pδ deﬁned as the transitive closure of the
rewriting rules
U|a|c|V ≡⋆
δ U|ac|V ≡⋆
δ U|c|a|V,
where a, c are parts while U, V are sequences of parts of [n], and there exists a ≪b ≪c
such that δb ∈{
,
} and b ∈S U, or δb ∈{
,
} and b ∈S V . The Schröder
permutree congruence is the equivalence relation ≡⋆on P{
,
,
,
} obtained as the
union of all Schröder δ-permutree congruences.
For example, 12|5|37|46 ≡⋆125|37|46 ≡⋆125|7|3|46 ̸≡⋆125|7|46|3.
Proposition 5.12. Two decorated ordered partitions λ, λ′ ∈P{
,
,
,
} are Schröder
permutree congruent if and only if they have the same P⋆-symbol:
λ ≡⋆λ′ ⇐⇒P⋆(λ) = P⋆(λ′).
Algebraic Combinatorics, Vol. 1 #2 (2018)
216

Permutrees
Proof. It boils down to observe that two consecutive parts a and c of an ordered
partition U|a|c|V in a ﬁber (P⋆)−1(S) can be merged to U|ac|V and even exchanged
to U|c|a|V while staying in (P⋆)−1(S) precisely when they belong to distinct subtrees
of a node of S. They are therefore separated by the vertical wall above (resp. below)
a value b with a ≪b ≪c and such that δb ∈{
,
} and b ∈S U (resp. δb ∈{
,
}
and b ∈S V ).
□
We now see the Schröder permutree congruence as a lattice congruence. We ﬁrst
need to remember the facial weak order on ordered partitions as deﬁned by D. Krob,
M. Latapy, J.-C. Novelli, H. D. Phan and S. Schwer in [11]. This order extends the
classical weak order on permutations of [n]. It was also extended to faces of permuta-
hedra of arbitrary ﬁnite Coxeter groups by P. Palacios and M. Ronco [24] and studied
in detail by A. Dermenjian, C. Hohlweg and V. Pilaud [5].
Definition 5.13. The coinversion map coinv(λ) :
 [n]
2

→{−1, 0, 1} of an ordered par-
tition λ ∈Pn is the map deﬁned for i < j by coinv(λ)(i, j) = sign(λ−1(i) −λ−1(j)).
The facial weak order ⩽is the poset on ordered partitions deﬁned by λ ⩽λ′ if and
only if coinv(λ)(i, j) ⩽coinv(λ′)(i, j) for all i < j.
The following properties of the facial weak order were proved in [11] and extended
for arbitrary ﬁnite Coxeter groups in [5].
Proposition 5.14 ([11]). The facial weak order on the set of ordered partitions is a
lattice.
Proposition 5.15 ([11]). The cover relations of the weak order < on Pn are given
by
λ1| · · · |λi|λi+1| · · · |λk
<
λ1| · · · |λiλi+1| · · · |λk
if λi ≪λi+1,
λ1| · · · |λiλi+1| · · · |λk
<
λ1| · · · |λi|λi+1| · · · |λk
if λi+1 ≪λi.
We now use the facial weak order to understand better the Schröder permutree
congruence.
Proposition 5.16. For any decoration δ ∈{
,
,
,
}n, the Schröder δ-permutree
congruence ≡⋆
δ is a lattice congruence of the facial weak order on Pδ.
Proof. We could write a direct proof that the classes of the Schröder δ-permutree con-
gruence are intervals and that the up and down projection maps are order preserving.
This was done for example in [4, Proposition 105]. To avoid this tedious proof, we
prefer to refer the reader to [5] which states that a lattice congruence of the weak
order automatically transposes to a lattice congruence of the facial weak order.
□
Corollary 5.17. The Schröder δ-permutree congruence classes are intervals of the
facial weak order on Pn. In particular, the following sets are in bijection:
(i) Schröder permutrees with decoration δ,
(ii) Schröder δ-permutree congruence classes,
(iii) partitions of Pn avoiding the patterns a|c-b and ac-b for δb ∈{
,
}
and b-a|c and b-ac for δb ∈{
,
}, where a ≪b ≪c (maximums of
classes),
(iv) partitions of Pn avoiding the patterns c|a-b and ac-b for δb ∈{
,
}
and b-c|a and b-ac for δb ∈{
,
}, where a ≪b ≪c (minimums of
classes).
It follows that the Schröder permutrees inherit a lattice structure deﬁned by S < S′
if and only if there exist ordered partitions λ, λ′ such that P⋆(λ) = S, P⋆(λ′) = S′
and λ < λ′ in facial weak order. We now provide another interpretation of this lattice.
Algebraic Combinatorics, Vol. 1 #2 (2018)
217

Vincent Pilaud & Viviane Pons
Definition 5.18. We say that the contraction of an edge e = v →w in a Schröder
permutree S is increasing if p(v) ≪p(w) and decreasing if p(w) ≪p(v). The Schröder
δ-permutree lattice is the transitive closure of the relations S < S/e (resp. S/e < S)
for any Schröder δ-permutree S and any edge e ∈S deﬁning an increasing (resp. de-
creasing) contraction.
Proposition 5.19. The map P⋆deﬁnes a lattice homomorphism from the facial weak
order on Pδ to the Schröder δ-permutree lattice. In other words, the Schröder δ-
permutree lattice is isomorphic to the lattice quotient of the facial weak order by the
Schröder δ-permutree congruence.
Proof. Let λ < λ′ be a cover relation in the weak order on Pδ. Assume that λ′ is
obtained by merging the parts λi ≪λi+1 of λ (the other case being symmetric). Let u
denote the rightmost node of P⋆(λ) at level i, and v the leftmost node of P⋆(λ) at
level i+1. If u and v are not comparable, then P⋆(λ) = P⋆(λ′). Otherwise, there is an
edge u →v in P⋆(λ) and P⋆(λ′) is obtained by the increasing contraction of u →v
in P⋆(λ).
□
See Figure 25 for examples of Schröder δ-permutree lattices for δ =
3,
3 and
3.
Figure 25. The Schröder δ-permutree lattices for δ =
3 (left),
3
(middle) and
3 (right).
5.5. Numerology. According to Corollary 5.17, Schröder δ-permutrees are in
bijection with ordered partitions of Pn avoiding the patterns a|c-b and ac-b
for δb ∈{
,
} and b-a|c and b-ac for δb ∈{
,
}. Similar to Section 2.5, we
construct a generating tree Sδ for these ordered partitions. This tree has n levels,
and the nodes at level m are labelled by the ordered partitions of [m] whose values
are decorated by the restriction of δ to [m] and avoiding the four forbidden patterns.
The parent of an ordered partition in Sδ is obtained by deleting its maximal value.
See Figure 26 for examples of such trees.
As in Section 2.5, we consider the possible positions of m + 1 in the children of an
ordered partition λ at level m in Sδ. We call free gaps the positions where placing m+1
does not create a forbidden pattern. They are marked with a blue point • in Figure 26.
Note that free gaps can appear at the end of a part of λ, on a separator | in between two
parts of λ, or at the beginning or end of λ. We therefore include two fake separators
at the beginning and at the end of λ. Except the ﬁrst free gap at the beginning of λ,
all free gaps come by pairs of the form ••|: if m+1 can be inserted at the end of a part,
it can as well be inserted on the next separator. Therefore, any ordered partition has
an odd number of free gaps. Our main tool is the following lemma. Its proof, similar
to that of Lemma 2.20, is left to the reader.
Algebraic Combinatorics, Vol. 1 #2 (2018)
218

Permutrees
Figure 26. The generating trees Sδ for the decorations δ =
(top) and δ =
(bottom). Free gaps are marked with blue dots.
Algebraic Combinatorics, Vol. 1 #2 (2018)
219

Vincent Pilaud & Viviane Pons
Lemma 5.20. Any ordered partition at level m with 2g + 1 free gaps and s internal
separators has
• g+1 children with 2g+3 free gaps and s+1 internal separators, and g children
with 2g + 1 free gaps and s separators when δm+1 =
,
• one child with 2g′ + 1 free gaps and s internal separator for each g′ ∈[g], and
one child with 2g′+1 free gaps and s+1 internal separators for each g′ ∈[g+1]
when δm+1 ∈{
,
},
• g + 1 children with 3 free gaps and s + 1 internal separators, and g children
with 3 free gaps and s separators when δm+1 =
.
Ordering the children of a node of Sδ in increasing number of free gaps and in-
creasing number of separators, we obtain the following statement similar to Proposi-
tion 2.19.
Proposition 5.21. For any δ, δ′ ∈{
,
,
,
}n such that δ−1(
) = δ′−1(
) and
δ−1(
) = δ′−1(
), the generating trees Sδ and Sδ′ are isomorphic.
Finally, similar to Corollary 2.22, we obtain the following inductive formulas for
the number of Schröder permutrees.
Corollary 5.22. Let δ ∈{
,
,
,
}n and δ′ be obtained by deleting the last
letter δn of δ. The number S(δ, g, s) of ordered partitions avoiding a|c-b and ac-b
for δb ∈{
,
} and b-a|c and b-ac for δb ∈{
,
} and with 2g + 1 free gaps and s
internal separators satisﬁes the following recurrence relations:
S(δ, g, s) =

















11g⩾1
s⩾g−1
·

g · S(δ′, g, s) + g · S(δ′, g −1, s −1)

if δn =
,
11g⩾1
s⩾g−1
·
 X
g′⩾g
S(δ′, g′, s) +
X
g′⩾g−1
S(δ′, g′, s −1)

if δn =
or
,
11g=1 ·
 X
g′⩾1
g′ · S(δ′, g′, s) +
X
g′⩾1
(g′ + 1) · S(δ′, g′, s−1)

if δn =
,
where 11X is 1 if X is satisﬁed and 0 otherwise.
Note that for any δ ∈{
,
,
,
}n, the f-vector of the permutreehedron PT(δ)
is given by
fk(PT(δ)) =
X
g∈N
S(δ, g, n −1 −k).
For example the f-vector of PT(
) is [1, 324, 972, 1125, 630, 175, 22, 1].
Corollary 5.23. The f-vector of the permutreehedron PT(δ) only depends on the
positions of the
and
in δ.
Example 5.24. Following Example 2.4, observe that the f-vector of the permutree-
hedron PT(δ) specializes to the following well-known sequences of numbers:
(i) for δ =
n,
fk(PT(
n)) =
n−k
X
j=0
(−1)j
n −k
j

(n −k −j)n
is the number of ordered partitions of [n] into n −k parts [23, A019538] and
n
X
k=0
fk(PT(
n))
is a Fubini number [23, A000670],
Algebraic Combinatorics, Vol. 1 #2 (2018)
220

Permutrees
(ii) for δ ∈{
,
}n,
f(PT(δ)) =
1
n −k

n −1
n −k −1
 2n −k
n −k −1

is the number of dissections of a convex (n+2)-gon with n−k−1 non-crossing
diagonals [23, A033282] and
n
X
k=0
fk(PT(δ))
is a Schröder number [23, A001003],
(iii) for δ =
n,
fk(PT(
n)) = 2n−1−k
n −1
k

is the number of words of length n −1 on {−1, 0, 1} with k occurrences of 0
[23, A000244] and
X
k
fk(PT(
n)) = 3n−1
see [23, A000670].
Note that for any δ ∈{
,
,
,
}n, the kth entry hk(PT(δ)) of the h-vector of
the permutreehedron PT(δ) is the number of δ-permutrees with k increasing edges
(i.e. edges i →j with i < j). Since the f-vector only depends on the positions of the
and
in δ, so does the h-vector. We therefore obtain the following statement.
Corollary 5.25. The number of δ-permutrees which have k increasing edges
(i.e. edges i →j with i < j) only depends on the positions of the
and
in δ.
Example 5.26. Following Example 2.4, observe that the h-vector of the permutree-
hedron PT(δ) specializes to the following well-known sequences of numbers:
(i) the Eulerian numbers [23, A008292] for δ =
n,
(ii) the Narayana numbers [23, A001263] for δ ∈{
,
}n,
(iii) the binomial coeﬃcients [23, A007318] for δ =
n.
5.6. Refinement. As in Section 2.7, consider two decorations δ, δ′ ∈{
,
,
,
}n
such that δ ≼δ′ (i.e. , such that δi ≼δ′
i for all i ∈[n] where the order on {
,
,
,
}
is given by
≼{
,
} ≼
).
The Schröder δ-permutree congruence then reﬁnes the Schröder δ′-permutree con-
gruence. Therefore, we obtain a natural surjection Ψ⋆δ′
δ : SchrPT(δ) →SchrPT(δ′):
for any ordered partition λ of [n], Ψ⋆δ′
δ sends the Schröder permutree obtained by
insertion of λ decorated by δ to the Schröder permutree obtained by insertion of λ
decorated by δ′. This surjection can as well be interpreted directly on our representa-
tion of the Schröder permutrees as in Figure 13, where now both the blocks and the
edges can be reﬁned.
Finally, similar to Proposition 2.35, we obtain the following statement.
Proposition 5.27. The surjection Ψ⋆δ′
δ
deﬁnes a lattice homomorphism from the
Schröder δ-permutree lattice to the Schröder δ′-permutree lattice.
5.7. Schröder permutree algebra. To conclude this section on Schröder per-
mutrees, we brieﬂy mention their Hopf algebra structure. Following [4], we ﬁrst refor-
mulate in terms of ordered partitions the Hopf algebra of F. Chapoton [3] indexed by
the faces of the permutahedra.
Algebraic Combinatorics, Vol. 1 #2 (2018)
221

Vincent Pilaud & Viviane Pons
We deﬁne two restrictions on ordered partitions. Consider an ordered partition µ
of [n] into p parts. For I ⊆[p], we let nI := | {j ∈[n] | ∃i ∈I, j ∈µi} | and we de-
note by µ|I the ordered partition of [nI] into |I| parts obtained from µ by dele-
tion of the parts indexed by [p] ∖I and standardization. Similarly, for J ⊆[n], we
let pJ := | {i ∈[p] | ∃j ∈J, j ∈µi} | and we denote by µ|J the ordered partition of [|J|]
into pJ parts obtained from µ by deletion of the entries in [n] ∖J and standardiza-
tion. For example, for the ordered partition µ = 16|27|4|35 we have µ|{2,3} = 13|2
and µ|{1,3,5} = 1|23.
The shifted shuﬄe λ ¯ λ′ and the convolution λ⋆λ′ of two ordered partitions λ ∈Pn
and λ′ ∈Pn′ are deﬁned by:
λ ¯ λ′ :=

µ ∈Pn+n′ | µ|{1,...,n} = λ and µ|{n+1,...,n+n′} = λ′	
,
and
λ ⋆λ′ :=

µ ∈Pn+n′ | µ|{1,...,k} = λ and µ|{k+1,...,k+k′} = λ′	
.
For example,
1|2 ¯ 2|13 = {1|2|4|35, 1|24|35, 1|4|2|35, 1|4|235, 1|4|35|2, 14|2|35, 14|235,
14|35|2, 4|1|2|35, 4|1|235, 4|1|35|2, 4|135|2, 4|35|1|2},
1|2 ⋆2|13 = {1|2|4|35, 1|3|4|25, 1|4|3|25, 1|5|3|24, 2|3|4|15,
2|4|3|15, 2|5|3|14, 3|4|2|15, 3|5|2|14, 4|5|2|13}.
These deﬁnitions extend to decorated ordered partitions: decorations travel with
their values in the shifted shuﬄe product, and stay at their positions in the convolution
product.
We denote by OrdPart{
,
,
,
} the Hopf algebra with basis (Fλ)λ∈P{
,
,
,
} and
whose product and coproduct are deﬁned by
Fλ · Fλ′ =
X
µ∈λ ¯ λ′
Fµ
and
△Fµ =
X
µ∈λ⋆λ′
Fλ ⊗Fλ′.
This indeed deﬁnes a Hopf algebra, which is just a decorated version of that [3].
Finally, we denote by SchrPT the vector subspace of OrdPart{
,
,
,
} generated by
PS :=
X
λ∈P{
,
,
,
}
P⋆(λ)=S
Fλ,
for all Schröder permutree S. We skip the proof of the following statement.
Theorem 5.28. SchrPT is a Hopf subalgebra of OrdPart{
,
,
,
}.
Relevant subalgebras of the Schröder permutree algebra are the Hopf algebras of
F. Chapoton [3] on the faces of the permutahedra, associahedra and cubes, as well
as the Schröder Cambrian Hopf algebra of G. Chatel and V. Pilaud [4, Part 3]. As
in Section 4, we invite the reader to work out direct combinatorial rules for the
product and coproduct in the Schröder permutree algebra. Examples can be found
in [4, Part 3].
Acknowledgements. We thank two anonymous referees for helpful comments and sug-
gestions on this paper. We thank Nathan Reading for relevant comments on this
paper. The computation and tests needed along the research were done using the
open-source mathematical software Sage [36] and its combinatorics features devel-
oped by the Sage-combinat community [35].
Algebraic Combinatorics, Vol. 1 #2 (2018)
222

Permutrees
References
[1] Anders Björner and Michelle L. Wachs, Permutation statistics and linear extensions of posets,
J. Combin. Theory Ser. A 58 (1991), no. 1, 85–114.
[2] Michael P. Carr and Satyan L. Devadoss, Coxeter complexes and graph-associahedra, Topology
Appl. 153 (2006), no. 12, 2155–2168.
[3] Frédéric Chapoton, Algèbres de Hopf des permutahèdres, associahèdres et hypercubes, Adv.
Math. 150 (2000), no. 2, 264–275.
[4] Grégory Chatel and Vincent Pilaud, Cambrian Hopf Algebras, Adv. Math. 311 (2017), 598–633.
[5] Aram Dermenjian, Christophe Hohlweg, and Vincent Pilaud, The facial weak order and its
lattice quotients, Trans. Amer. Math. Soc. 370 (2018), no. 2, 1469–1507.
[6] G. Duchamp, F. Hivert, and J.-Y. Thibon, Noncommutative symmetric functions. VI. Free
quasi-symmetric functions and related algebras, Internat. J. Algebra Comput. 12 (2002), no. 5,
671–717.
[7] Israel M. Gelfand, Daniel Krob, Alain Lascoux, Bernard Leclerc, Vladimir S. Retakh, and Jean-
Yves Thibon, Noncommutative symmetric functions, Adv. Math. 112 (1995), no. 2, 218–348.
[8] Florent Hivert, Jean-Christophe Novelli, and Jean-Yves Thibon, The algebra of binary search
trees, Theoret. Comput. Sci. 339 (2005), no. 1, 129–165.
[9] Christophe Hohlweg and Carsten Lange, Realizations of the associahedron and cyclohedron,
Discrete Comput. Geom. 37 (2007), no. 4, 517–543.
[10] Christophe Hohlweg, Carsten Lange, and Hugh Thomas, Permutahedra and generalized associ-
ahedra, Adv. Math. 226 (2011), no. 1, 608–640.
[11] Daniel Krob, Matthieu Latapy, Jean-Christophe Novelli, Ha-Duong Phan, and Sylviane Schwer,
Pseudo-Permutations I: First Combinatorial and Lattice Properties, 13th International Confer-
ence on Formal Power Series and Algebraic Combinatorics (FPSAC 2001), 2001.
[12] Daniel Krob and Jean-Yves Thibon, Noncommutative symmetric functions. IV. Quantum linear
groups and Hecke algebras at q = 0, J. Algebraic Combin. 6 (1997), no. 4, 339–376.
[13] Carsten Lange and Vincent Pilaud, Associahedra via spines, Preprint, arXiv:1307.4391. To
appear in Combinatorica, 2017.
[14] Alain Lascoux and Marcel-Paul Schützenberger, Treillis et bases des groupes de Coxeter, Elec-
tron. J. Combin. 3 (1996), no. 2, Research paper 27 (35 pages).
[15] Jean-Louis Loday, Dialgebras, in Dialgebras and related operads, Lecture Notes in Math., vol.
1763, Springer, Berlin, 2001, pp. 7–66.
[16] Jean-Louis Loday, Realization of the Stasheﬀpolytope, Arch. Math. (Basel) 83 (2004), no. 3,
267–278.
[17] Jean-Louis Loday and María O. Ronco, Hopf algebra of the planar binary trees, Adv. Math.
139 (1998), no. 2, 293–309.
[18] Claudia Malvenuto and Christophe Reutenauer, Duality between quasi-symmetric functions and
the Solomon descent algebra, J. Algebra 177 (1995), no. 3, 967–982.
[19] Jiří Matoušek, Lectures on discrete geometry, Graduate Texts in Mathematics, vol. 212,
Springer-Verlag, New York, 2002.
[20] Folkert Müller-Hoissen, Jean Marcel Pallo, and Jim Stasheﬀ(eds.), Associahedra, Tamari Lat-
tices and Related Structures. Tamari Memorial Festschrift, Progress in Mathematics, vol. 299,
Springer, New York, 2012.
[21] Jean-Christophe Novelli, On the hypoplactic monoid, Discrete Math. 217 (2000), no. 1-3, 315–
336, Formal power series and algebraic combinatorics (Vienna, 1997).
[22] Jean-Christophe Novelli and Jean-Yves Thibon, Free quasi-symmetric functions and descent
algebras for wreath products, and noncommutative multi-symmetric functions, Discrete Math.
310 (2010), no. 24, 3584–3606.
[23] The On-Line Encyclopedia of Integer Sequences, Published electronically at http://oeis.org,
2010.
[24] Patricia Palacios and María O. Ronco, Weak Bruhat order on the set of faces of the permuto-
hedron and the associahedron, J. Algebra 299 (2006), no. 2, 648–678.
[25] Vincent Pilaud, Signed tree associahedra, Preprint, arXiv:1309.5222, 2013.
[26] Alexander Postnikov, Permutohedra, associahedra, and beyond, Int. Math. Res. Not. IMRN
(2009), no. 6, 1026–1106.
[27] Jean-Baptiste Priez, A lattice of combinatorial Hopf algebras, Application to binary trees with
multiplicities, Preprint arXiv:1303.5538. Extended abstract in 25th International Conference
on Formal Power Series and Algebraic Combinatorics (FPSAC’13, Paris), 2013.
[28] Nathan Reading, Lattice congruences of the weak order, Order 21 (2004), no. 4, 315–344.
Algebraic Combinatorics, Vol. 1 #2 (2018)
223

Vincent Pilaud & Viviane Pons
[29] Nathan Reading, Lattice congruences, fans and Hopf algebras, J. Combin. Theory Ser. A 110
(2005), no. 2, 237–273.
[30] Nathan Reading, Cambrian lattices, Adv. Math. 205 (2006), no. 2, 313–353.
[31] Nathan Reading, Noncrossing arc diagrams and canonical join representations, SIAM J. Dis-
crete Math. 29 (2015), no. 2, 736–750.
[32] Nathan Reading and David E. Speyer, Cambrian fans, J. Eur. Math. Soc. 11 (2009), no. 2,
407–447.
[33] Craige Schensted, Longest increasing and decreasing subsequences, Canad. J. Math. 13 (1961),
179–191.
[34] Steve Shnider and Shlomo Sternberg, Quantum groups: From coalgebras to Drinfeld algebras,
Series in Mathematical Physics, International Press, Cambridge, MA, 1993.
[35] The Sage-Combinat community, Sage-Combinat: enhancing Sage as a toolbox for computer
exploration in algebraic combinatorics, 2016, http://wiki.sagemath.org/combinat.
[36] The Sage developers, Sage Mathematics Software, 2016, http://www.sagemath.org.
[37] Xavier Viennot, Catalan tableaux and the asymmetric exclusion process, in 19th International
Conference on Formal Power Series and Algebraic Combinatorics (FPSAC 2007), 2007.
[38] Andrei Zelevinsky, Nested complexes and their polyhedral realizations, Pure Appl. Math. Q. 2
(2006), no. 3, 655–671.
[39] Günter M. Ziegler, Lectures on polytopes, Graduate Texts in Mathematics, vol. 152, Springer-
Verlag, New York, 1995.
Vincent Pilaud, CNRS & LIX, École Polytechnique, Palaiseau
E-mail : vincent.pilaud@lix.polytechnique.fr
Url : http://www.lix.polytechnique.fr/~pilaud/
Viviane Pons, LRI, Univ. Paris-Sud - CNRS - Centrale Supelec - Univ. Paris-Saclay
E-mail : viviane.pons@lri.fr
Url : https://www.lri.fr/~pons/
Algebraic Combinatorics, Vol. 1 #2 (2018)
224

