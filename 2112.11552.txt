arXiv:2112.11552v1  [math.CT]  21 Dec 2021
BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION
CATEGORIES
DOMENICO FIORENZA AND NIELS KOWALZIG
ABSTRACT. Building on Retakh‚Äôs approach to Ext groups through categories
of extensions, Schwede reobtained the well-known Gerstenhaber algebra struc-
ture on Ext groups over bimodules of associative algebras both from splicing
extensions (leading to the cup product) and from a suitable loop in the cat-
egories of extensions (leading to the Lie bracket). We show how Schwede‚Äôs
construction admits a vast generalisation to general monoidal categories with
coefÔ¨Åcients of the Ext groups taken in (weak) left and right monoidal (or Drin-
fel‚Äôd) centres. In case of the category of left modules over bialgebroids and
coefÔ¨Åcients given by commuting pairs of braided (co)commutative (co)monoids
in these categorical centres, we provide an explicit description of the algebraic
structure obtained this way, and a complete proof that this leads to a Gersten-
haber algebra is then obtained from an operadic approach. This, in particular,
considerably generalises the classical construction given by Gerstenhaber him-
self. Conjecturally, the algebraic structure we describe should produce a Ger-
stenhaber algebra for an arbitrary monoidal category enriched over abelian
groups, but even the bilinearity of the cup product and of the Lie-type bracket
deÔ¨Åned by the abstract construction in terms of extension categories remain
elusive in this general setting.
CONTENTS
Introduction
2
1.
Operations in extension categories
4
1.1.
The hash operation
5
1.2.
The tensor product
7
1.3.
The cup product
9
1.4.
The mystic hexagon
10
1.5.
Cocycle representatives
11
1.6.
The cup product in terms of cocycle representatives
12
1.7.
The bracket t , u in terms of cocycle representatives
13
2.
An explicit approach for bialgebroids
15
2.1.
Ext groups and extension categories over bialgebroid modules
15
2.2.
The external cup product
17
2.3.
A cocycle representative for the cup product
19
2.4.
The cup product as internal operadic composition
24
2.5.
A second cocycle representative for E Y F
27
2.6.
Brackets from homotopies
30
2.7.
The Ext groups as a Gerstenhaber algebra
35
Appendix A.
Centres, bialgebroids, and operads
37
References
42
2020 Mathematics Subject ClassiÔ¨Åcation. 18G15, 18M15, 18M70, 16T05, 16T15, 16E40 .
Key words and phrases. Loops of extensions, monoidal categories, centres, operads, bialge-
broids, Gerstenhaber algebras.
1

2
DOMENICO FIORENZA AND NIELS KOWALZIG
INTRODUCTION
An apparently quite wide-spread theorem roughly states that for a monoidal
category pC , b, 1q fulÔ¨Ålling some mild conditions, the groups ExtC p1, 1q deÔ¨Åne
a Gerstenhaber algebra: that is, a graded object equipped with a graded Lie
bracket and a graded commutative product subject to a Leibniz rule. However,
a proof seems to be written down only in [Sh1, Sh2], see also [He] for an ad-
vanced attempt. The mild conditions just mentioned refer to the problem that
for an arbitrary monoidal category a priori the monoidal structure is not ex-
act, and one hence assumes the existence of a full additive subcategory which
has the desired properties and is implicitly dealt with instead of the original
monoidal category. The precise conditions needed, which we prefer not to dis-
cuss here in detail, are spelled out in [Sh1, ¬ß2.1] or, somewhat differently, in
[Sh2, Def. 5.1], or [Schw, Lem. 2.1] for a discussion adapted to the Hochschild
context of associative algebras.
Less known and so far unproven is the following enhancement of the above
statement, which we formulate as a conjecture here:
Conjecture. Let C be a monoidal category (fulÔ¨Ålling a few mild conditions), let
Z be a braided commutative monoid in the left weak monoidal centre of C , and
let X be a braided cocommutative comonoid in the right weak monoidal centre
of C . If pX, Zq is a commuting pair, then ExtC pX, Zq is a Gerstenhaber algebra.
Here, by left resp. weak centre of pC , b, 1q we mean those (braided monoidal)
categories Z ‚ÑìpC q resp. Z rpC q whose objects are objects in C together with not
necessarily invertible natural maps Z b M √ë M b Z resp. M b X √ë X b M
that for arbitrary M P C fulÔ¨Ål certain (hexagon) compatibilities in a customary
sense, and commuting pair refers to the case where these two maps coincide
on Z b X, see ¬ßA.1 for a more precise deÔ¨Ånition.
That these central objects need further structure such as a multiplication
resp. comultiplication in order to deÔ¨Åne a Gerstenhaber algebra on their Ext
groups becomes clear, e.g., when observing that the usual Yoneda product is
not an internal operation on ExtC pX, Zq.
In ¬ß1, we motivate the above conjecture by mimicking Schwede‚Äôs description
[Schw] of the Gerstenhaber algebra structure on the Hochschild cohomology of
an associative algebra through Retakh‚Äôs enhancement of Ext groups to Ext
spaces. More precisely, if we denote by # the splicing of two extensions in Ext
(that induces the Yoneda product on Ext groups), and if we assume X to be a
comonoid in Z rpC q with comultiplication ‚àÜX and Z a monoid in Z ‚ÑìpC q with
multiplication ¬µ, we can consider both multiplication resp. comultiplication as
extensions of length zero, and so as objects in Ext0
C pX, X b Xq and Ext0
C pZ b
Z, Zq, respectively. Given two extensions E P Extp
C pX, Zq and F P Extq
C pX, Zq of
length p resp. q, one can then consider the splicing
E Y F ‚Äì ¬µ#pE b Zq#pX b Fq#‚àÜX
and its connected component in Extp`q
C
pX, Zq, that for convenience will be de-
noted by the same symbol:
E Y F P œÄ0Extp`q
C
pX, Zq ¬ª Extp`q
C
pX, Y q.
On top, if MolochpE, Fq denotes the truncated tensor product complex of two
extensions E and F, one can devise the following loop in Extp`q
C
pX, Zq:

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
3
¬µ#MolochpE, Fq#‚àÜX
v‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß
(‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
E Y F ‚Äú ¬µ#pE b Zq#pX b Fq#‚àÜX
O
¬µ#pZ b Fq#pE b Xq#‚àÜX
¬µ#pZ b Eq#pF b Xq#‚àÜX
F Y E ‚Äú ¬µ#pF b Zq#pX b Eq#‚àÜX

¬µ#MolochpF, Eq#‚àÜX
h‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò
6‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
where the vertical arrows use in an essential way that X and Z form a com-
muting pair in the right and left weak centres of C , respectively.
Choosing E Y F as a base point in Extp`q
C
pX, Zq, this gives an element
tE, Fu P œÄ1pExtp`q
C
pX, Zq, E Y Fq ¬ª Extp`q¬¥1
C
pX, Zq.
This way, one has deÔ¨Åned a degree zero cup product
Y: Extp
C pX, Zq ÀÜ Extq
C pX, Zq √ë Extp`q
C
pX, Zq
and a degree ¬¥1 bracket
t¬¥, ¬¥u: Extp
C pX, Zq ÀÜ Extq
C pX, Zq √ë Extp`q¬¥1
C
pX, Zq.
Unfortunately, even in the case of the category of bimodules over associative
algebras, this topological approach leaves one one step before the conclusion:
a proof that these operations deÔ¨Åne a Gerstenhaber algebra or the mere fact
these operations are bilinear remain elusive and no simpler argument than
those used in [Sh1] seems to be available to establish these facts in a purely
topological fashion.
In case of the category of bimodules over associative algebras, however,
there is a convenient mixed topological/algebraic approach developed in the al-
ready mentioned work [Schw] by Schwede, which leads to a transparent proof
of the fact that the cup product and the bracket obtained from a similar loop as
above indeed do endow the groups ExtAepA, Aq of an associative algebra A with
a Gerstenhaber algebra structure: it is shown in op. cit. how to obtain an ex-
plicit description in terms of Hochschild cocycle representatives of the cup and
bracket operations (dictated by the geometry of Ext spaces) for which the Ger-
stenhaber algebra axioms can be directly checked, and which coincide with the
cup product and Lie bracket of the classical Gerstenhaber algebra structure on
ExtAepA, Aq as originally introduced in [Ge].
Following the mentioned approach, we will show how to extract a cocycle de-
scription for the cup and bracket operations derived from the geometry of Ext
spaces of a commuting pair pX, Zq. As even an accurate construction will not
allow us here to obtain a proof for a Gerstenhaber algebra structure in full gen-
erality, we will be rather informal in this derivation, omitting all the needed
technical (mainly categorical) assumptions in order to make the construction
completely rigorous. Yet, we will be accurate enough to be able to provide in
¬ß2 an explicit cocycle description for the operations in the particular case that
C is the monoidal category of left U-modules for a left bialgebroid pU, Aq. In

4
DOMENICO FIORENZA AND NIELS KOWALZIG
terms of this cocycle description we shall explicitly exhibit the Gerstenhaber
algebra structure, thus turning the above Conjecture into Theorem 2.35:
Theorem (Theorem 2.35). Let pU, Aq be a left bialgebroid, Z a braided com-
mutative monoid in the left weak centre of the monoidal category of left U-
modules, and X a braided cocommutative comonoid in its right weak cen-
tre such that pX, Zq constitutes a commuting pair. Then the cochain complex
HomUpBar‚ÄöpU, Xq, Zq, computing Ext
‚Äö
UpX, Zq for A-projective U, deÔ¨Ånes an op-
erad with multiplication, which induces a Gerstenhaber algebra structure on
the cohomology groups.
Taking U ‚Äú Ae and X ‚Äú Y ‚Äú A, this recovers the usual Gerstenhaber alge-
bra structure on the standard Hochschild cohomology of an associative algebra
A with coefÔ¨Åcients in itself as a very particular case.
*
*
*
Throughout the whole text k will be a commutative ring, of characteristic
zero if need be. Unadorned tensor products are not to be understood over k but
rather denote the product in a monoidal category.
1. OPERATIONS IN EXTENSION CATEGORIES
We begin by recalling, in an informal way, the basic deÔ¨Ånitions of the Ext
spaces we are going to use in the construction of the cup product and the
bracket operation on Ext groups. Our aim here is not to provide a rigorous
construction but rather to Ô¨Åx notation and orient the reader. Details on the
formal construction and proofs of the statements can be found, e.g., in the orig-
inal works by Retakh on Ext spaces [Re] or by Neeman and Retakh [NeRe].
We will be working in a Ô¨Åxed monoidal category C and will denote the ob-
jects of C by the symbols X, Y, Z, . . .. We will also assume C is close enough
to an abelian category with enough projectives so that expressions like ‚Äúzero
object‚Äù, ‚Äúshort exact sequence‚Äù or ‚Äúprojective resolution‚Äù make sense in C . In
particular, in C we will have a notion of an extension of an object X by an
object Y , meaning by this a short exact sequence of the form
0 √ë Y √ë E √ë X √ë 0
in C . Iterating this construction, one gets the notion of a p-fold extension of an
object X by an object Y , which will be denoted by
E:
0 √ë Y √ë Ep¬¥1 √ë ¬® ¬® ¬® √ë E0 √ë X √ë 0,
so that
Ei ‚Äú
$
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
&
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
%
0
if i ƒè ¬¥2
X
if i ‚Äú ¬¥1
Ei
if 0 ƒè i ƒè p ¬¥ 1
Y
if i ‚Äú p
0
if i ƒõ p ` 1.
The maps Ei √ë Ei¬¥1 will be denoted by dE,i or simply by di, dE, or still simpler
by d when no or not much confusion is likely to arise. Occasionally, to make
it manifest that X is in place or degree ¬¥1 and Y in place or degree p, we
will formally use the degree j shift symbol rjs, familiar from the theory of
triangulated categories, and will write a p-fold extension of X by Y as
E:
0 √ë Y rps √ë Ep¬¥1 √ë ¬® ¬® ¬® √ë E0 √ë Xr¬¥1s √ë 0.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
5
In other words, we will be implicitly assuming that objects without an index
are placed in degree zero. More generally, an object denoted, for example, Eirjs,
is to be thought as placed in degree i ` j.
If E and F are two p-fold extensions of X by Y , a morphism f : E √ë F of p-fold
extensions is deÔ¨Åned as a commutative diagram
0
/ Y
/ Ep¬¥1
fp¬¥1

/ ¬® ¬® ¬®
/ E1
/
f1

E0
f0

/ X
/ 0
0
/ Y
/ Fp¬¥1
/ ¬® ¬® ¬®
/ F1
/ F0
/ X
/ 0
(1.1)
that is, where the leftmost and rightmost vertical arrows are the identity. If
f, g : E √ë F are two morphisms of p-fold extensions, then a chain homotopy
between f and g is a degree `1 morphism s of graded objects from E to F such
that f ¬¥ g ‚Äú rd, ss. Explicitly, remembering that both f and g are identities
in degree ¬¥1 and p and that both Ei and Fi are zero outside the range r¬¥1, ps,
this amounts to the datum of a family of morphisms si : Ei √ë Fi`1, for i ‚Äú
¬¥1, 0, 1, . . ., p, such that
d0 Àù s¬¥1
‚Äú
0,
d Àù si ` si¬¥1 Àù d
‚Äú
fi ¬¥ gi
for 0 ƒè i ƒè p ¬¥ 1,
sp¬¥1 Àù dp¬¥1
‚Äú
0.
Similarly, one deÔ¨Ånes homotopies between homotopies, etc. This way, one de-
Ô¨Ånes an 8-category Extp
C pX, Y q whose objects are p-fold extensions of X by Y ,
whose 1-morphisms are morphisms of p-fold extensions, whose 2-morphisms
are homotopies between morphisms, and so on. The space Extp
C pX, Y q is de-
Ô¨Åned as the topological realisation of the simplicial set deÔ¨Åned by this 8-
category Extp
C pX, Y q, that is, the simplicial set having the k-morphisms in
Extp
C pX, Y q as k-simplices. The two basic properties of the Ext spaces that we
shall need and are going to use are the following relations to Ext groups in C ,
which run under the name Retakh‚Äôs isomorphism [Re, NeRe]:
œÄ0Extp
C pX, Y q ‚Äú Extp
C pX, Y q,
œÄ1pExtp
C pX, Y q; Eq ‚Äú Extp¬¥1
C
pX, Y q,
where the Ô¨Årst line can be taken as a deÔ¨Ånition of the Ext group Extp
C pX, Y q.
When C is an abelian category with enough projectives, this is equivalent to
the classical deÔ¨Ånition of the Ext groups in C .
1.1. The hash operation. The hash operation, also known as splicing, is a
concatenation type operation
#: Extp
C pY, Zq ÀÜ Extq
C pX, Y q √ë Extp`q
C
pX, Zq
on Ext spaces, implementing the Yoneda product
Àù: Extp
C pY, Zq b Extq
C pX, Y q √ë Extp`q
C
pX, Zq
on Ext groups by passing to path connected components. It is deÔ¨Åned in slightly
different ways depending on whether p or q are zero or not.
When both p
and q are zero, Ext0
C pY, Zq, Ext0
C pX, Y q, and Ext0
C pX, Zq are just the hom sets
HomC pY, Zq, HomC pX, Y q and HomC pX, Zq, respectively, and the hash opera-
tion in this case is the composition of homomorphisms.

6
DOMENICO FIORENZA AND NIELS KOWALZIG
When p ƒÖ 0 and q ‚Äú 0, we are considering a hash of the form E#F, where
F: X √ë Y is a morphism. It is deÔ¨Åned as the top horizontal row of the commu-
tative diagram
0
/ Z
/ Ep¬¥1
/ ¬® ¬® ¬®
/ E1
/ E0 ÀÜY X

/ X
/
F

0
0
/ Z
/ Ep¬¥1
/ ¬® ¬® ¬®
/ E1
/ E0
/ Y
/ 0
(1.2)
where the rightmost commutative square is a pullback and the map E1 √ë
E0 ÀÜY X is induced by the commutative diagram
E1
0
/

X
F
E0
/ Y
and by the universal property of the pullback.
In case p ‚Äú 0 and q ƒÖ 0, dually, with E: Y √ë Z a morphism, E#F is deÔ¨Åned
as the bottom horizontal row of the commutative diagram
0
/ Y
E

/ Fq¬¥1

/ Fq¬¥2
/ ¬® ¬® ¬®
/ F0
/ X
/ 0
0
/ Z
// Z \Y Fq¬¥1
/ Fq¬¥2
/ ¬® ¬® ¬®
/ F0
/ X
/ 0
(1.3)
where the leftmost commutative square is a pushout.
It remains to be said what happens when both p and q are greater than
zero. In this case, points in the spaces Extp
C pY, Zq and Extq
C pX, Y q are iterated
extensions
E:
0 √ë Z √ë Ep¬¥1 √ë ¬® ¬® ¬® √ë E0 √ë Y √ë 0,
and
F:
0 √ë Y √ë Fq¬¥1 √ë ¬® ¬® ¬® √ë F0 √ë X √ë 0,
respectively. Their hash E#F is the iterated extension given by the top hori-
zontal row in the concatenation
E#F:
0
/ Z
/ Ep¬¥1
/ ¬® ¬® ¬®
/ E0
/ Fq¬¥1
/ ¬® ¬® ¬®
/ F0
/ X
/ 0.
Y
BCO
@A
/
Notice that the hash composition is associative (up to natural isomor-
phisms).
Remark 1.1. In the above concatenation, the lower indices no more corre-
spond to the position in the sequence of iterated extensions. This may be quite
confusing, so occasionally we will formally use the shift operator r1s of trian-
gulated categories as a symbol to restore the correct correspondence. That is,
the iterated extension
E:
0 √ë Y √ë Ep¬¥1 √ë ¬® ¬® ¬® √ë E0 √ë X √ë 0
will be rewritten as
E:
0 √ë Y rps √ë Ep¬¥1 √ë ¬® ¬® ¬® √ë E0 √ë Xr¬¥1s √ë 0,
to stress that X is in position (or degree) ¬¥1 in the sequence, and Y in position
p. With this notation, the iterated extension E#F will read
0 √ë Zrp ` qs √ë Ep¬¥1rqs √ë ¬® ¬® ¬® √ë E0rqs √ë Fq¬¥1 √ë ¬® ¬® ¬® √ë F0 √ë Xr¬¥1s √ë 0.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
7
Yet, when no confusion can arise, we will still adopt the less cumbersome
0 √ë Z √ë Ep¬¥1 √ë ¬® ¬® ¬® √ë E0 √ë Fq¬¥1 √ë ¬® ¬® ¬® √ë F0 √ë X √ë 0.
1.2. The tensor product. By using the monoidal structure in C and the hash
composition, one has (at least) four natural ways of deÔ¨Åning a map
Extp
C pX, Zq ÀÜ Extq
C pX, Zq √ë Extp`q
C
pX b X, Z b Zq.
Namely, given E in Extp
C pX, Zq and F in Extq
C pX, Zq, one can use the hash com-
position jointly with the tensor product to form
(i ) pE b Zq#pX b Fq,
(ii) pZ b Fq#pE b Xq,
(iii) pF b Zq#pX b Eq,
(iv ) pZ b Eq#pF b Xq.
Both hashing and tensoring are well deÔ¨Åned on path connected components
and so the above deÔ¨Åne four operations
Extp
C pX, Zq ÀÜ Extq
C pX, Zq √ë Extp`q
C
pX b X, Z b Zq.
Quite remarkably, the two operations induced on the Ext groups by (i) and (ii)
coincide, as well as the two operations induced by (iii) and (iv). To see this, we
need to exhibit a path in Extp`q
C
pX b X, Z b Zq between pE b Zq#pX b Fq and
pZ b Fq#pE b Xq. We show how to do this in case p, q ƒõ 1, leaving to the reader
the not particularly compelling task of completing the proof in case p or q are
equal to zero. An easy way of realising such a path is as a span
pE b Zq#pX b Fq
ŒªE,F
√ê√ù√ù√ù√ù√ù√ù MolochpE, Fq
Ã∫E,F
√ù√ù√ù√ù√ù√ù√ë pZ b Fq#pE b Xq,
(1.4)
where MolochpE, Fq is the totalisation of the diagram obtained by partially
removing the top row and the rightmost column of E b F as follows:
X b X
Z b F0
/ Ep¬¥1 b F0
/ ¬® ¬® ¬®
/ E0 b F0
9s
s
s
s
s
s
s
s
s
s
...
O
...
O
...
O
...
O
Z b Fq¬¥1
/
O
Ep¬¥1 b Fq¬¥1
/
O
¬® ¬® ¬®
/
O
E0 b Fq¬¥1
O
Z b Z
/
O
Ep¬¥1 b Z
/
O
¬® ¬® ¬®
/
O
E0 b Z
O
One easily checks by explicit computation in the top two degrees and by the
K√ºnneth isomorphism in all the lower degrees that MolochpE, Fq is indeed an
object in Extp`q
C
pX b X, Z b Zq.
Remark 1.2. When X ‚Äú 1C is the unit object of the monoidal category C , the
complex MolochpE, Fq is the tensor product of E and F as augmented complexes
considered in [Schw].

8
DOMENICO FIORENZA AND NIELS KOWALZIG
To produce the span (1.4), notice that the iterated extension pEbZq#pX bFq
is given by the top horizontal row in
Z b Z
/ Ep¬¥1 b Z
/ ¬® ¬® ¬®
/ E0 b Z
/X b Fq¬¥1
/ ¬® ¬® ¬®
/ X b F0
/ X b X.
X b Z
BCO
@A
/
(1.5)
In the spirit of Remark 1.1, one can use the shift operator to have a better
control of positions or degrees and write this as
ZrpsbZrqs √ë Ep¬¥1bZrqs √ë ¬® ¬® ¬® √ë E0bZrqs √ë X bFq¬¥1 √ë ¬® ¬® ¬® √ë X bF0 √ë X bXr¬¥1s.
Similarly, the iterated extension pZ bFq#pEbXq is given by the top horizontal
row in
Z b Z
/ Z b Fq¬¥1
/ ¬® ¬® ¬®
/ Z b F0
/Ep¬¥1 b X
/ ¬® ¬® ¬®
/ E0 b X
/ X b X,
Z b X
BCO
@A
/
that is, in the degree-shifted notation,
ZrpsbZrqs √ë ZrpsbFq¬¥1 √ë ¬® ¬® ¬® √ë ZrpsbF0 √ë Ep¬¥1bX √ë ¬® ¬® ¬® √ë E0bX √ë XbXr¬¥1s.
These combine with MolochpE, Fq into the single commutative diagram
Ep¬¥1 b X
/ ¬® ¬® ¬®
/ E0 b X
/ X b X
Z b F0
GF
/
/ Ep¬¥1 b F0
/
O
¬® ¬® ¬®
/
O
E0 b F0
/
O
8‚ô£
‚ô£
‚ô£
‚ô£
‚ô£
‚ô£
‚ô£
‚ô£
‚ô£
‚ô£
‚ô£
X b F0
O
...
O
...
O
...
O
...
O
...
O
Z b Fq¬¥1
/
O
Ep¬¥1 b Fq¬¥1
/
O
¬® ¬® ¬®
/
O
E0 b Fq¬¥1
/
O
X b Fq¬¥1
O
Z b Z
/
O
Ep¬¥1 b Z
/
O
¬® ¬® ¬®
/
O
E0 b Z
BC
O
O
The morphism
ŒªE,F : MolochpE, Fq √ë pE b Zq#pX b Fq
(1.6)
is then given by the natural projection
MolochpE, Fqk
œÄ√ù√ë Ek¬¥q b Zrqs
for q ƒè k ƒè q ` p, by the composition
MolochpE, Fqk
œÄ√ù√ë E0 b Fk √ë X b Fk
for 0 ƒè k ƒè q ¬¥ 1, and by the identity of X b Xr¬¥1s for k ‚Äú ¬¥1. The morphism
Ã∫E,F : MolochpE, Fq √ë pZ b Fq#pE b Xq
(1.7)
is deÔ¨Åned analogously, that is, by the natural projection
MolochpE, Fqk
œÄ√ù√ë p¬¥1qpk¬¥pZrps b Fk¬¥p
for p ƒè k ƒè p ` q, by the composition
MolochpE, Fqk
œÄ√ù√ë Ek b F0 √ë Ek b X
for 0 ƒè k ƒè p ¬¥ 1, and again by the identity of X b Xr¬¥1s for k ‚Äú ¬¥1.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
9
Exchanging the r√¥les of E and F, we obtain the span
pF b Zq#pX b Eq
ŒªF,E
√ê√ù√ù√ù√ù√ù√ù MolochpF, Eq
Ã∫F,E
√ù√ù√ù√ù√ù√ù√ë pZ b Eq#pF b Xq,
showing that (iii) and (iv) above deÔ¨Åne the same map at the level of Ext groups.
We would also like pZ b Fq#pE b Xq and pF b Zq#pX b Eq to lie in the same
path connected component so that all of the four operations would coincide at
the level of Ext groups. As the two expressions we want to compare only differ
by the order of the factors in the tensor products, a natural requirement to do
in order to have them connected by a morphism in Extp`q
C
pX b X, Z b Zq is to
assume that Z and X are in the (left resp. right) centre of C , that is, come with
natural maps
œÉZ,¬¥ : Z b p¬¥q √ë p¬¥q b Z,
œÑ¬¥,X : p¬¥q b X √ë X b p¬¥q,
the (left resp. right) braidings. With this assumption, we obtain the diagram
pœÉ|œÑqF,E:
Z b Z
œÉZ,Z

/ Z b Fq¬¥1
/
œÉZ,Fq¬¥1

¬® ¬® ¬®
/ Z b F0
/
œÉZ,F0

*
Ep¬¥1 b X
/
œÑEp¬¥1,X

¬® ¬® ¬®
/ E0 b X
/
œÑE0,X

X b X
œÑX,X

Z b X
H
œÉZ,X
%
œÑZ,X
y
X b Z

Z b Z
/ Fq¬¥1 b Z
/ ¬® ¬® ¬®
/ F0 b Z
/
4
X b Ep¬¥1
/ ¬® ¬® ¬®
/ X b E0
/ X b X.
(1.8)
where, thanks to the naturality of the braidings œÉZ,¬¥ and œÑ¬¥,X, everything
commutes except possibly the small diagram in the middle with the two arrows
from Z b X to X b Z. In order to have this part commute as well, we require
œÉZ,X ‚Äú œÑZ,X,
that is, pX, Zq is a commuting pair in the sense of DeÔ¨Ånition A.2. Nevertheless,
even when this is fulÔ¨Ålled and so pœÉ|œÑqF,E is a commutative diagram, we are
not generally done yet: the diagram pœÉ|œÑqF,E does not deÔ¨Åne a morphism in
Extp`q
C
pX b X, Z b Zq, see (1.1), as the left- and rightmost vertical ‚Äúboundary‚Äù
morphisms œÉZ,Z and œÑX,X are generally not the identity morphisms. We are
going to show how to circumvent this problem by introducing a variant of the
above construction in the following section.
1.3. The cup product. Assume now not only that pX, Zq is a commuting pair
in C in the sense of DeÔ¨Ånition A.2, but also that Z be a (braided) commutative
monoid in the braided monoidal category Z ‚ÑìpC q and X a (braided) commuta-
tive monoid in the braided monoidal category Z rpC qop. This allows for a cup
product
Y: Extp
C pX, Zq ÀÜ Extq
C pX, Zq √ë Extp`q
C
pX, Zq
as follows. Let
‚àÜX : X √ë X b X
and
¬µ: Z b Z √ë Z
be the morphisms deÔ¨Åning the (co)monoid structures on X and Z, respectively.
Then, for E in Extp
C pX, Zq and F in Extq
C pX, Zq, the cup product E Y F is deÔ¨Åned

10
DOMENICO FIORENZA AND NIELS KOWALZIG
as
E Y F ‚Äì ¬µ#pE b Zq#pX b Fq#‚àÜX.
Passing to path connected components, this yields a map
Y: Extp
C pX, Zq ÀÜ Extq
C pX, Zq √ë Extp`q
C
pX, Zq.
We already know from the results in ¬ß1.2 that E Y F is connected to
¬µ#pZ b Fq#pE b Xq#‚àÜX
via the span through ¬µ#MolochpE, Fq#‚àÜX. But now there is more: since Z
and X are (braided) commutative monoids in C and in C op, respectively, the
commutative diagrams
X b X
œÑX,X

X
‚àÜX
{‚úá‚úá‚úá‚úá‚úá‚úá‚úá‚úá‚úá
‚àÜX
c‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè
X b X
Z b Z
œÉZ,Z

Z b
¬µ
‚ùã
‚ùã
‚ùã
‚ùã
‚ùã
‚ùã
‚ùã
‚ùã
|
¬µ
‚ë†
‚ë†
‚ë†
‚ë†
‚ë†
‚ë†
‚ë†
‚ë†
‚ë†
Z b Z
precisely cure the issue with the boundary morphisms in (1.8), changing the
boundary morphisms œÉZ,Z and œÑX,X into identity morphisms. Taking the rele-
vant pullbacks and pushouts the diagram (1.8) induces a morphism
ƒÜ
pœÉ|œÑqF,E : ¬µ#pZ b Fq#pE b Xq#‚àÜX
¬µ#pœÉ|œÑqF,E#‚àÜX
√ù√ù√ù√ù√ù√ù√ù√ù√ù√ù√ù√ù√ë ¬µ#pF b Zq#pX b Eq#‚àÜX
in Extp`q
C
pX, Zq.
1.4. The mystic hexagon. With the assumptions of the previous section, we
have a loop in Extp`q
C
pX, Zq given by
¬µ#MolochpE, Fq#‚àÜX
ÀúŒªE,F
v‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß‚ùß
ÀúÃ∫E,F
(‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
‚ùò
E Y F ‚Äú ¬µ#pE b Zq#pX b Fq#‚àÜX
O
ƒå
pœÉ|œÑqE,F
¬µ#pZ b Fq#pE b Xq#‚àÜX
¬µ#pZ b Eq#pF b Xq#‚àÜX
F Y E ‚Äú ¬µ#pF b Zq#pX b Eq#‚àÜX

ƒå
pœÉ|œÑqF,E
¬µ#MolochpF, Eq#‚àÜX
ÀúÃ∫F,E
h‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò‚ùò
ÀúŒªF,E
6‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
‚ùß
(1.9)
where we wrote
ÀúŒªE,F ‚Äì ¬µ#ŒªE,F#‚àÜX
and
ÀúÃ∫E,F ‚Äì ¬µ#Ã∫E,F#‚àÜX,
respectively. Choosing E Y F as a base point, this deÔ¨Ånes an element in the
based loop space ‚Ñ¶EYFExtp`q
C
pX, Zq. Passing to connected components, we ob-
tain a map
t , u: Extp
C pX, Zq ÀÜ Extq
C pX, Zq √ë Extp`q¬¥1
C
pX, Zq.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
11
1.5. Cocycle representatives. It is often convenient to represent an element
E in Extp
C pX, Zq by a cocycle representative œÜ. By this one means the following:
Ô¨Åx a projective resolution PX
Œµ√ù√ë X of the object X and for p ‚Äú 0 consider the
composition
œÜ0 : P X
0 √ë X
E√ù√ë Z,
(1.10)
while for p ƒÖ 0 one considers a chain map œÜ: PX √ë E which is the identity over
X, that is, a commutative diagram of the form
P X
p`1

d
/ P X
p
d
/
œÜp

P X
p¬¥1
d
/
œÜp¬¥1

. . .
d
/ P X
0
Œµ
/
œÜ0

X
/ 0
0
d
/ Z
iE / Ep¬¥1
d
/ . . .
d
/ E0
pE
/ X
/ 0
(1.11)
The chain map œÜ exists and is unique up to homotopy by the projectivity of
PX. Moreover, since PX is a resolution, the datum of the homotopy class of
œÜ is equivalent to the datum of the cohomology class of œÜp in the complex
HomC pPX, Zq. For this reason one usually identiÔ¨Åes p-cocycles with closed ele-
ments in HomC pP X
p , Zq.
Remark 1.3. To get a more uniform presentation, 0-cocycle representatives
will be realised by commutative diagrams as follows:
P X
0
œÜ0

«´
/ X
E

Z
Z
It will be convenient to consider more generally commutative diagrams of
the form
P X
p`1

d
/ P X
p
d
/
œÜp

P X
p¬¥1
d
/
œÜp¬¥1

. . .
d
/ P X
0
Œµ
/
œÜ0

X
f

/ 0
0
d
/ Z
iE / Ep¬¥1
d
/ . . .
d
/ E0
pE
/ X
/ 0
(1.12)
for an arbitrary morphism f : X √ë X. We will call these diagrams f-twisted
cocycle representatives or f-twisted chain maps, or still chain maps over f. In
degree zero, an f-twisted 0-cocycle representative for E will be deÔ¨Åned as a
commutative diagram of the form
P X
0
œÜ0

«´
/ X
EÀùf

Z
Z
(1.13)
Remark 1.4. It is immediate from the deÔ¨Ånition of twisted cocycle representa-
tives that if œÜ: PX √ë E is an f-twisted cocycle representative and Œ≥ : PX √ë PX
is a morphism of chain complexes, then œÜ Àù Œ≥ : PX √ë E is a pf Àù Œ≥¬¥1q-twisted
cocycle representative, where Œ≥¬¥1 : X √ë X is the degree ¬¥1 component of Œ≥; if
œÜ: PX √ë E is an f-twisted cocycle representative and Œ≥ : E √ë F is a morphism
of chain complexes, then Œ≥ ÀùœÜ: PX √ë F is a pŒ≥¬¥1 Àùfq-twisted cocycle representa-
tive, where Œ≥¬¥1 : X √ë X is the degree ¬¥1 component of Œ≥. Another immediate
consequence of the deÔ¨Ånition (and of the additivity of our category C ) is that if
œÜ, œà: PX √ë E are an f-twisted and a g-twisted cocycle representative, respec-
tively, then œÜ ` œà is an pf ` gq-twisted cocycle representative.

12
DOMENICO FIORENZA AND NIELS KOWALZIG
1.6. The cup product in terms of cocycle representatives. If œÜ and œà are
cocycle representatives for E P Extp
C pY, Zq and F P Extq
C pX, Y q, one can easily
write a cocycle representative œÜ#œà for E#F. As for the #-operation on the Ext
spaces, we will need to distinguish four cases. When p and q are zero, E and
F are morphisms from Y to Z and from X to Y , respectively, and their rep-
resentative 0-cocycles are the compositions P Y
0 √ë Y
E√ù√ë Z and P X
0 √ë X
F√ù√ë Y ,
respectively. In this case, œÜ#œà is simply the composition
P X
0 √ë X
F√ù√ë Y
E√ù√ë Z.
When p ƒÖ 0 and q ‚Äú 0, one considers the commutative diagram
P X
p`1
/
Œ∂p`1

P X
p
/
Œ∂p

P X
p¬¥1
/
Œ∂p¬¥1

¬® ¬® ¬®
/ P X
1
/
Œ∂1

P X
0
$
Œ∂0

P X
0
/
œà0

/ X
F

/ 0
P Y
p`1
/

P Y
p
/
œÜp

P Y
p¬¥1
/
œÜp¬¥1

¬® ¬® ¬®
/ P Y
1
/
œÜ1

P Y
0
œÜ0

/ Y
Y
/ 0
0
/ Z
/ Ep¬¥1
/ ¬® ¬® ¬®
/ E1
// E0
/
:
Y
Y
/ 0
where the top vertical arrows are deÔ¨Åned by the projectivity of PX. By the
universal property of the pullback, we obtain a commutative diagram
P X
p`1
/

P X
p
/
pœÜ#œàqp

P X
p¬¥1
/
pœÜ#œàqp¬¥1

¬® ¬® ¬®
/ P X
1
/
pœÜ#œàq1

P X
0
Œµ
/
pœÜ#œàq0

X
/ 0
0
/

Z
/ Ep¬¥1
/ ¬® ¬® ¬®
/ E1
pd,0q / E0pEÀÜF
Y X
/

X
F

/ 0
0
/ Z
/ Ep¬¥1
/ ¬® ¬® ¬®
/ E1
/ E0
/ Y
/ 0
whose top part exhibits a cocycle representative œÜ#œà for E#F. Notice that for
every i ƒÖ 0 one has pœÜ#œàqi ‚Äú œÜi Àù Œ∂i, while for i ‚Äú 0 that pœÜ#œàq0 is the lift of
œÜ0 Àù Œ∂0 to the Ô¨Åbre product E0pEÀÜF
Y X, that is, pœÜ0 Àù Œ∂0, Œµq. Similarly, and more
directly, when p ‚Äú 0 and q ƒÖ 0, one considers the commutative diagram
P X
q`1
/
Œ∂1

P X
q
'
Œ∂0

P X
q
/
œàq

P X
q¬¥1
œàq¬¥1

/ ¬® ¬® ¬®
/ P X
1
/
œà1

P X
0
/
œà0

X
/ 0
P Y
1

/ P Y
0
/
œÜ0

Y
E

/ Fq¬¥1
/

¬® ¬® ¬®
/ F1
/ F0
/ X
/ 0
0
/ Z
7
Z
/ Z \Y Fq¬¥1
/ ¬® ¬® ¬®
/ F1
/ F0
/ X
/ 0
whose composite vertical arrows are a cocycle representative œÜ#œà for E#F. In
degrees from 0 to q ¬¥ 2, one has pœÜ#œàqi ‚Äú œài, whereas in degree q ¬¥ 1 one sees
that pœÜ#œàqq¬¥1 is the class of p0, œàq¬¥1q in the quotient of Z ‚Äò Fq¬¥1 by the image
of Y , and in the top degree q, one has pœÜ#œàqq ‚Äú œÜ0 Àù Œ∂0 ‚Äú E Àù œàq.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
13
Finally, in case p, q ƒÖ 0, one uses the projectivity of PX to deÔ¨Åne the maps
Œ∂i : P X
i`q √ë P Y
i , making the diagram
P X
p`q
Œ∂p

/ P X
p`q¬¥1
/
Œ∂p¬¥1

¬® ¬® ¬®
/ P X
q
&
Œ∂0

P X
q
œàq

/ P X
q¬¥1
/
œàq¬¥1

¬® ¬® ¬®
/ P X
0
œà0

/ X
P Y
p
œÜp

/ P Y
p¬¥1
/
œÜp¬¥1

¬® ¬® ¬®
/ P Y
0
œÜ0

/ Y
/ Fq¬¥1
/ ¬® ¬® ¬®
/ F0
/ X
Z
/ Ep¬¥1
/ ¬® ¬® ¬®
/ E0
/
9
Y
/ Fq¬¥1
/ ¬® ¬® ¬®
/ F0
/ X
commute. Since the cup product is a composition of #-products, the above rules
yield, in particular, an expression for a cocycle representative œÜ Y œà for the
product E Y F, given cocycle representatives œÜ and œà for E and F, respectively.
Remark 1.5. By verbatim repeating the above construction of the case p ƒÖ 0
and q ‚Äú 0, one sees that if œÜ is an f-twisted cocycle representative for F and œà0
a cocycle representative for a morphism F: X √ë Y , then
P X
p`1
/

P X
p
/
pœÜ#œàqp

P X
p¬¥1
/
pœÜ#œàqp¬¥1

¬® ¬® ¬®
/ P X
1
/
pœÜ#œàq1

P X
0
Œµ
/
pœÜ#œàq0

X
/ 0
0
/ Z
/ Ep¬¥1
/ ¬® ¬® ¬®
/ E1
pd,0q / E0pEÀÜfÀùF
Y
X
/ X
/ 0
is a cocycle representative for E#pf Àù Fq, where pœÜ#œàq0 ‚Äú pœÜ0 Àù Œ∂0, Œµq and
pœÜ#œàqi ‚Äú œÜi Àù Œ∂i for every i ƒÖ 0.
1.7. The bracket t , u in terms of cocycle representatives. Let œÜ and œà be
two cocycle representatives for rEs P Extp
C pX, Zq and rFs P Extq
C pX, Zq, respec-
tively, and as before assume that pX, Zq is a commuting pair in the sense of
DeÔ¨Ånition A.2, where X is a (braided) commutative monoid in Z rpU-Modqop
and Z a (braided) commutative monoid in Z ‚ÑìpU-Modq.
In order to associate with œÜ and œà a cocycle representative tœÜ, œàu represent-
ing the element
trEs, rFsu P Extp`q¬¥1
C
pX, Zq ‚Äú œÄ1Extp`q
C
pX, Zq,
deÔ¨Åned by the loop (1.9) based at E Y F, one applies the following procedure.
For any n ƒõ 0, one considers the (higher) categories ƒÑ
Extn
C pX, Zq, whose objects
are pairs pG, œïq, where G is an object in Extn
C pX, Zq and œï: PX √ë G is a cocycle
representing G. Morphisms between pG1, œï1q and pG2, œï2q are pairs pf, hq con-
sisting of a morphism f : G1 √ë G2 in Extn
C pX, Zq and of a homotopy h between
f Àùœï1 and œï2, that is, a degree ¬¥1 map h: PX √ë G2 such that rd, hs ‚Äú œï2 ¬¥f Àùœï1.
Higher morphisms are deÔ¨Åned recursively in a similar way. One has a natural
forgetful functor
ƒÑ
Extn
C pX, Zq √ë Extn
C pX, Zq
whose Ô¨Åbre at the point G is the hom space HomExtn
C pX,ZqpPX, Gq. Since PX is a
resolution of X, it is in particular an acyclic complex and so this hom space is
contractible. Therefore, the projection ƒÑ
Extn
C pX, Zq √ë Extn
C pX, Zq is a homotopy
equivalence and one can read the homotopy groups of Extn
C pX, Zq in terms of
the homotopy groups of ƒÑ
Extn
C pX, Zq. Moreover, ƒÑ
Extn
C pX, Zq √ë Extn
C pX, Zq is
a Ô¨Çat Ô¨Åbration: every path in Extn
C pX, Zq has a canonical horizontal lift in
ƒÑ
Extn
C pA, Zq, once a lift for the starting point is chosen: if pG1, œï1q is a point in

14
DOMENICO FIORENZA AND NIELS KOWALZIG
the Ô¨Åbre over G1 and f : G1 √ë G2 a morphism in Extn
C pX, Zq, then we have the
canonical lift
pf, 0q: pG1, œï1q √ë pG2, f Àù œï1q.
This gives a way to encode a loop Œ≥ in Extn
C pX, Zq based at a point G into a
homotopy operator, i.e., a degree ¬¥1 map hŒ≥ : PX √ë G, once a representative
cocycle PX √ë G for G is chosen: one horizontally lifts the loop to a path in
ƒÑ
Extn
C pX, Zq with starting point pG, œïq. The Ô¨Ånal point of this path will be a
point pG, Àúœïq and, since they both represent the same element rGs in Extn
C pX, Zq,
the two cocycle representatives œï and Àúœï will be homotopic via a degree ¬¥1 map
hŒ≥ : PX √ë G, which is unique up to higher homotopies. The homotopy class
rhŒ≥s is the element in Extn¬¥1
C
pX, Zq representing the loop Œ≥.
We now apply this abstract nonsense to the loop (1.9). Starting with two
cocycle representatives œÜ and œà for E and F, respectively, one can form a repre-
sentative cocycle œÜ Y œà for E Y F and exhibit a representative cocycle
œÜ ÀúYb œà: PX √ë ¬µ#MolochpE, Fq#‚àÜX
for ¬µ#MolochpE, Fq#‚àÜX such that œÜ Y œà ‚Äú ÀúŒªE,F Àù pœÜ ÀúYb œàq. The Ô¨Årst step in
the horizontal lift of the loop consists in lifting ÀúŒªE,F. This is immediate: the
horizontal lift is
`
¬µ#MolochpE, Fq#‚àÜX, œÜ ÀúYb œà
Àò pÀúŒªE,F,0q
√ù√ù√ù√ù√ù√ë
`
E Y F, œÜ Y œà
Àò
.
Also the subsequent horizontal lift of ƒÜ
pœÉ|œÑqF,E Àù ÀúÃ∫E,F is immediate: it is
`
¬µ#MolochpE, Fq#‚àÜX, œÜ ÀúYb œà
Àò
`
ƒå
pœÉ|œÑqF,EÀùÀúÃ∫E,F,0
Àò
√ù√ù√ù√ù√ù√ù√ù√ù√ù√ù√ù√ë
`
F Y E, ƒÜ
pœÉ|œÑqF,E Àù ÀúÃ∫E,F Àù pœÜ ÀúYb œàq
Àò
.
The next step is less trivial: one has to horizontally lift ÀúŒªF,E in such a way that
its endpoint matches the endpoint of
` ƒÜ
pœÉ|œÑqF,E Àù ÀúÃ∫E,F, 0
Àò
. That is, one has to Ô¨Ånd
a cocycle representative ÀúŒ∫œÜ,œà for ¬µ#MolochpF, Eq#‚àÜX such that
ÀúŒªF,E Àù ÀúŒ∫œÜ,œà ‚Äú ƒÜ
pœÉ|œÑqF,E Àù ÀúÃ∫E,F Àù pœÜ ÀúYb œàq.
Writing ÀúŒ∫œÜ,œà ‚Äú œà ÀúYb œÜ ` Àú«´œÜ,œà, this becomes the equation
ÀúŒªF,E Àù pœà ÀúYb œÜ ` Àú«´œÜ,œàq ‚Äú ƒÜ
pœÉ|œÑqF,E Àù ÀúÃ∫E,F Àù pœÜ ÀúYb œàq.
Assuming one has been able (or lucky) enough to Ô¨Ånd an Àú«´ solving this equa-
tion, then one has the immediate horizontal lift
`
¬µ#MolochpF, Eq#‚àÜX, œà ÀúYb œÜ`Àú«´œÜ,œà
Àò
`
ƒå
pœÉ|œÑqE,FÀùÀúÃ∫F,E,0
Àò
√ù√ù√ù√ù√ù√ù√ù√ù√ù√ù√ù√ë
`
EYF, ƒÜ
pœÉ|œÑqE,FÀùÀúÃ∫F,Epœà ÀúYb œÜ`Àú«´œÜ,œàq
Àò
.
This concludes the procedure of horizontally lifting the loop based at E Y F, so
the corresponding element tœÜ, œàu in Extp`q¬¥1
C
pX, Zq is represented by a homo-
topy ÀúspœÜ, œàq between ƒÜ
pœÉ|œÑqE,F Àù ÀúÃ∫F,Epœà ÀúYb œÜ ` Àú«´œÜ,œàq and ÀúŒªE,F Àù pœÜ ÀúYb œàq, taken up to
higher homotopies. Writing
ÀúŒ∑pœÜ, œàq ‚Äú ÀúŒªE,FpœÜ ÀúYb œàq ¬¥ ƒÜ
pœÉ|œÑqE,F Àù ÀúÃ∫F,Epœà ÀúYb œÜ ` Àú«´œÜ,œàq,
one therefore sees that the element tœÜ, œàu is represented by the homotopy class
of a solution ÀúspœÜ, œàq of the equation ÀúŒ∑pœÜ, œàq ‚Äú rd, ÀúspœÜ, œàqs, that is, by the coho-
mology class of the closed element Àúsp`q¬¥1pœÜ, œàq in HomC pP X
p`q¬¥1, Zq.
To explicitly compute the element Àúsp`q¬¥1pœÜ, œàq, one can argue as follows. If
Œ± is a cocycle representative for an object H in Extp`q
C
pX b X, Z b Zq, then by

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
15
the constructions from ¬ß1.6 one writes an explicit formula for a cocycle repre-
sentative ÀúŒ± for the object G ‚Äú ¬µ#H#‚àÜX in Extp`q
C
pX, Zq, which can be straight-
forwardly extended to arbitrary collections of maps
‚ê£
Œ≤k : P XbX
k
√ë Hk
(
0ƒèkƒèp`q
and
‚ê£
ŒΩk : P XbX
k
√ë Hk`1
(
0ƒèkƒèp`q¬¥1.
Doing this, one obtains a graded linear map
Œ¶‚Äö :
r√Ä
k‚Äú¬¥1
HomC pP XbX
k
, Hkq √ë
r√Ä
k‚Äú¬¥1
HomC pP X
k , Gkq.
Looking at the explicit expression for Œ¶, it is rather easy to deÔ¨Åne a graded
linear map
Œ®‚Äö :
r¬¥1
√Ä
k‚Äú¬¥1
HomC pP XbX
k
, Hk`1q √ë
r¬¥1
√Ä
k‚Äú¬¥1
HomC pP X
k , Gk`1q
such that
Œ¶ Àù rd, ¬¥s ‚Äú rd, ¬¥s Àù Œ®.
Writing
Œ∑pœÜ, œàq ‚Äú ŒªE,F
`
pœÜ Yb œàq Àù œÑ
Àò
¬¥ pœÉ|œÑqE,F Àù Ã∫F,E
`
pœà Yb œÜ ` «´œÜ,œà
Àò
,
where œÜ Yb œà is a œÑ-twisted cocycle representative for MolochpE, Fq, the map
œàYb œÜ is a œÑ-twisted cocycle representative for MolochpF, Eq, and «´pœÜ, œàq ‚Äú «´œÜ,œà
is a 0-twisted cocycle representative for MolochpF, Eq, then Œ¶pŒ∑pœÜ, œàqq ‚Äú ÀúŒ∑pœÜ, œàq
and the deÔ¨Åning equation ÀúŒ∑pœÜ, œàq ‚Äú rd, ÀúspœÜ, œàqs for ÀúspœÜ, œàq reduces to
Œ¶pŒ∑pœÜ, œàqq ‚Äú rd, ÀúspœÜ, œàqs.
If spœÜ, œàq P √Äp`q¬¥1
k‚Äú¬¥1 HomC pP XbX
k
, ppE b Zq#pX b Fqqk`1q is tailored in such a
way that Œ¶prd, spœÜ, œàqsq ‚Äú Œ¶pŒ∑pœÜ, œàqq, then one can take ÀúspœÜ, œàq ‚Äú Œ®pspœÜ, œàqq,
and deduces that tœÜ, œàu is explicitly represented by the cohomology class of the
closed element Œ®p`q¬¥1psp`q¬¥1pœÜ, œàqq in HomC pP X
p`q¬¥1, Zq.
In the next section, we will explicitly apply what we just developed.
2. AN EXPLICIT APPROACH FOR BIALGEBROIDS
In this section, we shall describe how the aforementioned theory for exten-
sion categories can be made explicit in case of the category of left modules over
a left bialgebroid, endowing the corresponding Ext groups with a Gerstenhaber
algebra structure. To this end, a short account on bialgebroids pU, Aq and on
the respective notions of left and right weak centre in relation to (the categories
of) Yetter-Drinfel‚Äôd modules can be found in Appendix ¬ßA.2.
The main goal in the Ô¨Ånal part of this section (¬ß2.7) will be to see that
ExtUpX, Zq is a Gerstenhaber algebra if pX, Zq is a commuting pair in the sense
of DeÔ¨Ånition A.2. There, the explicit proof works along standard lines, that is,
one shows that the explicit cochain complex HomUpBarnpU, Xq, Zq computing
ExtUpX, Zq is an operad with multiplication, with the bedevilling difference
that the operadic composition is somewhat complicated and not deÔ¨Åning any
endomorphism operad structure.
2.1. Ext groups and extension categories over bialgebroid modules.
Let pU, Aq be a left bialgebroid. For simplicity, we will always and tacitly as-
sume that ≈ªU≈Ω is left-right projective over A, that is, projective with respect to
both the left A-action ≈ª and the right A-action ≈Ω, see (A.1) for notation.
Let U-Mod be the monoidal category of left U-modules. In generalising
Schwede‚Äôs approach from the Hochschild case of associative algebras to bialge-
broids, that is, in passing from Ae-Mod to U-Mod, we are facing the same kind
of problems with respect to the exactness of the monoidal category in question.

16
DOMENICO FIORENZA AND NIELS KOWALZIG
More precisely, the tensor product E bA F of two extensions in U-Mod is in
general not exact but it is so if E and F are taken in the full subcategory ExtU
of the extension category ExtU that consists of those extensions in which all
U-modules are left-right projective over A. One can then generalise Lemma
2.1 in [Schw] in a straightforward way and show that the inclusion of ExtU
into ExtU induces a homotopy equivalence on classifying spaces. We omit the
technical details here but feel therefore entitled to not explicitly distinguish
between ExtU and ExtU in what follows.
As expounded in Appendix ¬ßA.2, a standard result [Sch, Prop. 4.4] estab-
lishes an equivalence of braided monoidal categories between the left weak
centre Z ‚ÑìpU-Modq and
U
UYD, the category of left-left Yetter-Drinfel‚Äôd mod-
ules; likewise between Z rpU-Modq and UYDU, the category of left-right Yetter-
Drinfel‚Äôd modules. In the former case, this is done by assigning to any Z P U
UYD
the underlying left module Z P U-Mod along with what we might call a left
braiding
œÉ ‚Äú œÉZ,M : Z bA M √ë M bA Z,
z bA m √û√ë zp¬¥1qm bA zp0q
(2.1)
for any M P U-Mod, to form an object pZ, œÉq in Z ‚ÑìpU-Modq. Likewise, assign
to any X P Z rpU-Modq its underlying left module X P U-Mod along with the
right braiding
œÑ ‚Äú œÑM,Z : M bA X √ë X bA M,
m bA x √û√ë xr0s bA xr1sm
(2.2)
for any M P U-Mod, to give an object pX, œÑq in Z rpU-Modq, see Appendix A
for more details and all notation used in what follows.
A cochain complex computing Ext
‚Äö
UpX, Zq is given by
`
C‚ÄöpU, X, Zq, Œ¥
Àò
, where
CnpU, X, Zq ‚Äì HomUpBarnpU, Xq, Zq,
(2.3)
and
BarnpU, Xq ‚Äì p¬ßU≈Ω qbAop n`1 bAop X≈Ω ,
with Bar¬¥1pU, Xq ‚Äì X, is the bar resolution of the left U-module X, seen as
a right A-module X≈Ω as in (A.3), with differential d ‚Äú ≈ôn
i‚Äú0p¬¥1qidi induced by
the multiplication in U in the Ô¨Årst n ¬¥ 1 faces di and the left U-action
L: Bar0pU, Xq ‚Äú ¬ßU bAop X≈Ω √ë X ‚Äú Bar¬¥1pU, Xq,
u bAop x √û√ë ux
(2.4)
on X that induces the last face map dn. In a standard fashion, we then simply
have Œ¥ ‚Äì dÀö. Observe that the tensor product used in the bar resolution is not
the monoidal one (A.4) of U-Mod (in which factorwise multiplication would not
be deÔ¨Åned), but rather BarnpU, Xq P U-Mod by left multiplication on the Ô¨Årst
tensor factor.
The Hochschild case for an associative k-algebra A and hence Schwede‚Äôs
construction in [Schw] is reobtained by setting U ‚Äú Ae as well as X ‚Äú Z ‚Äú A
in what follows.
To connect the context of a left bialgebroid to our general observations in
¬ß1, let us write down in detail what the concrete setting is here: for two exten-
sions E in Extp
UpX, Zq and F in Extq
UpX, Zq, respectively, consider chain maps
œÜ: BarpU, Xq √ë E and œà: BarpU, Xq √ë F over the identity of X. With respect to
the bar resolution, Diagram (1.11) then takes the form
0
d
/ BarppU, Xq
d
/
œÜp

Barp¬¥1pU, Xq
d
/
œÜp¬¥1

. . .
d
/ Bar0pU, Xq
L
/
œÜ0

X
/ 0
0
d
/ Z
iE
/ Ep¬¥1
d
/ . . .
d
/ E0
pE
/ X
/ 0
(2.5)
where L is the left U-action on X as in (2.4); likewise for œà and F.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
17
Observe that with respect to the differential Œ¥ ‚Äú dÀö of the cochain complex
CnpU, X, Zq from (2.3), the commutativity of this diagram can be expressed as
iE Àù œÜp ‚Äú œÜp¬¥1 Àù d ‚Äú Œ¥œÜp¬¥1,
d Àù œÜj ‚Äú œÜj¬¥1 Àù d ‚Äú Œ¥œÜj¬¥1,
(2.6)
for j ‚Äú 1, . . . , p¬¥1, and likewise for œà. In particular, the Ô¨Årst square in Diagram
(2.5) implies that
œÜp Àù d ‚Äú Œ¥œÜp ‚Äú 0,
(2.7)
that is, œÜp is a cocycle (and likewise for œàq), whereas the last square reads
pE Àù œÜ0 ‚Äú L.
(2.8)
2.2. The external cup product. As above, let pZ, œÉq be an object in the left
weak centre Z ‚ÑìpU-Modq ¬ª U
UYD and pX, œÑq an object in the right weak centre
Z rpU-Modq ¬ª UYDU, and consider again two extensions
E: 0 √ë Z
iE
√ù√ë Ep¬¥1
d√ù√ë . . . d√ù√ë E0
pE
√ù√ë X √ë 0,
F: 0 √ë Z
iF
√ù√ë Fq¬¥1
d√ù√ë . . . d√ù√ë F0
pF
√ù√ë X √ë 0,
of U-modules, along with two families of morphisms œÜj P CjpU, X, Ejq for j ‚Äú
0, . . . , p and œài P CipU, X, Fiq for i ‚Äú 0, . . . , q as in Diagram 2.5.
For these, one can deÔ¨Åne a sort of 1-product, or external cup product
Yb : CjpU, X, Ejq b CipU, X, Fiq √ë Cj`ipU, X bA X, Ej bA Fiq
for i ‚Äú 1, . . . , p and j ‚Äú 1, . . . , q, by deÔ¨Åning
pœÜj Yb œàiqpu0, . . . , uj`i, m bA m1q
‚Äì œÜj
`
u0
p1q, . . . , uj
p1q, puj`1
p2q ¬® ¬® ¬® uj`i
p2q m1qr0s
Àò
bA œài
`
u0
p2q ¬® ¬® ¬® uj
p2qpuj`1
p2q ¬® ¬® ¬® uj`i
p2q m1qr1s, uj`1
p1q , . . . , uj`i
p1q , m
Àò
,
(2.9)
where the Sweedler notation in square brackets refers to the right U-coaction
on X, see ¬ßA.2.4 for notational details.
Remark 2.1. Observe that
Cj`ipU, X bA X, Ej bA Fiq ƒÇ Cj`i`
U, X bA X, MolochpE, Fq
Àò
for i, j ƒõ 0, so we may regard Yb as a map into the latter. In other words,
given two chain maps œÜ and œà as above, the operation Yb deÔ¨Ånes a collection
of linear morphisms
pœÜ Yb œàqk : BarkpU, X bA Xq √ë MolochpE, Fqk,
k ƒõ 0,
which we extend to degree ¬¥1 by setting pœÜ Yb œàq¬¥1 ‚Äì œÑ : X bA X √ë X bA X.
Remark 2.2. By functoriality of the tensor product and the (left-right) YD
condition (A.6), it is not difÔ¨Åcult to see that the map œÑ‚Äö : Bar‚ÄöpU, X bA Xq √ë
Bar‚ÄöpU, X bA Xq is a morphism of complexes, where œÑ¬¥1 ‚Äú œÑ.
Lemma 2.3. Let œÜj P CjpU, X, Ejq and œài P CipU, X, Zq and as before let Œ¥ ‚Äú dÀö
be the pullback of the differential of the bar resolution. Then Œ¥ is a derivation
of the external cup product (2.9), that is, the graded Leibniz rule
Œ¥pœÜj Yb œàiq ‚Äú Œ¥œÜj Yb œài ` p¬¥1qjœÜj Yb Œ¥œài
(2.10)
holds for any i, j ƒõ 0.

18
DOMENICO FIORENZA AND NIELS KOWALZIG
Proof. This is a direct veriÔ¨Åcation using (2.9), the explicit form of the differen-
tial in the bar resolution as described below (2.3), the fact that the coproduct
is a ring morphism, along with the monoidal structure (A.4) in U-Mod and X
as an object in the weak right centre of U-Mod, that is, that the (left-right) YD
condition (A.6) is true. Indeed, one has
`
Œ¥pœÜj Yb œàiq
Àò
pu0, . . . , uj`i`1, m bA m1q ‚Äú pœÜj Yb œàiq
`
dpu0, . . . , uj`i`1, m bA m1q
Àò
‚Äú
j`i
≈ô
k‚Äú0
p¬¥1qkpœÜj Yb œàiqpu0, . . . , ukuk`1, . . . , uj`i`1, m bA m1q
` p¬¥1qj`i`1pœÜj Yb œàiqpu0, . . . , uj`i, uj`i`1
p1q
m bA uj`i`1
p2q
m1q
‚Äú
j≈ô
k‚Äú0
p¬¥1qkœÜj
`
u0
p1q, . . . , uk
p1quk`1
p1q , . . . , uj`1
p1q , puj`2
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr0s
Àò
bA œài
`
u0
p2q ¬® ¬® ¬® uk
p2quk`1
p2q ¬® ¬® ¬® uj`1
p2q puj`2
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr1s, uj`2
p1q , . . . , uj`i`1
p1q
, m
Àò
`
j`i
≈ô
k‚Äúj`1
p¬¥1qkœÜj
`
u0
p1q, . . . , uj
p1q, puj`1
p2q ¬® ¬® ¬® uk
p2quk`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr0s
Àò
bA œài
`
u0
p2q ¬® ¬® ¬® uj
p2qpuj`1
p2q ¬® ¬® ¬® uk
p2quk`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr1s, uj`1
p1q , . . . , uk
p1quk`1
p1q . . . , uj`i`1
p1q
, m
Àò
` p¬¥1qj`i`1œÜj
`
u0
p1q, . . . , uj
p1q, puj`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr0s
Àò
bA œài
`
u0
p2q ¬® ¬® ¬® uj
p2qpuj`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr1s, uj`1
p1q , . . . , uj`i
p1q , uj`i`1
p1q
m
Àò
On the other hand,
pŒ¥œÜj Yb œàiqpu0, . . . , uj`i`1, m bA m1q
‚Äú Œ¥œÜj
`
u0
p1q, . . . , uj`1
p1q , puj`2
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr0s
Àò
bA œài
`
u0
p2q ¬® ¬® ¬® uj`1
p2q puj`2
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr1s, uj`2
p1q , . . . , uj`i`1
p1q
, m
Àò
‚Äú
j≈ô
k‚Äú0
p¬¥1qkœÜj
`
u0
p1q, . . . , uk
p1quk`1
p1q , . . . , uj`1
p1q , puj`2
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr0s
Àò
bA œài
`
u0
p2q ¬® ¬® ¬® uj`1
p2q puj`2
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr1s, uj`2
p1q , . . . , uj`i`1
p1q
, m
Àò
` p¬¥1qj`1œÜj
`
u0
p1q, . . . , uj
p1q, uj`1
p1q puj`2
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr0s
Àò
bA œài
`
u0
p2q ¬® ¬® ¬® uj`1
p2q puj`2
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr1s, uj`2
p1q , . . . , uj`i`1
p1q
, m
Àò
‚Äú
j≈ô
k‚Äú0
p¬¥1qkœÜj
`
u0
p1q, . . . , uk
p1quk`1
p1q , . . . , uj`1
p1q , puj`2
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr0s
Àò
bA œài
`
u0
p2q ¬® ¬® ¬® uk
p2quk`1
p2q ¬® ¬® ¬® uj`1
p2q puj`2
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr1s, uj`2
p1q , . . . , uj`i`1
p1q
, m
Àò
` p¬¥1qj`1œÜj
`
u0
p1q, . . . , uj
p1q, puj`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr0s
Àò
bA œài
`
u0
p2q ¬® ¬® ¬® uj
p2qpuj`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr1suj`1
p1q , uj`2
p1q , . . . , uj`i`1
p1q
, m
Àò
,
where the Yetter-Drinfel‚Äôd condition (A.6) was used in the last step for the last
summand. Moreover,
p¬¥1qjpœÜj Yb Œ¥œàiqpu0, . . . , uj`i`1, m bA m1q
‚Äú p¬¥1qjœÜj
`
u0
p1q, . . . , uj
p1q, puj`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr0s
Àò
bA Œ¥œài
`
u0
p2q ¬® ¬® ¬® uj
p2qpuj`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr1s, uj`1
p1q , . . . , uj`i`1
p1q
, m
Àò
‚Äú p¬¥1qjœÜj
`
u0
p1q, . . . , uj
p1q, puj`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr0s
Àò
bA œài
`
u0
p2q ¬® ¬® ¬® uj
p2qpuj`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr1suj`1
p1q , uj`2
p1q . . . , uj`i`1
p1q
, m
Àò
`
i≈ô
k‚Äú1
p¬¥1qk`jœÜj
`
u0
p1q, . . . , uj
p1q, puj`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr0s
Àò
bA œài
`
u0
p2q ¬® ¬® ¬® uj
p2qpuj`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr1s, uj`1
p1q , . . . , uk`j
p1q uk`j`1
p1q
, . . . , uj`i`1
p1q
, m
Àò
` p¬¥1qj`i`1œÜj
`
u0
p1q, . . . , uj
p1q, puj`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr0s
Àò
bA œài
`
u0
p2q ¬® ¬® ¬® uj
p2qpuj`1
p2q ¬® ¬® ¬® uj`i`1
p2q
m1qr1s, uj`1
p1q , . . . , uk`j`1
p1q
, uj`i`1
p1q
m
Àò
.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
19
By reindexing the second sum right above and subsequently comparing the
three explicit expressions just obtained for Œ¥pœÜj Yb œàiq, as well as Œ¥œÜj Yb œài and
p¬¥1qjœÜj Yb Œ¥œài, one conÔ¨Årms that Eq. (2.10) is true.
‚ñ°
2.3. A cocycle representative for the cup product. We now have the tech-
nical prerequisites to explicitly illustrate the path indicated in ¬ß1.7. As a start,
we need to prove:
Lemma 2.4. If œÜ: BarpU, Xq √ë E and œà: BarpU, Xq √ë F are chain maps as
above, then the collection of maps pœÜYb œàqk : BarkpU, X bA Xq √ë MolochpE, Fqk
from Remark 2.1 induced by the external cup product (2.9) deÔ¨Ånes a œÑ-twisted
cocycle representative œÜ Yb œà: BarpU, X bA Xq √ë MolochpE, Fq.
Proof. This is a direct consequence of Lemma 2.3 and the Leibniz rule (2.10):
to start with, let us prove, for k ‚Äú 1, . . . , p ` q, that the diagram
BarkpU, X bA Xq
d
/
≈ô
j`i‚Äúk
pœÜj Yb œàiq

Bark¬¥1pU, X bA Xq
≈ô
j`i‚Äúk¬¥1
pœÜj Yb œàiq

√Ä
j`i‚Äúk
Ej bA Fi
d
/
√Ä
j`i‚Äúk¬¥1
Ej bA Fi
commutes, where i, j ƒõ 0. Indeed, by means of (2.6), one has
d Àù
` ≈ô
j`i‚Äúk
œÜj Yb œài
Àò
‚Äú
≈ô
j`i‚Äúk
`
pd Àù œÜjq Yb œài ` p¬¥1qjœÜj Yb pd Àù œàiq
Àò
‚Äú
≈ô
j`i‚Äúk
`
Œ¥œÜj¬¥1 Yb œài ` p¬¥1qjœÜj Yb Œ¥œài¬¥1
Àò
.
On the other hand, using the Leibniz rule (2.10), we compute
` ≈ô
j`i‚Äúk¬¥1
œÜj Yb œài
Àò
Àù d ‚Äú
≈ô
j`i‚Äúk¬¥1
Œ¥
`
œÜj Yb œài
Àò
‚Äú
≈ô
j`i‚Äúk¬¥1
`
Œ¥œÜj Yb œài ` p¬¥1qjœÜj Yb Œ¥œài
Àò
‚Äú
≈ô
j`i‚Äúk
Œ¥œÜj¬¥1 Yb œài ` p¬¥1qj
≈ô
j`i‚Äúk
œÜj Yb Œ¥œài¬¥1,
which proves the commutativity of the diagram above; for k ƒÖ p or k ƒÖ q, this
also needs the cocycle condition (2.7). In lowest degree, i.e., for k ‚Äú 0, we obtain
the diagram
Bar0pU, X bA Xq
L
/
œÜ0 Yb œà0

X bA X
œÑ

E0 bA F0
pEbApF / X bA X
where œÑ is the braiding as in (2.2). By virtue of (2.8), this reduces to the claim
L Yb L ‚Äú œÑ Àù L. Indeed, with (2.9) and the (left-right) YD condition (A.6), we
directly have
pL Yb Lqpu0, m bA m1q ‚Äú Lpu0
p1q, m1
r0sq bA Lpu0
p2qm1
r1s, mq ‚Äú u0
p1qm1
r0s bA u0
p2qm1
r1sm
‚Äú pu0
p2qm1qr0s bA pu0
p2qm1qr1su0
p1qm
‚Äú œÑpu0
p1qm bA u0
p2qm1q
‚Äú pœÑ Àù Lqpu0, m bA m1q,
using the monoidal structure (A.4) in the last step.
‚ñ°

20
DOMENICO FIORENZA AND NIELS KOWALZIG
Remark 2.5. For the external cup product of two 0-cocycle representatives
E: X √ë Z resp. F: X √ë Z, the statement of Lemma 2.4 amounts to the com-
mutativity of
Bar0pU, X bA Xq
L
/
œÜ0 Yb œà0

X bA X
œÑ

Z bA Z
X bA X
EbAF
o
which again is a consequence of the YD condition (A.6), where œÜ0 ‚Äú E Àù L resp.
œà0 ‚Äú F Àù L are as in (1.10). Equivalently, this is the commutativity of
Bar0pU, X bA Xq
L
/
œÜ0 Yb œà0

X bA X
pEbAFqÀùœÑ

Z bA Z
Z bA Z
expressing that œÜ0 Yb œà0 is a œÑ-twisted 0-cocycle representative, see Eq. (1.13).
Corollary 2.6. Let ŒªE,F : MolochpE, Fq √ë pE bA Zq#pX bA Fq be the morphism
of complexes from Eq. (1.6). Then
ŒªE,FpœÜ Yb œàq Àù œÑ‚Äö : BarpU, X bA Xq √ë pE bA Zq#pX bA Fq
is a œÑ 2-twisted cocycle representative.
Proof. Immediate from Lemma 2.4 and Remark 1.4.
‚ñ°
Assuming from now on that X is a comonoid in Z rpU-Modq with comulti-
plication ‚àÜX : X √ë X bAX and Z a monoid in Z ‚ÑìpU-Modq with multiplication
¬µ: Z bA Z √ë Z, our next step consists in giving explicit formul√¶ for a cocycle
representative for the object ¬µ#H#‚àÜX in Ext‚Äö
UpX, Zq, starting from a cocycle
representative Œæ for an object H in Ext‚Äö
UpX bA X, Z bA Zq.
Lemma 2.7. Let pZ, ¬µq be a monoid in Z ‚ÑìpU-Modq and pX, ‚àÜXq a comonoid in
Z rpU-Modq, let H P Extr
UpXbAX, ZbAZq, and Œæ : BarpU, XbAXq √ë H be a co-
cycle representative for H. Then a cocycle representative for ¬µ#H#‚àÜX is given by
ÀúŒæk ‚Äì
$
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
&
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
%
idX
for
k ‚Äú ¬¥1,
`
Œæ0 Àù pid bAop ‚àÜXq, L
Àò
for
k ‚Äú 0,
Œæk Àù pidk`1 bAop ‚àÜXq
for
1 ƒè k ƒè r ¬¥ 2,
`
0, Œær¬¥1 Àù pidr bAop ‚àÜXq
Àò
for
k ‚Äú r ¬¥ 1,
¬µ Àù Œær Àù pidr`1 bAop ‚àÜXq
for
k ‚Äú r,
where p , q indicates the projection onto the quotient Z \Hr¬¥1 √ë Z \ZbAZ Hr¬¥1,
and where we abbreviated idk ‚Äì idbAop k
U
.
Proof. We start by computing a cocycle representative for H#‚àÜX, using the bar
resolutions for X and X bA X, respectively. Following the general prescription
in ¬ß1.6, we are to consider the commutative diagram
Barr`1pU, Xq
/
idr`2bAop ‚àÜX

BarrpU, Xq
/
idr`1bAop ‚àÜX

Barr¬¥1pU, Xq
/
idrbAop ‚àÜX

. . .
Barr`1pU, X bA Xq
/

BarrpU, X bA Xq
/
Œær

Barr¬¥1pU, X bA Xq
/
Œær¬¥1

. . .
0
/ Z bA Z
/ Hr¬¥1
/ . . .

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
21
. . .
/ Bar1pU, Xq
/
id2bAop ‚àÜX

Bar0pU, Xq
(
idbAop ‚àÜX

Bar0pU, Xq
/
LÀùpidbAop ‚àÜXq

/ X
‚àÜX

/ 0
. . .
/ Bar1pU, X bA Xq
/
Œæ1

Bar0pU, X bA Xq
Œæ0

/ X bA X
X bA X
/ 0
. . .
/ H1
// H0
/
5
X bA X
X bA X
/ 0
Note that the commutativity of the upper two rows depends on the fact that X
is a comonoid in U-Mod, that is, explicitly from (A.16). From this diagram we
obtain the representative cocycle
Barr`1pU, Xq
/

BarrpU, Xq
/
ŒærÀùpidr`1bAop ‚àÜXq

Barr¬¥1pU, Xq
/
Œær¬¥1ÀùpidrbAop ‚àÜXq

. . .
0
/ Z bA Z
/ Hr¬¥1
/ . . .
. . .
/ Bar1pU, Xq
/
Œæ1Àùpid2bAop ‚àÜXq

Bar0pU, Xq
/
pL,Œæ0ÀùpidbAop ‚àÜXqq

X
/ 0
. . .
/ H1
p0,dq
/ X ÀÜXbAX H0
/ X
/ 0.
Next, to compute a cocycle representative for ¬µ#H#‚àÜX, we consider the com-
mutative diagram
Barr`1pU, Xq
/
Œ∂1 
BarrpU, Xq
*
Œ∂0 
BarrpU, Xq
/
ŒærÀùpidr`1bAop ‚àÜXq

Barr¬¥1pU, Xq
Œær¬¥1ÀùpidrbAop ‚àÜX q

/ . . .
P ZbAZ
1

/ P ZbAZ
0
/

Z bA Z
¬µ

iH
/ Hr¬¥1
/
p0,idq

. . .
0
/ Z
4
Z
p¬¥id,0q
/ Z \ZbAZ Hr¬¥1
/ . . .
. . .
/ Bar1pU, Xq
/
Œæ1Àùpid2bAop ‚àÜX q

Bar0pU, Xq
/
pŒæ0ÀùpidbAop ‚àÜXq,Lq

X
/ 0
. . .
/ H1
/ H0 ÀÜXbAX X
/ X
/ 0
. . .
/ H1
/ H0 ÀÜXbAX X
/ X
/ 0,
to see that ¬µ#G#‚àÜX is represented by the cocycle
Barr`1pU, Xq
/

BarrpU, Xq
/
¬µÀùŒærÀùpidr`1bAop ‚àÜXq

Barr¬¥1pU, Xq
p0,Œær¬¥1ÀùpidrbAop ‚àÜXqq

/ . . .
0
/ Z
/ Z \ZbAZ Hr¬¥1
/ . . .

22
DOMENICO FIORENZA AND NIELS KOWALZIG
. . .
/ Bar1pU, Xq
/
Œæ1Àùpid2bAop‚àÜXq

Bar0pU, Xq
/
pŒæ0ÀùpidbAop‚àÜXq,Lq

X
/ 0
. . .
/ H1
/ H0 ÀÜXbAX X
/ X
/ 0,
from which the explicit expression for ÀúŒæ can be read off in all degrees.
‚ñ°
Remark 2.8. For r ‚Äú 2, the statement of Lemma 2.7 has to be understood
without the middle line, i.e.,
ÀúŒæk ‚Äì
$
‚Äô
‚Äô
‚Äô
&
‚Äô
‚Äô
‚Äô
%
idX
for
k ‚Äú ¬¥1,
`
Œæ0 Àù pid bAop ‚àÜXq, L
Àò
for
k ‚Äú 0,
`
0, Œæ1 Àù pid2 bAop ‚àÜXq
Àò
for
k ‚Äú 1,
¬µ Àù Œæ2 Àù pid3 bAop ‚àÜXq
for
k ‚Äú 2.
(2.11)
If r ‚Äú 1, the two central lines of (2.11) are merged and one has
ÀúŒæk ‚Äì
$
‚Äô
&
‚Äô
%
idX
for
k ‚Äú ¬¥1,
`
0, Œæ0 Àù pid bAop ‚àÜXq, L
Àò
for
k ‚Äú 0,
¬µ Àù Œæ1 Àù pid2 bAop ‚àÜXq
for
k ‚Äú 1,
(2.12)
where ÀúŒæ0 is now taking values in
Z \ZbAZ H0 ÀÜXbAX X.
Here we are omitting the parentheses thanks to the natural isomorphism of
U-modules pZ \ZbAZ H0q ÀÜXbAX X ¬ª Z \ZbAZ pH0 ÀÜXbAX Xq. Finally, for
r ‚Äú 0 one removes the central line of (2.12), obtaining
ÀúŒæk ‚Äì
#
H
for
k ‚Äú ¬¥1,
¬µ Àù Œæ0 Àù pid bAop ‚àÜXq
for
k ‚Äú 0,
where H: X bA X √ë Z bA Z is the element in Ext0
UpX bA X, Z bA Zq of which
Œæ is a 0-cocycle representative.
The above Lemma 2.7 suggests the following.
DeÔ¨Ånition 2.9. Let X and Z be as before and let H P Extr
UpX bA X, Z bA Zq
as well as G ‚Äì ¬µ#H#‚àÜX. DeÔ¨Åne the graded linear map
Œ¶‚Äö :
r√Ä
k‚Äú¬¥1
Hom
`
BarkpU, X bA Xq, Hk
Àò
√ë
r√Ä
k‚Äú¬¥1
Hom
`
BarkpU, Xq, Gk
Àò
as follows:
Œ¶kpŒæq ‚Äì
$
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
&
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
%
0
for
k ‚Äú ¬¥1,
`
Œæ0 Àù pid bAop ‚àÜXq, 0
Àò
for
k ‚Äú 0,
Œæk Àù pidk`1 bAop ‚àÜXq
for
1 ƒè k ƒè r ¬¥ 2,
`
0, Œær¬¥1 Àù pidr bAop ‚àÜXq
Àò
for
k ‚Äú r ¬¥ 1,
¬µ Àù Œær Àù pidr`1 bAop ‚àÜXq
for
k ‚Äú r,
(2.13)
for any Œæ P √Är
k‚Äú¬¥1 Hom
`
BarkpU, X bA Xq, Hk
Àò
.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
23
Remark 2.10. Following Remark 2.8, for r ‚Äú 2, this has to be understood
without the middle line, i.e.,
Œ¶kpŒæq ‚Äì
$
‚Äô
‚Äô
‚Äô
&
‚Äô
‚Äô
‚Äô
%
0
for
k ‚Äú ¬¥1,
`
Œæ0 Àù pid bAop ‚àÜXq, 0
Àò
for
k ‚Äú 0,
`
0, Œæ1 Àù pid2 bAop ‚àÜXq
Àò
for
k ‚Äú 1,
¬µ Àù Œæ2 Àù pid3 bAop ‚àÜXq
for
k ‚Äú 2.
(2.14)
If r ‚Äú 1, the two central lines of (2.14) are merged and one has
Œ¶kpŒæq ‚Äì
$
‚Äô
&
‚Äô
%
0
for
k ‚Äú ¬¥1,
`
0, Œæ0 Àù pid bAop ‚àÜXq, 0
Àò
for
k ‚Äú 0,
¬µ Àù Œæ1 Àù pid2 bAop ‚àÜXq
for
k ‚Äú 1,
(2.15)
where Œ¶0pŒæq takes values in Z \ZbAZ H0 ÀÜXbAX X. Finally, for r ‚Äú 0 one
removes the central line of (2.15) to obtain
Œ¶kpŒæq ‚Äì
#
0
for
k ‚Äú ¬¥1,
¬µ Àù Œæ0 Àù pid bAop ‚àÜXq
for
k ‚Äú 0,
Remark 2.11. In terms of the linear map Œ¶ from DeÔ¨Ånition 2.9, Lemma 2.7
can be stated by saying that if Œæ : BarpU, X bA Xq √ë H is a cocycle representa-
tive for H P Extr
UpX bA X, Z bA Zq, with r ƒÖ 0, then
p0, . . . , 0, pL, 0q, idXq ` Œ¶pŒæq
is a cocycle representative for G ‚Äú ¬µ#H#‚àÜX P Extr
UpX, Zq.
Lemma 2.12. If Œæ : BarpU, X bAXq √ë H is an f-twisted cocycle for the extension
H P Extr
UpXbAX, ZbAZq, with r ƒÖ 0, then p0, . . . , 0, pL, 0q, idXq`Œ¶pŒæq is a cocycle
representative for ¬µ#H#pf Àù ‚àÜXq P Extr
UpX, Zq.
Proof. Immediate from Remarks 1.5 & 2.11.
‚ñ°
Corollary 2.13. Let Œæ : BarpU, X bA Xq √ë H be an f-twisted cocycle for the
extension H P Extr
UpX bA X, Z bA Zq, with r ƒÖ 0, such that f Àù ‚àÜX ‚Äú ‚àÜX. Then
p0, . . . , 0, pL, 0q, idXq`Œ¶pŒæq is a cocycle representative for ¬µ#H#‚àÜX P Extr
UpX, Zq.
If we additionally assume from now on that X is a braided cocommutative
comonoid in Z rpU-Modq, by summing up we obtain the following proposition,
which we give for strictly positive degrees leaving to the reader the easy task
of deriving the corresponding statement for 0-cocycles.
Proposition 2.14. Let Z be as before and X a braided cocommutative comon-
oid in Z rpU-Modq, let E P Extp
UpX, Zq and F P Extq
UpX, Zq, with p, q ƒÖ 0, and
let œÜ: BarpX, Uq √ë E and œà: BarpX, Uq √ë F be cocycle representatives for E and
F, respectively. Moreover, let œÜ Yb œà: BarpU, X bA Xq √ë MolochpE, Fq be the
œÑ-twisted cocycle representative from Lemma 2.4, and let ŒªE,F: MolochpE, Fq √ë
pX bA Fq#pE bA Zq be the morphism of complexes from Eq. (1.6). Then
p0, . . . , 0, pL, 0q, idXq ` Œ¶pŒªE,FpœÜ Yb œàq Àù œÑ‚Äöqq
is a cocycle representative for E Y F ‚Äú ¬µ#pE bA Zq#pX bA Fq#‚àÜX.
Proof. Corollary 2.6 states that ŒªE,FpœÜ Yb œàq Àù œÑ‚Äö : BarpU, X bA Xq √ë pE bA
Zq#pXbAFq is a œÑ 2-twisted cocycle representative. By assumption œÑ Àù‚àÜX ‚Äú ‚àÜX
as in (A.19), therefore œÑ 2 Àù ‚àÜX ‚Äú ‚àÜX, and one concludes by Corollary 2.13.
‚ñ°

24
DOMENICO FIORENZA AND NIELS KOWALZIG
DeÔ¨Ånition 2.15. Let E P Extp
UpX, Zq resp. F P Extq
UpX, Zq be extensions
of length p resp. q, with cocycle representatives œÜ: BarpX, Uq √ë E resp.
œà: BarpX, Uq √ë F. The cocycle representative œÜ Y œà for E Y F is deÔ¨Åned as
œÜ Y œà ‚Äì p0, . . . , 0, pL, 0q, idXq ` Œ¶‚Äö
`
ŒªE,FpœÜ Yb œàq Àù œÑ
Àò
for any p, q ƒõ 0.
Remark 2.16. By expanding the above deÔ¨Ånition, one sees that the top degree
component of œÜ Y œà is, for any p, q ƒõ 0, given by
pœÜ Y œàqp`qpu0, . . . , up`q, mq ‚Äú Œ¶p`qpŒªE,FpœÜ Yb œàq Àù œÑqpu0, . . . , up`q, mq
‚Äú ¬µ Àù pœÜp Yb œàqq Àù œÑp`q Àù pidp`q`1 bAop ‚àÜXqpu0, . . . , up`q, mq
‚Äú œÜp
`
u0
p1q, . . . , up
p1q, pup`1
p2q ¬® ¬® ¬® up`q
p2q mp2qqr0s
Àò
¬®Z œàq
`
u0
p2q ¬® ¬® ¬® up
p2qpup`1
p2q ¬® ¬® ¬® up`q
p2q mp2qqr1s, up`1
p1q , . . . , up`q
p1q , mp1q
Àò
,
(2.16)
when inserting the external cup product (2.9), the edge morphism ŒªE,F as in
(1.6), the top degree of Œ¶ as in (2.13), and the braided cocommutativity (A.19)
on X.
2.4. The cup product as internal operadic composition. Before Ô¨Ånding,
in the spirit of ¬ß1.7, a second cocycle representative for E Y F, we would like
to understand how to reproduce the cup product from Eq. (2.16) from more
operadic ideas. To this end, we need to give both an external as well as an
internal operadic vertical composition Ô¨Årst.
2.4.1. The external operadic composition. As said, let us introduce an, in a
sense, 2-product, or (partial) external operadic composition
Àù
b
i : CjpU, X, Ejq b CqpU, X, Zq √ë Cj`q¬¥1pU, X bA X, Ej bA Zq,
where j ‚Äú 1, . . . , p and i ‚Äú 1, . . . , j, as follows:
pœÜj Àù
b
i œàqqpu0, u1, . . . , up`q¬¥1, m bA m1q ‚Äì
œÜj
`
u0
p1q, . . . , ui¬¥1
p1q , œàq
`
1, ui
p1q, . . . , ui`q¬¥1
p1q
,
pui`q
p2q ¬® ¬® ¬® up`q¬¥1
p2q
m1qr0s
Àò
p¬¥1qui
p2q ¬® ¬® ¬® ui`q¬¥1
p2q
pui`q
p2q ¬® ¬® ¬® up`q¬¥1
p2q
m1qr1s, ui`q
p1q , . . . ,
up`q¬¥1
p1q
, mÀò
bA u0
p2q ¬® ¬® ¬® ui¬¥1
p2q œàq
`
1, ui
p1q, . . . , ui`q¬¥1
p1q
, pui`q
p2q ¬® ¬® ¬® up`q¬¥1
p2q
m1qr0s
Àò
p0q.
(2.17)
Denote by
œÜj ¬ØÀù
b œàq ‚Äì
j≈ô
i‚Äú1
p¬¥1qpi¬¥1qpq¬¥1qœÜj Àù
b
i œàq
(2.18)
the full external operadic composition (or external Gerstenhaber product). For
a zero cochain, that is, for j ‚Äú 0, put œÜ0 ¬ØÀùb œàq ‚Äì 0. The commutator with
respect to this Gerstenhaber product will be denoted by
rœàq, œÜps¬ØÀùb ‚Äì œàq ¬ØÀù
b œÜp ¬¥ p¬¥1qpp¬¥1qpq¬¥1qœÜp ¬ØÀù
b œàq.
Remark 2.17. Observe that it is, a priori, not so clear how to generalise (2.17)
to a map
CjpU, X, Ejq b CipU, X, Fiq √ë Cj`i¬¥1pU, X bA X, Ej bA Fiq
for 0 ƒè i ƒÉ q as there is in general no reason why, apart from Fq ‚Äú Z, also the
U-modules Fi for i ‚Ä∞ q should be U-comodules as well.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
25
2.4.2. The internal operadic composition. Precomposing resp. postcomposing
the partial external operadic composition (2.17) in case j ‚Äú p with the comul-
tiplication ‚àÜX on X and the multiplication ¬µ on Z, respectively, gives a true
(partial) (internal) operadic composition on the family
Opnq ‚Äì CnpU, X, Zq ‚Äú HomUpBarnpU, Xq, Zq
(2.19)
of k-modules. This results into a map
Oppq b Opqq √ë Opp ` q ¬¥ 1q
explicitly given for any œÜp P Oppq, œàq P Opqq, any uj P U, and m P X by
pœÜp Àùi œàqqpu0, u1, . . . , up`q¬¥1, mq ‚Äì
œÜp
`
u0
p1q, . . . , ui¬¥1
p1q , œàq
`
1, ui
p1q, . . . , ui`q¬¥1
p1q
,
pui`q
p2q ¬® ¬® ¬® up`q¬¥1
p2q
mp2qqr0s
Àò
p¬¥1qui
p2q ¬® ¬® ¬® ui`q¬¥1
p2q
pui`q
p2q ¬® ¬® ¬® up`q¬¥1
p2q
mp2qqr1s, ui`q
p1q , . . . ,
up`q¬¥1
p1q
, mp1q
Àò
¬®Z
`
u0
p2q ¬® ¬® ¬® ui¬¥1
p2q œàq
`
1, ui
p1q, . . . , ui`q¬¥1
p1q
, pui`q
p2q ¬® ¬® ¬® up`q¬¥1
p2q
mp2qqr0s
Àò
p0q
Àò
,
(2.20)
for any i ‚Äú 1, . . . , p. Observe that the full structure of Z and X is used here:
being left U-modules, being (left resp. right) U-comodules, and having a multi-
plication on Z resp. a comultiplication on X. That (2.20) indeed deÔ¨Ånes partial
composition maps in an operad in the standard sense (cf. Appendix A.3) will
not be proven before ¬ß2.7 under the three assumptions that X is a (braided) co-
commutative comonoid in Z rpU-Modq and Z a (braided) commutative monoid
in Z ‚ÑìpU-Modq such that pX, Zq yields a commuting pair.
Analogously to (2.18), let us introduce the full (internal) operadic composi-
tion by deÔ¨Åning
œÜj ¬ØÀù œàq ‚Äì
j≈ô
i‚Äú1
p¬¥1qpi¬¥1qpq¬¥1qœÜj Àùi œàq,
(2.21)
which, again, might be called the (internal) Gerstenhaber product.
For the sake of illustration, we list a couple of special instances: for arbitrary
Z and X ‚Äú A, the base algebra itself, one obtains:
pœÜp Àùi œàqqpu0, u1, . . . , up`q¬¥1q
‚Äú œÜp
`
u0
p1q, . . . , ui¬¥1
p1q , œàqp1, ui
p1q, . . . , ui`q¬¥1
p1q
qp¬¥1qui
p2q ¬® ¬® ¬® ui`q¬¥1
p2q
, ui`q, . . . , up`q¬¥1Àò
¬®Z
`
u0
p2q ¬® ¬® ¬® ui¬¥1
p2q œàqp1, ui
p1q, . . . , ui`q¬¥1
p1q
qp0q
Àò
.
(2.22)
For example, for p ‚Äú q ‚Äú 1, this would be
pœÜp Àù1 œàqqpu, vq ‚Äú œÜp
`
up1q, œàqp1, vp1qqp¬¥1qvp2q
Àò
¬®Z
`
up2qœàqp1, vp1qqp0q
Àò
.
(2.23)
On the other hand, let Z ‚Äú A and X be arbitrary. Then (2.20) reduces to
pœÜp Àùi œàqqpu0, u1, . . . , up`q¬¥1, mq ‚Äú
œÜp
`
u0, . . . , ui¬¥1, œàq
`
1, ui
p1q, . . . , ui`q¬¥1
p1q
,
pui`q
p2q ¬® ¬® ¬® up`q¬¥1
p2q
mp2qqr0s
Àò
≈ª ui
p2q ¬® ¬® ¬® ui`q¬¥1
p2q
pui`q
p2q ¬® ¬® ¬® up`q¬¥1
p2q
mp2qqr1s, ui`q
p1q , . . . , up`q¬¥1
p1q
, mp1q
Àò
.
Finally, if both X ‚Äú Z ‚Äú A equal the base algebra itself, that is, the unit object
in the monoidal category U-Mod, we obtain
pœÜp Àùi œàqqpu0, u1, . . . , up`q¬¥1q ‚Äú
œÜp
`
u0, . . . , ui¬¥1, œàq
`
1, ui
p1q, . . . , ui`q¬¥1
p1q
Àò
≈ª ui
p2q ¬® ¬® ¬® ui`q¬¥1
p2q
, ui`q, . . . , up`q¬¥1Àò
,
which is sort of the nicest and makes it clear why people never bothered about
introducing more general coefÔ¨Åcients. Again, in case of the bialgebroid pU, Aq ‚Äú
pAe, Aq and X ‚Äú Z ‚Äú A, employing the explicit bialgebroid structure of Ae as

26
DOMENICO FIORENZA AND NIELS KOWALZIG
quoted in (A.2), this reduces to the classical Gerstenhaber insertion operations
as they originally appeared in [Ge], that is,
pœÜp Àùi œàqqpa1, . . . , ap`q¬¥1q ‚Äú œÜp
`
a1, . . . , ai¬¥1, œàqpai, . . . , ai`q¬¥1q, ai`q, . . . , ap`q¬¥1Àò
,
where now the commata mean a tensor product over k instead of over Aop, and
where we identiÔ¨Åed HomAe `
pAeqbAop n`1, A
Àò
¬ª HomkpAbkn, Aq.
2.4.3. The internal cup product. Introducing a special element ¬µ P Op2q,
¬µpu0, u1, u2, mq ‚Äì ŒµXpu0u1u2mq,
the multiplication, which will again serve in ¬ß2.7, one can deÔ¨Åne the (internal)
cup product
Y: Oppq b Opqq √ë Opp ` qq,
in the customary way, i.e.,
œÜp Y œàq ‚Äú p¬µ Àù2 œàqq Àù1 œÜp.
(2.24)
For œÜp P Oppq, œàq P Opqq, any uj P U and m P X this explicitly comes out as
pœÜp Y œàqqpu0, . . . , up`q, mq
‚Äú œÜp
`
u0
p1q, . . . , up
p1q, pup`1
p2q ¬® ¬® ¬® up`q
p2q mp2qqr0s
Àò
¬®Z œàq
`
u0
p2q ¬® ¬® ¬® up
p2qpup`1
p2q ¬® ¬® ¬® up`q
p2q mp2qqr1s, up`1
p1q , . . . , up`q
p1q , mp1q
Àò
.
(2.25)
Remark 2.18. Observe that this is now the same formula as the one obtained
by a different approach in (2.16), with the striking difference that here one
does not need to start from the assumption of dealing with cocycles; indeed, in
Eq. (2.25) above, both œÜp and œàq are merely cochains.
Remark 2.19. As already hinted at in Remark 2.17, observe again that as
in (2.24) analogously writing œÜj Yb œài ‚Äú p¬µ Àù
b
2 œàiq Àù
b
1 œÜj for the external cup
product (2.9) in terms of the external operadic operation (2.17) does not make
sense, and therefore (2.9) had to be deÔ¨Åned, sort of, by hand.
Let us again discuss some special cases:
for arbitrary Z and X ‚Äú A,
Eq. (2.25) reduces to
pœÜp Y œàqqpu0, . . . , up`qq ‚Äú œÜp
`
u0
p1q, . . . , up
p1q
Àò
¬®Z œàq
`
u0
p2q ¬® ¬® ¬® up
p2q, up`1, . . . , up`qÀò
,
which, from a slightly different viewpoint, precisely reÔ¨Çects the DG coalgebra
structure of the bar resolution, whereas for arbitrary X and Z ‚Äú A, Eq. (2.25)
by replacing the multiplication in Z with the product in A does not really sim-
plify. In case Z ‚Äú X ‚Äú A, we therefore obtain
pœÜp Y œàqqpu0, . . . , up`qq ‚Äú œÜppu0
p1q, . . . , up
p1qqœàqpu0
p2q ¬® ¬® ¬® up
p2q, up`1, . . . , up`qq,
which, again, in case pU, Aq ‚Äú pAe, Aq reduces to the well-known cup product
from [Ge], that is
pœÜp Y œàqqpa1, . . . , ap`qq ‚Äú œÜppa1, . . . , upqœàqpap`1, . . . , ap`qq,
where, once more, the commata mean a tensor product over k instead of over
Aop, and where we identiÔ¨Åed HomAe`
pAeqbAop n`1, A
Àò
¬ª HomkpAbkn, Aq.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
27
2.5. A second cocycle representative for E Y F. As in ¬ß1.7, we are now
going to construct a second cocycle representative for E Y F, see Proposition
2.24, that in the next subsection will turn out to be homotopic to the one from
DeÔ¨Ånition 2.15. For this, in particular, we need to Ô¨Ånd the, sort of, correction
term «´ along with a couple of technical lemmata.
As above, for the whole section, let E P Extp
UpX, Zq and F P Extq
UpX, Zq, with
p, q ƒÖ 0, and let œÜ: BarpX, Uq √ë E and œà: BarpX, Uq √ë F be chain maps, i.e.,
cocycle representatives for E and F, respectively.
By switching the r√¥les of E and F in Remark 2.1 and in Lemma 2.4, we
immediately obtain the following.
Lemma 2.20. If œÜ, œà are chain maps as above, then the collection of maps
pœà Yb œÜqk : BarpU, X bA Xq √ë MolochpF, Eqk induced by the external cup
product deÔ¨Ånes a œÑ-twisted cocycle representative œà Yb œÜ: BarpU, X bA Xq √ë
MolochpF, Eq.
Let us introduce the (doubly) braided cup commutator
rœÜj, œàqsYb,œÉ,œÑ ‚Äì pœÜj Yb œàqq Àù œÑj`q ¬¥ p¬¥1qjqœÉ Àù pœàq Yb œÜjq,
(2.26)
where we wrote
œÑk ‚Äì pU bAop k`1 bAop œÑq
(2.27)
in order to enhance notational beauty. In this sense, œÑ¬¥1 ‚Äì œÑ.
Lemma 2.21. Let œÜj P CjpU, X, Ejq and œàq P CqpU, X, Zq and as before let
Œ¥ ‚Äú dÀö be the pullback of the differential of the bar resolution. If pX, Zq is a
commuting pair in the sense of Eq. (A.9), then the homotopy formula
p¬¥1qqjrœÜj, œàqsYb,œÉ,œÑ ‚Äú p¬¥1qqœÜj ¬ØÀù
b Œ¥œàq ¬¥ p¬¥1qqŒ¥pœÜj ¬ØÀù
b œàqq ¬¥ Œ¥œÜj ¬ØÀù
b œàq
(2.28)
holds, where œÉ and œÑ are the left resp. right braidings from (2.1) resp. (2.2). For
j ‚Äú 0, Eq. (2.28) reduces to
rœÜ0, œàqsYb,œÉ,œÑ ‚Äú ¬¥Œ¥œÜ0 Àù
b
1 œàq.
(2.29)
Proof. This essentially works by writing down and comparing all appearing
terms one by one, not dissimilar to the operadic case; which is a tedious but
straightforward computation, we only indicate here a couple of decisive steps.
To this end, note if Œ¥ ‚Äú ≈ôj`1
k‚Äú0p¬¥1qkŒ¥k is the decomposition of the differential
Œ¥ ‚Äú dÀö into its cofaces Œ¥k, then one directly checks that
ppœÜj Yb œàqq Àù œÑj`qqpu0, . . . , uj`q, m bA m1q
(A.8)
‚Äú
pœÜj Yb œàqqpu0, . . . , uj`q, m1
r0s bA m1
r1smq
(2.9)
‚Äú
œÜj
`
u0
p1q, . . . , uj
p1q, puj`1
p2q ¬® ¬® ¬® uj`q
p2q m1
r1smqr0s
Àò
bAœàq
`
u0
p2q ¬® ¬® ¬® uj
p2qpuj`1
p2q ¬® ¬® ¬® uj`q
p2q m1
r1smqr1s, uj`1
p1q , . . . , uj`q
p1q , m1
r0s
Àò
‚Äú
œÜj
`
u0
p1q, . . . , uj
p1q, puj`1
p2q ¬® ¬® ¬® uj`q
p2q m1
r1smqr0s
Àò
bAu0
p2q ¬® ¬® ¬® uj
p2qpuj`1
p2q ¬® ¬® ¬® uj`q
p2q m1
r1smqr1sœàq
`
1, uj`1
p1q , . . . , uj`q
p1q , m1
r0s
Àò
(A.10)
‚Äú
œÜj
`
u0
p1q, . . . , uj
p1q, œàq
`
1, uj`1
p1q , . . . , uj`q
p1q , m1
r0s
Àò
p¬¥1quj`1
p2q ¬® ¬® ¬® uj`q
p2q m1
r1sm
Àò
bAu0
p2q ¬® ¬® ¬® uj
p2qœàq
`
1, uj`1
p1q , . . . , uj`q
p1q , m1
r0s
Àò
p0q
‚Äú
Œ¥j`1œÜj
`
u0
p1q, . . . , uj
p1q, œàq
`
1, uj`1
p1q , . . . , uj`q
p1q , m1
r0s
Àò
p¬¥1quj`1
p2q ¬® ¬® ¬® uj`q
p2q m1
r1s, m
Àò
bAu0
p2q ¬® ¬® ¬® uj
p2qœàq
`
1, uj`1
p1q , . . . , uj`q
p1q , m1
r0s
Àò
p0q
(2.17)
‚Äú
ppŒ¥j`1œÜjq Àùb
j`1 œàqqpu0, . . . , uj`q, m bA m1q,
where the fact that pX, Zq is a commuting pair was used in the fourth step;
that is,
pœÜj Yb œàqq Àù œÑj`q ‚Äú pŒ¥j`1œÜjq Àù
b
j`1 œàq,
(2.30)

28
DOMENICO FIORENZA AND NIELS KOWALZIG
in analogy to the operadic case. On the other hand,
œÉ`
pœàq Yb œÜjqpu0, . . . , uq`j, m bA m1qÀò
(2.9)
‚Äú
œÉ`
œàq
`
u0
p1q, . . . , uq
p1q, puq`1
p2q ¬® ¬® ¬® uq`j
p2q m1qr0s
Àò
bAœÜj
`
u0
p2q ¬® ¬® ¬® uq
p2qpuq`1
p2q ¬® ¬® ¬® uq`j
p2q m1qr1s, uq`1
p1q , . . . , uq`j
p1q , m
ÀòÀò
(A.7)
‚Äú
œàq
`
u0
p1q, . . . , uq
p1q, puq`1
p2q ¬® ¬® ¬® uq`j
p2q m1qr0s
Àò
p¬¥1qœÜj
`
u0
p2q ¬® ¬® ¬® uq
p2qpuq`1
p2q ¬® ¬® ¬® uq`j
p2q m1qr1s,
uq`1
p1q , . . . , uq`j
p1q , m
Àò
bA œàq
`
u0
p1q, . . . , uq
p1q, puq`1
p2q ¬® ¬® ¬® uq`j
p2q m1qr0s
Àò
p0q
(A.5)
‚Äú
œÜj
`
u0
p1qœàq
`
1, u1
p1q, . . . , uq
p1q,
puq`1
p2q ¬® ¬® ¬® uq`j
p2q m1qr0s
Àò
p¬¥1qu1
p2q ¬® ¬® ¬® uq
p2qpuq`1
p2q ¬® ¬® ¬® uq`j
p2q m1qr1s, uq`1
p1q , . . . ,
uq`j
p1q , mÀò
bA u0
p2qœàq
`
1, u1
p1q, . . . , uq
p1q, puq`1
p2q ¬® ¬® ¬® uq`j
p2q m1qr0s
Àò
p0q
‚Äú
Œ¥0œÜj
`
u0
p1q, œàq
`
1, u1
p1q, . . . , uq
p1q,
puq`1
p2q ¬® ¬® ¬® uq`j
p2q m1qr0s
Àò
p¬¥1qu1
p2q ¬® ¬® ¬® uq
p2qpuq`1
p2q ¬® ¬® ¬® uq`j
p2q m1qr1s, uq`1
p1q , . . . ,
uq`j
p1q , mÀò
bA u0
p2qœàq
`
1, u1
p1q, . . . , uq
p1q, puq`1
p2q ¬® ¬® ¬® uq`j
p2q m1qr0s
Àò
p0q
(2.17)
‚Äú
ppŒ¥0œÜjq Àùb
1 œàqqpu0, . . . , uq`j, m bA m1q,
using the U-linearity of both œàq and œÜj, and where in the third step we used
the fact that the braiding œÉ is morphism in U-Mod. Hence,
œÉ Àù pœàq Yb œÜjq ‚Äú pŒ¥0œÜjq Àù
b
1 œàq,
(2.31)
from which also (2.29) immediately follows.
With the two identities (2.30) and (2.31) at hand, verifying the homotopy
(2.28) becomes a feasible task and its full veriÔ¨Åcation is left to the reader.
‚ñ°
Again by Remark 2.17, one cannot write down a version of the right hand
side of (2.28) with the positions of œÜj and œàq interchanged (as one could, up
to signs, in the standard operadic situation). Also, the left hand side, i.e., the
braided cup commutator (2.26) would not make sense with œÜj and œàq in oppo-
site order.
Lemma 2.22. Let œÜ: BarpU, Xq √ë E and œà: BarpU, Xq √ë F be as above, and let
«´kpœÜ, œàq: BarkpU, X bA Xq √ë MolochpF, Eqk
for any k ‚Äú ¬¥1, 0, . . ., p ` q be deÔ¨Åned by
«´kpœÜ, œàq ‚Äú
$
‚Äô
‚Äô
‚Äô
‚Äô
&
‚Äô
‚Äô
‚Äô
‚Äô
%
0
for k ƒÉ p,
¬¥rœàk¬¥p, œÜpsYb,œÉ,œÑ
`p¬¥1qpk`k`1pFk¬¥p`1 bA iEq Àù pœàk¬¥p`1 ¬ØÀùb œÜpq
for p ƒè k ƒè p ` q ¬¥ 1,
¬¥rœàq, œÜpsYb,œÉ,œÑ
for k ‚Äú p ` q.
If pX, Zq is a commuting pair in the sense of Eq. (A.9), then «´pœÜ, œàq: BarpU, X bA
Xq √ë MolochpF, Eq is a 0-twisted cocycle representative.
Proof. By deÔ¨Ånition of 0-twisted cocycle representative, we have to show that «´
is a chain map with «´¬¥1 ‚Äú 0. The last part of the statement is true by deÔ¨Ånition
of «´, so we have only to prove that «´ is a chain map. To start with, let p ƒÉ k ƒè
p ` q ¬¥ 1; the cases for k ‚Äú p ` q and k ‚Äú p will be proven separately. Observe
Ô¨Årst that since d is a U-module map, we have from (2.1) and (2.2) that
pd bA Zq Àù œÉ
‚Äú
œÉ Àù pZ bA dq,
pX bA dq Àù œÑ
‚Äú
œÑ Àù pd bA Xq.
(2.32)

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
29
Using again the notation œÑk ‚Äú pU bAopk bAop œÑq as in (2.27), we compute with
d Àù iE ‚Äú 0, Eqs. (2.9), (2.26), and (2.6) as well as (2.32):
d Àù «´kpœÜ, œàq
‚Äú d Àù
`
¬¥ rœàk¬¥p, œÜpsYb,œÉ,œÑ ` p¬¥1qpk`k`1pFk¬¥p`1 bA iEq Àù pœàk¬¥p`1 ¬ØÀù
b œÜpq
Àò
‚Äú ¬¥pd Àù œàk¬¥pq Yb œÜp Àù œÑk¬¥1 ` p¬¥1qppk`1qœÉ Àù
`
œÜp Yb pd Àù œàk¬¥pq
Àò
` p¬¥1qk¬¥p¬¥1pFk¬¥p bA iEq Àù rœàk¬¥p, œÜpsYb,œÉ,œÑ
` p¬¥1qpk`k`1pd bA iEq Àù pœàk¬¥p`1 ¬ØÀù
b œÜpq
‚Äú ¬¥pŒ¥œàk¬¥p¬¥1q Yb œÜp Àù œÑk¬¥1 ` p¬¥1qppk`1qœÉ Àù
`
œÜp Yb pŒ¥œàk¬¥p¬¥1q
Àò
` p¬¥1qk¬¥p¬¥1pFk¬¥p bA iEq Àù rœàk¬¥p, œÜpsYb,œÉ,œÑ
` p¬¥1qpk`k`1pFk¬¥p bA iEq Àù pŒ¥œàk¬¥p ¬ØÀù
b œÜpq,
whereas, on the other hand, using the homotopy formula (2.28) and the fact
(2.10) that Œ¥ is a derivation of the cup product, along with Œ¥œÜp ‚Äú 0,
«´k¬¥1pœÜ, œàq Àù d
‚Äú
`
¬¥ rœàk¬¥p¬¥1, œÜpsY,œÉ,œÑ ` p¬¥1qppk¬¥1q`kpFk¬¥p bA iEq Àù pœàk¬¥p ¬ØÀù
b œÜpq
Àò
Àù d
‚Äú ¬¥pŒ¥œàk¬¥p¬¥1 Yb œÜpq Àù œÑk ` p¬¥1qpkœÉ Àù
`
pœÜp Yb œàk¬¥p¬¥1q Àù d
Àò
` p¬¥1qppk¬¥1q`kpFk¬¥p bA iEq Àù
`
pœàk¬¥p ¬ØÀù
b œÜpq Àù d
Àò
‚Äú ¬¥pŒ¥œàk¬¥p¬¥1 Yb œÜpq Àù œÑk ` p¬¥1qppk`1qœÉ Àù pœÜp Yb Œ¥œàk¬¥p¬¥1q
` p¬¥1qppk¬¥1q`kpFk¬¥p bA iEq Àù Œ¥pœàk¬¥p ¬ØÀù
b œÜpq,
which by the homotopy relation (2.28) for the braided cup commutator is the
same as before, hence d Àù «´kpœÜ, œàq ‚Äú «´k¬¥1pœÜ, œàq Àù d for p ƒÉ k ƒè p ` q ¬¥ 1. The case
k ‚Äú p ` q is proven similar and left to the reader. As for the case k ‚Äú p, one has
to show that d Àù
`
rœà0, œÜpsYb,œÉ,œÑ ` pF1 bA iEq Àù pœà1 ¬ØÀùb œÜpq
Àò
‚Äú 0. Indeed, with the
help of (2.29) and the fact that pdF bA ZqpF0 bA Zq ‚Äú 0 in MolochpF, Eq,
d Àù
`
rœà0, œÜpsYb,œÉ,œÑ ` pF1 bA iEq Àù pœà1 Àù
b
1 œÜpq
Àò
‚Äú pF0 bA iEq Àù rœà0, œÜpsYb,œÉ,œÑ ` pd bA iEq Àù pœà1 Àù
b
1 œÜpq
‚Äú pF0 bA iEq Àù rœà0, œÜpsYb,œÉ,œÑ ` pF0 bA iEq Àù pŒ¥œà0 Àù
b
1 œÜpq
‚Äú pF0 bA iEq Àù rœà0, œÜpsYb,œÉ,œÑ ¬¥ pF0 bA iEq Àù rœà0, œÜpsYb,œÉ,œÑ ‚Äú 0,
which ends the proof.
‚ñ°
Corollary 2.23. Let «´ be as in Lemma 2.22 and pX, Zq a commuting pair sub-
ject to the same assumptions as before, and let Ã∫F,E : MolochpF, Eq √ë pZ bA
Eq#pF bA Xq be the morphism of complexes obtained by switching the r√¥les of E
and F in (1.7). Then
Ã∫F,Epœà Yb œÜ ` «´pœÜ, œàqq: BarpU, X bA Xq √ë pZ bA Eq#pF bA Xq
is a œÑ-twisted cocycle representative, which implies that
pœÉ|œÑqE,F Àù Ã∫F,Epœà Yb œÜ ` «´pœÜ, œàqq: BarpU, X bA Xq √ë pE bA Zq#pX bA Fq
is a œÑ 2-twisted cocycle representative.
Proof. From Lemmata 2.20 & 2.22 we have that œà Yb œÜ ` «´pœÜ, œàq: BarpU, X bA
Xq √ë MolochpF, Eq is a œÑ-twisted cocycle representative. By noticing that
pÃ∫F,Eq¬¥1 ‚Äú idXbAX and with the help of Remark 1.4, one proves the Ô¨Årst state-
ment. The second is then obvious.
‚ñ°
Finally, reasoning as in the proof of Proposition 2.14, we obtain:

30
DOMENICO FIORENZA AND NIELS KOWALZIG
Proposition 2.24. In the same notation as above,
p0, . . . , 0, pL, 0q, idXq ` Œ¶
`
pœÉ|œÑqE,F Àù Ã∫F,Epœà Yb œÜ ` «´pœÜ, œàqq
Àò
is as well a cocycle representative for EYF ‚Äú ¬µ#pEbA Zq#pX bA Fq#‚àÜX, where
Œ¶ is deÔ¨Åned in (2.13).
2.6. Brackets from homotopies. So far, in ¬ß2.3 and ¬ß2.5, we have exhibited
two representative cocycles for E Y F, namely œÜ Y œà ‚Äú p0, . . . , 0, pL, 0q, idXq `
Œ¶pŒªE,FpœÜ Yb œàq Àù œÑ‚Äöqq as well as p0, . . . , 0, pL, 0q, idXq ` Œ¶ppœÉ|œÑqE,F Àù Ã∫F,Epœà Yb œÜ `
«´pœÜ, œàqqq. We now want to produce an explicit homotopy between these two.
Writing
Œ∑pœÜ, œàq ‚Äì ŒªE,F
`
pœÜ Yb œàq Àù œÑ
Àò
¬¥ pœÉ|œÑqE,F Àù Ã∫F,E
`
pœà Yb œÜ ` «´pœÜ, œàq
Àò
,
(2.33)
where pœÉ|œÑqE,F is the morphism of complexes deÔ¨Åned in (1.8), this amounts to
exhibiting a homotopy between Œ¶pŒ∑pœÜ, œàqq and zero.
Before we do so, let us give an explicit expression for Œ∑ in (2.33):
Lemma 2.25. Under the standing assumptions, we have
pœÉ|œÑqF,E Àù Ã∫E,FpœÜ Yb œàq ¬¥ ŒªF,E
`
pœà Yb œÜq Àù œÑ‚Äö ` «´pœÜ, œàq
Àò
‚Äú 0,
as well as
Œ∑pœÜ, œàq ‚Äú ŒªE,F
`
pœÜ Yb œàq Àù œÑ‚Äö
Àò
¬¥ pœÉ|œÑqE,F Àù Ã∫F,E
`
pœà Yb œÜ ` «´pœÜ, œàq
Àò
‚Äú
$
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
&
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
%
0
for k ƒÉ q,
rœÜk¬¥q, œàqsYb,œÉ,œÑ
for q ƒè k ƒè p ` q ¬¥ 2,
rœÜp¬¥1, œàqsYb,œÉ,œÑ
`p¬¥1qp`qœÉ Àù pZ bA iEq Àù pœàq ¬ØÀùb œÜpq
for k ‚Äú p ` q ¬¥ 1,
rœÜp, œàqsYb,œÉ,œÑ ` p¬¥1qpqœÉ Àù rœàq, œÜpsYb,œÉ,œÑ
for k ‚Äú p ` q,
(2.34)
for any two chain maps œÜ: BarpU, Xq √ë E and œà: BarpU, Xq √ë F as before.
Proof. Observe Ô¨Årst that explicitly looking at the edge morphisms (1.6) and
(1.7) yields
Ã∫F,E«´kpœÜ, œàq ‚Äú
$
‚Äô
&
‚Äô
%
0
for k ƒÉ p ` q ¬¥ 1,
p¬¥1qp`qpZ bA iEq Àù pœàq ¬ØÀùb œÜpq
for k ‚Äú p ` q ¬¥ 1,
¬¥p¬¥1qpqrœàq, œÜpsYb,œÉ,œÑ
for k ‚Äú p ` q,
(2.35)
as well as
ŒªF,E«´kpœÜ, œàq ‚Äú
#
0
for k ƒÉ p,
¬¥rœàk¬¥p, œÜpsYb,œÉ,œÑ
for p ƒè k ƒè p ` q.
(2.36)
Slightly less straightforward, one also has
≈ô
j`i‚Äúk
`
pœÉ|œÑqF,E Àù Ã∫E,FpœÜj Yb œàiq ¬¥ ŒªF,E
`
pœài Yb œÜjq Àù œÑi`j
ÀòÀò
‚Äú
#
0
for k ƒÉ p,
rœàk¬¥p, œÜpsYb,œÉ,œÑ
for p ƒè k ƒè p ` q,
(2.37)

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
31
which is seen as follows: Ô¨Årst, in case k ƒÉ p, one directly computes
≈ô
j`i‚Äúk
pœÉ|œÑqF,E Àù Ã∫E,F
`
pœÜj Yb œàiqpu0, . . . , ui`j, m bA m1qÀò
(2.9)
‚Äú
≈ô
j`i‚Äúk
pœÉ|œÑqF,E Àù Ã∫E,F
`
œÜj
`
u0
p1q, . . . , uj
p1q, puj`1
p2q ¬® ¬® ¬® uj`i
p2q m1qr0s
Àò
bAœài
`
u0
p2q ¬® ¬® ¬® uj
p2qpuj`1
p2q ¬® ¬® ¬® uj`i
p2q m1qr1s, uj`1
p1q , . . . , uj`i
p1q , m
ÀòÀò
(1.7),(1.8)
‚Äú
œÑ Àù
`
œÜkpu0
p1q, . . . , uk
p1q, m1
r0sq bA pFœà0pu0
p2q ¬® ¬® ¬® uk
p2qm1
r1s, mq
Àò
(2.8)
‚Äú
œÑ Àù
`
œÜkpu0
p1q, . . . , uk
p1q, m1
r0sq bA Lpu0
p2q ¬® ¬® ¬® uk
p2qm1
r1s, mq
Àò
(2.4),(A.8)
‚Äú
pu0
p2q ¬® ¬® ¬® uk
p2qm1
r1smqr0s bA pu0
p2q ¬® ¬® ¬® uk
p2qm1
r1smqr1sœÜkpu0
p1q, . . . , uk
p1q, m1
r0sq,
whereas
≈ô
j`i‚Äúk
ŒªF,E
``
pœài Yb œÜjq Àù œÑi`j
Àò
pu0, . . . , ui`j, m bA m1qÀò
(A.8)
‚Äú
≈ô
j`i‚Äúk
ŒªF,E
`
pœài Yb œÜjqpu0, . . . , ui`j, m1
r0s bA m1
r1smqÀò
(2.9)
‚Äú
≈ô
j`i‚Äúk
ŒªF,E
`
œài
`
u0
p1q, . . . , ui
p1q, pui`1
p2q ¬® ¬® ¬® ui`j
p2q m1
r1smqr0s
Àò
bAœÜj
`
u0
p2q ¬® ¬® ¬® ui
p2qpui`1
p2q ¬® ¬® ¬® ui`j
p2q m1
r1smqr1s, ui`1
p1q , . . . , ui`j
p1q , m1
r0s
ÀòÀò
(1.6)
‚Äú
pFœà0
`
u0
p1q, pu1
p2q ¬® ¬® ¬® uk
p2qm1
r1smqr0s
Àò
bAœÜk
`
u0
p2qpu1
p2q ¬® ¬® ¬® uk
p2qm1
r1smqr1s, u1
p1q, . . . , uk
p1q, m1
r0s
Àò
(2.5),(2.4)
‚Äú
u0
p1qpu1
p2q ¬® ¬® ¬® uk
p2qm1
r1smqr0s
bAœÜk
`
u0
p2qpu1
p2q ¬® ¬® ¬® uk
p2qm1
r1smqr1s, u1
p1q, . . . , uk
p1q, m1
r0s
Àò
(A.6)
‚Äú
pu0
p2q ¬® ¬® ¬® uk
p2qm1
r1smqr0s bA pu0
p2q ¬® ¬® ¬® uk
p2qm1
r1smqr1sœÜk
`
u0
p1q, . . . , uk
p1q, m1
r0s
Àò
,
where in the last step we also used the U-linearity of œÜk; hence, the same
expression as above and the claim follows. The case in which p ƒè k ƒè p ` q
again directly follows from how the edge morphisms are deÔ¨Åned, see (1.6)‚Äì
(1.7), once more. Finally, one proves in an analogous way that
≈ô
j`i‚Äúk
`
ŒªE,F
`
pœÜj Yb œàiq Àù œÑj`i
Àò
¬¥ pœÉ|œÑqE,F Àù Ã∫F,Epœài Yb œÜjq
Àò
‚Äú
#
0
for k ƒÉ q,
rœÜk¬¥q, œàqsYb,œÉ,œÑ
for q ƒè k ƒè p ` q.
(2.38)
Gathering Eqs. (2.35)‚Äì(2.38) yields the two claims in this lemma.
‚ñ°
Lemma 2.26. Let œÜ: BarpU, Xq √ë E and œà: BarpU, Xq √ë F be as above, and let
ŒækpœÜ, œàq: BarkpU, X bA Xq √ë
`
pE bA Zq#pX bA Fq
Àò
k
be the map given by
ŒækpœÜ, œàq ‚Äú
$
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
&
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
‚Äô
%
0
for k ƒÉ q
rœÜk¬¥q, œàqsYb,œÉ,œÑ
for q ƒè k ƒè p ` q ¬¥ 2
rœÜp¬¥1, œàqsYb,œÉ,œÑ
`p¬¥1qp`qpiE bA Zq Àù pœàq ¬ØÀùb œÜpq
for k ‚Äú p ` q ¬¥ 1
0
for k ‚Äú p ` q.
(2.39)
If pX, Zq is a commuting pair, then ŒæpœÜ, œàq is a homotopically trivial 0-twisted
cocycle for pE bA Zq#pX bA Fq. A homotopy between ŒæpœÜ, œàq and zero is given by
skpœÜ, œàq: BarkpU, X bA Xq √ë
`
pE bA Zq#pX bA Fq
Àò
k`1

32
DOMENICO FIORENZA AND NIELS KOWALZIG
deÔ¨Åned for any k ‚Äú ¬¥1, 0, . . ., p ` q ¬¥ 1 by
skpœÜ, œàq ‚Äú
$
‚Äô
‚Äô
&
‚Äô
‚Äô
%
0
for k ƒÉ q,
p¬¥1qqpk`1qœÜk¬¥q`1 ¬ØÀùb œàq
for q ƒè k ƒè p ` q ¬¥ 2,
p¬¥1qp`qrœàq, œÜps¬ØÀùb
for k ‚Äú p ` q ¬¥ 1.
(2.40)
Proof. The condition Œæ¬¥1 ‚Äú 0 is true by deÔ¨Ånition of Œæ, so we only have to show
that Œæ is a homotopically trivial morphism of complexes Œæ : BarpU, X bA Xq √ë
pE bA Zq#pX bA Fq, with homotopy given by spœÜ, œàq. This means we need to
show that Œæk ‚Äú d Àù sk ` sk¬¥1 Àù d ‚Äú rd, ssk, where we denote, somewhat ambigu-
ously, by d not only the differential on BarpU, X bA Xq, but also the differential
of both extensions E and F as well as on pE bA Zq#pX bA Fq, analogously to
diagrams (2.5) and (1.5), respectively.
Note Ô¨Årst that
d Àù pœÜj Àù
b
i œàqq ‚Äú Œ¥œÜj¬¥1 Àù
b
i œàq
(2.41)
for any i ‚Äú 1, . . . , j, as follows from the precise form of the differential d on
the spliced extension pE bA Zq#pX bA Fq as in (1.5), along with (2.6). Now, for
k ƒÉ q, one clearly has rd, spœÜ, œàqsk ‚Äú 0. In case k ‚Äú q, we have with Eq. (2.41)
rd, spœÜ, œàqsq ‚Äú d Àù sqpœÜ, œàqq ‚Äú ¬¥d Àù pœÜ1 ¬ØÀù
b œàqq ‚Äú ¬¥Œ¥œÜ0 Àù
b
1 œàq ‚Äú rœÜ0, œàqsYb,œÉ,œÑ,
where the last step follows from (2.29). Using (2.41) again, for q ` 1 ƒè k ƒè
p ` q ¬¥ 2 along with the homotopy formula (2.28), one immediately obtains
rd, spœÜ, œàqsk ‚Äú d Àù skpœÜ, œàq ` sk¬¥1pœÜ, œàq Àù d
‚Äú p¬¥1qqpk`1qd Àù pœÜk¬¥q`1 ¬ØÀù
bœàqq ` p¬¥1qqkpœÜk¬¥q ¬ØÀù
bœàqq Àù d
‚Äú p¬¥1qqpk`1qŒ¥œÜk¬¥q ¬ØÀù
bœàq ` p¬¥1qqkŒ¥pœÜk¬¥q ¬ØÀù
bœàqq ‚Äú rœÜk¬¥q, œàqsYb,œÉ,œÑ,
whereas, for k ‚Äú p ` q ¬¥ 1 we have, again with (2.41) in the third step,
rd, spœÜ, œàqsp`q¬¥1 ‚Äú d Àù sp`q¬¥1pœÜ, œàq ` sp`q¬¥2pœÜ, œàq Àù d
‚Äú p¬¥1qp`qd Àù rœàq, œÜps¬ØÀùb ` p¬¥1qpqŒ¥pœÜp¬¥1 ¬ØÀù
b œàqq
‚Äú p¬¥1qp`qd Àù pœàq ¬ØÀù
b œÜpq ` p¬¥1qpq`
p¬¥1qq¬¥1Œ¥œÜp¬¥1 ¬ØÀù
b œàq ¬¥ Œ¥pœÜp¬¥1 ¬ØÀù
b œàqq
Àò
‚Äú p¬¥1qp`qpiE bA Zq Àù pœàq ¬ØÀù
b œÜpq ` rœÜp¬¥1, œàqsYb,œÉ,œÑ,
where we interchangeably write d ‚Äú iE bA Z in the highest degree Z bA Z of
the spliced extension pE bA Zq#pX bA Fq. Finally, for k ‚Äú p ` q, we have
sp`q¬¥1pœÜ, œàq Àù d ‚Äú p¬¥1qp`qŒ¥rœàq, œÜps¬ØÀùb ‚Äú 0,
as Œ¥ is a derivation of rœàq, œÜps¬ØÀùb, which directly follows from (2.28), and since
both œÜp and œàq are cocycles. To sum up, Œæ ‚Äú rd, ss in each degree, as desired.
‚ñ°
We add one Ô¨Ånal assumption, i.e., from now on not only the comonoid X in
Z rpU-Modq is supposed to be braided cocommutative but also the monoid Z
braided commutative in Z ‚ÑìpU-Modq. We can then formulate:
Lemma 2.27. Let the comonoid X P Z rpU-Modq be braided cocommutative
and let the monoid Z P Z ‚ÑìpU-Modq be braided commutative such that pX, Zq
constitutes a commuting pair. Furthermore, let Œæ, Œ∑: BarpU, X bA Xq √ë pE bA
Zq#pX bA Fq be the 0-twisted cocycle representatives deÔ¨Åned by (2.33) and in
(2.39), respectively. Then we have
Œ¶pŒ∑pœÜ, œàqq ‚Äú Œ¶pŒæpœÜ, œàqq.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
33
Proof. This is proven by a degree-wise comparison of the images of ŒæpœÜ, œàq as in
(2.39) resp. the explicit expression of Œ∑pœÜ, œàq obtained in (2.34) under the map
Œ¶ deÔ¨Åned in Eq. (2.13).
To start with, for the top degree component of the former we have
Œ¶p`qpŒæq ‚Äú ¬µ Àù Œæp`q Àù pidp`q`1 b ‚àÜXq: Barp`qpU, Xq √ë Z,
(2.42)
which is simply the zero map as seen from (2.39). In one degree less, that is, in
degree p ` q ¬¥ 1, with the help of (A.19), we read off
Œ¶p`q¬¥1pŒæq ‚Äú
`
0, Œæp`q¬¥1 Àù pidp`q b ‚àÜXq
Àò
‚Äú
`
0, rœÜp¬¥1, œàqsYb,œÉ Àù ‚àÜX ` p¬¥1qppiE bA Zq Àù pœàq ¬ØÀùb œÜpq Àù ‚àÜX
Àò
,
‚Äú
`
0, rœÜp¬¥1, œàqsYb,œÉ Àù ‚àÜX
Àò
` p¬¥1qp¬¥1`
¬µ Àù pœàq ¬ØÀùb œÜpq Àù ‚àÜX, 0
Àò
,
(2.43)
where rœÜp¬¥1, œàqsYb,œÉ denotes the (simply) braided commutator in the sense of
(2.26), that is, with no œÑ present anymore (or the identity on X bA X). Here,
as before, p , q indicates the class
`
¬¥ ¬µpz bA z1q, 0
Àò
‚Äú
`
0, piE bA Zqpz bA z1q
Àò
(2.44)
for z, z1 P Z in the quotient Z \ZbAZ pEp¬¥1 bA Zq.
On the other hand, the same considerations hold for Œ¶
`
Œ∑pœÜ, œàq
Àò
: here, from
an analogous expression as the one in (2.42) with Œ∑p`q instead of Œæp`q, it is
clear by means of (A.13) and (A.19) that the top degree is again the zero map.
As the lower degrees of Œæ and Œ∑ are the same except for (the second summand
in) degree p ` q ¬¥ 1, we are left with comparing this one:
`
0, Œ∑p`q¬¥1 Àù pidp`q b ‚àÜXq
Àò
‚Äú
`
0, rœÜp¬¥1, œàqsYb,œÉ Àù ‚àÜX ` p¬¥1qpœÉ Àù pZ bA iEq Àù pœàq ¬ØÀùb œÜpq Àù ‚àÜX
Àò
,
‚Äú
`
0, rœÜp¬¥1, œàqsYb,œÉ Àù ‚àÜX
Àò
` p¬¥1qp`
0, piE bA Zq Àù œÉ Àù pœàq ¬ØÀùb œÜpq Àù ‚àÜX
ÀòÀò
‚Äú
`
0, rœÜp¬¥1, œàqsYb,œÉ Àù ‚àÜX
Àò
` p¬¥1qp¬¥1`
¬µ Àù œÉ Àù pœàq ¬ØÀùb œÜpq Àù ‚àÜX, 0
Àò
‚Äú
`
0, rœÜp¬¥1, œàqsYb,œÉ Àù ‚àÜX
Àò
` p¬¥1qp¬¥1`
¬µ Àù pœàq ¬ØÀùb œÜpq Àù ‚àÜX, 0
Àò
,
by the identiÔ¨Åcation (2.44), the naturality of œÉ, that is, piEbAZqÀùœÉ ‚Äú œÉÀùpZbAiEq
as in (2.32), and Ô¨Ånally the braided commutativity (A.13) again, which hence
coincides with the expression in (2.43).
‚ñ°
DeÔ¨Ånition 2.28. Let H P Extr
UpX bA X, Z bA Zq and let G ‚Äú ¬µ#H#‚àÜX. DeÔ¨Åne
the graded linear map
Œ®‚Äö :
r¬¥1
√Ä
k‚Äú¬¥1
HompBarkpU, X bA Xq, Hk`1q √ë
r¬¥1
√Ä
k‚Äú¬¥1
HompBarkpU, Xq, Gk`1q
as follows:
Œ®kpŒΩq ‚Äì
$
‚Äô
‚Äô
‚Äô
&
‚Äô
‚Äô
‚Äô
%
pŒΩ¬¥1 Àù ‚àÜX, 0q
for
k ‚Äú ¬¥1,
ŒΩk Àù pidk`1 bAop ‚àÜXq
for
0 ƒè k ƒè r ¬¥ 3,
p0, ŒΩr¬¥2 Àù pidr¬¥1 bAop ‚àÜXqq
for
k ‚Äú r ¬¥ 2,
¬µ Àù ŒΩr¬¥1 Àù pidr bAop ‚àÜXq
for
k ‚Äú r ¬¥ 1,
(2.45)
for any ŒΩ P √Är¬¥1
k‚Äú¬¥1 HompBarkpU, X bA Xq, Hk`1q.
Remark 2.29. For r ƒè 3, Eq. (2.45) is to be interpreted as in Remark 2.10.
Lemma 2.30. Under the same assumptions as in Lemma 2.27, consider two
elements Œæ P √Är
k‚Äú¬¥1HompBarkpU, XbAXq, Hkq and ŒΩ P √Är¬¥1
k‚Äú¬¥1HompBarkpU, XbA
Xq, Hk`1q subject to the property that Œæ ‚Äú rd, ŒΩs. Then Œ¶pŒæq ‚Äú rd, Œ®pŒΩqs.

34
DOMENICO FIORENZA AND NIELS KOWALZIG
Proof. We will only consider the case r ƒÖ 3 here and leave the adaptation for
r ƒè 3 to the reader.
By the hypothesis Œæ ‚Äú rd, ŒΩs we explicitly mean Œæk ‚Äú dH Àù ŒΩk ` ŒΩk¬¥1 Àù dBar, for
any k ‚Äú 0, . . . , r ¬¥1, along with Œær ‚Äú ŒΩr¬¥1 Àù dBar as well as Œæ¬¥1 ‚Äú dH Àù ŒΩ¬¥1. Hence,
it is enough to show Œ®k¬¥1pŒΩq Àù dX
Bar ‚Äú Œ¶kpŒΩ Àù dXbAX
Bar
q for k ‚Äú 0, . . . , r, along with
dG Àù Œ®kpŒΩq ‚Äú Œ¶kpdH Àù ŒΩq for k ‚Äú ¬¥1, 0, . . ., r ¬¥ 1.
The Ô¨Årst of these statements follows directly, by looking at the explicit def-
inition of Œ¶ and Œ® in (2.13) resp. (2.45), from the fact that X is a comonoid
in U-Mod, that is, from (A.16), which along with the monoidal structure (A.4)
implies
pidj bAop ‚àÜXq Àù dX
Bar ‚Äú dXbAX
Bar
Àù pidj`1 bAop ‚àÜXq,
(2.46)
for j ‚Äú 0, . . . , r, as already used in the proof of Lemma 2.7. This proves the case
for k ‚Äú 1, . . . , r, where for k ‚Äú r ¬¥ 1 one uses that p0, ŒΩr¬¥2 Àù pidr¬¥1 bAop ‚àÜXqq Àù
dX
Bar ‚Äú p0, ŒΩr¬¥2 Àù pidr¬¥1 bAop ‚àÜXq Àù dX
Barq; Eq. (2.46) also already proves Œ¶rpŒæq ‚Äú
rd, Œ®pŒΩqsr in top degree. In case k ‚Äú 0,
Œ¶0pŒΩ Àù dXbAX
Bar
q ‚Äú
`
0 Àù dXbAX
Bar
, ŒΩ¬¥1 Àù dXbAX
Bar
Àù pid b ‚àÜXq
Àò
‚Äú p0, ŒΩ¬¥1 Àù ‚àÜX Àù dX
Barq ‚Äú Œ®¬¥1pŒΩq Àù dX
Bar.
As for the second statement, Ô¨Årst consider the degrees r ¬¥ 1 and r ¬¥ 2: as in
(1.3), and similar to the proof of Lemma 2.7, one has a commutative diagram
Z bA Z
iH
/
¬µ 
Hr¬¥1
p0,idq

dH
/ Hr¬¥2
id

Z
p¬¥id,0q
/ Z \ZbAZ Hr¬¥1
dHÀùpr2 / Hr¬¥2
and hence, for G ‚Äú ¬µ#H#‚àÜX,
dG Àù Œ®r¬¥1pŒΩq ‚Äú p¬¥id, 0q Àù
`
¬µ Àù ŒΩr¬¥1 Àù pidr bAop ‚àÜXq
Àò
‚Äú p0, idq Àù
`
iH Àù ŒΩr¬¥1 Àù pidr bAop ‚àÜXq
Àò
‚Äú
`
0, piH Àù ŒΩr¬¥1q Àù pidr bAop ‚àÜXq
Àò
‚Äú Œ¶r¬¥1pdH Àù ŒΩq,
considering that dH ‚Äú iH in highest degree. In degree r ¬¥ 2, we compute
dG Àù Œ®r¬¥2pŒΩq ‚Äú pdH Àù pr2q Àù
`
0, ŒΩr¬¥2 Àù pidr¬¥1 bAop ‚àÜXq
Àò
‚Äú pdH Àù ŒΩr¬¥2q Àù pidr¬¥1 bAop ‚àÜXq
‚Äú Œ¶r¬¥2pdH Àù ŒΩq.
In degrees 1 ƒè k ƒè r ¬¥ 3, there is nothing to prove. As for the cases k ‚Äú ¬¥1 and
k ‚Äú 0, recall from (1.2) that the sequence G1
dG
√ù√ë G0
pG
√ù√ë X is actually given by
H1
pdH,0q / H0 ÀÜXbAX X
pr2
/ X,
and therefore
dG Àù Œ®0pŒΩq ‚Äú pdH, 0q Àù
`
ŒΩ0 Àù pid bAop ‚àÜXq
Àò
‚Äú
`
dH Àù ŒΩ0 Àù pid bAop ‚àÜXq, 0
Àò
‚Äú Œ¶0pdH Àù ŒΩq,
which proves the case k ‚Äú 0. Finally, for k ‚Äú ¬¥1, one has:
pG Àù Œ®¬¥1pŒΩq ‚Äú pr2 Àù pŒΩ¬¥1 Àù ‚àÜX, 0q ‚Äú 0 ‚Äú Œ¶¬¥1pdH Àù ŒΩq,
which ends the proof.
‚ñ°
As an immediate consequence we Ô¨Ånd:.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
35
Proposition 2.31. Let X, Z be as above and as before œÜ and œà be two cocycle
representatives for E P Extp
UpX, Zq and F P Extq
UpX, Zq, respectively. Let
s‚ÄöpœÜ, œàq P
p`q¬¥1
√Ä
k‚Äú¬¥1
Hom
`
BarkpU, X bA Xq,
`
pE bA Zq#pX bA Fq
Àò
k`1
Àò
be the map deÔ¨Åned by Eq. (2.40). Then
Œ¶pŒ∑pœÜ, œàqq ‚Äú
‚Äú
d, Œ®pspœÜ, œàqq
‚Ä∞
.
Proof. By Lemma 2.30 and Lemma 2.26, we have rd, Œ®pspœÜ, œàqqs ‚Äú Œ¶pŒæpœÜ, œàqq.
The conclusion then immediately follows from Lemma 2.27.
‚ñ°
As motivated at the end of ¬ß1.7, the following deÔ¨Ånition now makes sense:
DeÔ¨Ånition 2.32. The Gerstenhaber bracket of two cocycle representatives œÜ
and œà as above is, up to a sign, deÔ¨Åned as the top degree component of the
homotopy Œ®p`q¬¥1pspœÜ, œàqq. More precisely,
tœÜ, œàu ‚Äì p¬¥1qpqŒ®p`q¬¥1pspœÜ, œàqq
This deÔ¨Ånition of the Gerstenhaber bracket can be completely made explicit:
Corollary 2.33. One has
tœÜp, œàqu ‚Äú œÜp ¬ØÀù œàq ¬¥ p¬¥1qpp¬¥1qpq¬¥1qœàq ¬ØÀù œÜp,
(2.47)
where ¬ØÀù is the full (internal) operadic composition deÔ¨Åned in (2.21).
Proof. Analogously to what we saw in the proof of Lemma 2.7, the top degree
Œ®p`q¬¥1pspœÜ, œàqq is obtained by precomposing with idp`q bAop ‚àÜX and postcom-
posing with ¬µ, that is, Œ®p`q¬¥1pspœÜ, œàqq ‚Äú ¬µ Àù sp`q¬¥1pœÜ, œàq Àù pidp`q bAop ‚àÜXq.
With the explicit form of s given in (2.40) along with the external and inter-
nal operadic compositions of Eqs. (2.17) and (2.20), respectively, the claim is
straightforward.
‚ñ°
Remark 2.34. Similarly to what was said in Remark 2.18, Eq. (2.47) now
makes sense even if one drops the assumption that œÜp and œàq are cocycles. In
fact, the internal operadic composition (2.21) only asks for cochains.
However, that this is a Gerstenhaber bracket indeed, that is, a graded Lie
bracket fulÔ¨Ålling a graded Leibniz rule with respect to the (internal) cup prod-
uct (2.25), will explicitly only follow from the results in the subsequent ¬ß2.7.
2.7. The Ext groups as a Gerstenhaber algebra. The explicit Gersten-
haber algebra structure on Ext
‚Äö
UpX, Zq is in a direct way obtained by adding
a multiplication to the operad O ‚Äú HomUpBar‚ÄöpU, Xq, Zq from Section 2.4.2,
along with an identity and a unit. DeÔ¨Åne ¬µ P Op2q, 1 P Op1q, and e P Op0q as
¬µpu0, u1, u2, mq
‚Äì
ŒµXpu0u1u2mq,
1pu0, u1, mq
‚Äì
ŒµXpu0u1mq,
epu0, mq
‚Äì
ŒµXpu0mq.
(2.48)
The U-linearity of these maps follows directly from Eqs. (A.17) and (A.12), and
it is a straightforward check that ¬µ Àù1 ¬µ ‚Äú ¬µ Àù2 ¬µ as well as ¬µ Àù1 e ‚Äú 1 ‚Äú ¬µ Àù2 e.
We then have:
Theorem 2.35. Let pU, Aq be a left bialgebroid, Z P Z ‚ÑìpU-Modq a braided
commutative monoid and X P Z rpU-Modq a braided cocommutative comonoid
such that pX, Zq constitutes a commuting pair in the sense of DeÔ¨Ånition A.2.
Then pO, ¬µ, 1, eq deÔ¨Ånes an operad with multiplication, and its cohomology with
respect to the differential Œ¥œÜ ‚Äì p¬¥1qœÜ`1t¬µ, œÜu, which coincides with Ext
‚Äö
UpX, Zq
if U≈Ω is projective over A, becomes a Gerstenhaber algebra.

36
DOMENICO FIORENZA AND NIELS KOWALZIG
Proof. The proof is a cumbersome but straightforward explicit computation
that consists in verifying the associativity (A.21) for the partial compositions
on O deÔ¨Åned in (2.20). Let œÜp P Oppq and œàq P Opqq, and œár P Oprq, and let
j ƒÉ i. One has
ppœÜp Àùi œàqq Àùj œárqpu0, u1, . . . , up`q`r¬¥2, mq
‚Äú
`
œÜp Àùi œàq
Àò`
u0
p1q, . . . , uj¬¥1
p1q , œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
, puj`r
p2q ¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥1q
uj
p2q ¬® ¬® ¬® uj`r¬¥1
p2q
puj`r
p2q ¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr1s, uj`r
p1q , . . . , up`q`r¬¥2
p1q
, mp1q
Àò
¬®Z
`
u0
p2q ¬® ¬® ¬® uj¬¥1
p2q œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
, puj`r
p2q ¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p0q
Àò
‚Äú
œÜp
`
u0
p1q, . . . , uj¬¥1
p1q , œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
, puj`r
p3q ¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr0s
Àò
p¬¥2q
uj
p2q ¬® ¬® ¬® uj`r¬¥1
p2q
puj`r
p3q ¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr1s, uj`r
p1q , . . . , ui`r¬¥2
p1q
,
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥1q
ui`r¬¥1
p2q
¬® ¬® ¬® ui`q`r¬¥2
p2q
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr1s, ui`q`r¬¥1
p1q
, . . . , up`q`r¬¥2
p1q
, mp1q
Àò
¬®Z
`
u0
p2q ¬® ¬® ¬® uj¬¥1
p2q œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
, puj`r
p3q ¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr0s
Àò
p¬¥1q
uj
p3q ¬® ¬® ¬® uj`r¬¥1
p3q
puj`r
p3q ¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr2suj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p0q
Àò
¬®Z
`
u0
p3q ¬® ¬® ¬® uj¬¥1
p3q œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
, puj`r
p3q ¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr0s
Àò
p0q
Àò
(A.15)
‚Äú
œÜp
`
u0
p1q, . . . , uj¬¥1
p1q , œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
, puj`r
p3q ¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr0s
Àò
p¬¥1q
uj
p2q ¬® ¬® ¬® uj`r¬¥1
p2q
puj`r
p3q ¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr1s, uj`r
p1q , . . . , ui`r¬¥2
p1q
,
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥1q
ui`r¬¥1
p2q
¬® ¬® ¬® ui`q`r¬¥2
p2q
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr1s, ui`q`r¬¥1
p1q
, . . . , up`q`r¬¥2
p1q
, mp1q
Àò
¬®Z
`
u0
p2q ¬® ¬® ¬® uj¬¥1
p2q œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
, puj`r
p3q ¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr0s
Àò
p0q
Àò
¬®Z
`
u0
p3q ¬® ¬® ¬® uj`r¬¥1
p3q
puj`r
p3q ¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr2suj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p0q
Àò
(2.49)
‚Äú
œÜp
`
u0
p1q, . . . , uj¬¥1
p1q , œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
, uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
pui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr0s
Àò
p¬¥1q
uj
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
pui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr1s, uj`r
p1q , . . . , ui`r¬¥2
p1q
,
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥1q
ui`r¬¥1
p2q
¬® ¬® ¬® ui`q`r¬¥2
p2q
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr1s, ui`q`r¬¥1
p1q
, . . . , up`q`r¬¥2
p1q
, mp1q
Àò
¬®Z
`
u0
p2q ¬® ¬® ¬® uj¬¥1
p2q œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
, uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
pui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr0s
Àò
p0q
Àò
¬®Z
`
u0
p3q ¬® ¬® ¬® ui`r¬¥2
p3q
pui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr1s
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p0q
Àò
(A.10)
‚Äú
œÜp
`
u0
p1q, . . . , uj¬¥1
p1q , œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
,
`
uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
,
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥1qui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3q
Àò
r0s
Àò
p¬¥1q
uj
p2q ¬® ¬® ¬® uj`r¬¥1
p2q
`
uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
,
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥1qui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3q
Àò
r1s,
uj`r
p1q , . . . , ui`r¬¥2
p1q
, œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥2q
ui`r¬¥1
p2q
¬® ¬® ¬® ui`q`r¬¥2
p2q
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr1s, ui`q`r¬¥1
p1q
, . . . , up`q`r¬¥2
p1q
, mp1q
Àò
¬®Z
`
u0
p2q ¬® ¬® ¬® uj¬¥1
p2q œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
,
`
uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
,
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥1qui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3q
Àò
r0s
Àò
p0q
Àò
¬®Z
`
u0
p3q ¬® ¬® ¬® ui`r¬¥2
p3q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p0q
Àò
,
where braided commutativity along with the YD condition (A.5) was used in
the third step, in the fourth step we used
pup2qmqr0s bA pup2qmqr1s bA pup2qmqr2sup1q
‚Äú pup1qmr0sqr0s bA pup1qmr0sqr1s bA up2qmr1s
(2.49)
for any u P U and m P X as follows from the YD condition (A.6), and in the Ô¨Åfth
step we used the property (A.10) for pX, Zq being a commuting pair.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
37
On the other hand,
ppœÜp Àùj œárq Àùi`r¬¥1 œàqqpu0, u1, . . . , up`q`r¬¥2, mq
‚Äú
`
œÜp Àùj œár
Àò`
u0
p1q, . . . , ui`r¬¥2
p1q
, œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥1q
ui`r¬¥1
p2q
¬® ¬® ¬® ui`q`r¬¥2
p2q
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr1s, ui`q`r¬¥1
p1q
, . . . , up`q`r¬¥2
p1q
, mp1q
Àò
¬®Z
`
u0
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p0q
Àò
‚Äú
œÜp
`
u0
p1q, . . . , uj¬¥1
p1q , œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
,
`
uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
,
pui`q`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr0s
Àò
p¬¥1qui`r¬¥1
p3q
¬® ¬® ¬® ui`q`r¬¥2
p3q
pui`q`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr2s
ui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2q
Àò
r0s
Àò
p¬¥1quj
p2q ¬® ¬® ¬® uj`r¬¥1
p2q
`
uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
,
pui`q`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr0s
Àò
p¬¥1qui`r¬¥1
p3q
¬® ¬® ¬® ui`q`r¬¥2
p3q
pui`q`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr2s
ui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2q
Àò
r1s, uj`r
p1q , . . . , ui`r¬¥2
p1q
, œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
,
pui`q`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr0s
Àò
p¬¥2qui`r¬¥1
p2q
¬® ¬® ¬® ui`q`r¬¥2
p2q
pui`q`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr1s,
ui`q`r¬¥1
p1q
, . . . , up`q`r¬¥2
p1q
, mp1q
Àò
¬®Z
`
u0
p2q ¬® ¬® ¬® uj¬¥1
p2q œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
,
`
uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr0s
Àò
p¬¥1q
ui`r¬¥1
p3q
¬® ¬® ¬® ui`q`r¬¥2
p3q
pui`q`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr2sui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2q
Àò
r0s
Àò
p0q
Àò
¬®Z
`
u0
p3q ¬® ¬® ¬® ui`r¬¥2
p3q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qqr0s
Àò
p0q
Àò
(2.49)
‚Äú
œÜp
`
u0
p1q, . . . , uj¬¥1
p1q , œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
,
`
uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
,
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp3qr0sqr0s
Àò
p¬¥1qui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qr1smp2q
Àò
r0s
Àò
p¬¥1q
uj
p2q ¬® ¬® ¬® uj`r¬¥1
p2q
`
uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
,
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp3qr0sqr0s
Àò
p¬¥1qui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qr1smp2q
Àò
r1s,
uj`r
p1q , . . . , ui`r¬¥2
p1q
, œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp3qr0sqr0s
Àò
p¬¥2q
ui`r¬¥1
p2q
¬® ¬® ¬® ui`q`r¬¥2
p2q
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp3qr0sqr1s, ui`q`r¬¥1
p1q
, . . . , up`q`r¬¥2
p1q
, mp1q
Àò
¬®Z
`
u0
p2q ¬® ¬® ¬® uj¬¥1
p2q œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
,
`
uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
,
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp3qr0sqr0s
Àò
p¬¥1qui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3qr1smp2q
Àò
r0s
Àò
p0q
Àò
¬®Z
`
u0
p3q ¬® ¬® ¬® ui`r¬¥2
p3q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp3qr0sqr0s
Àò
p0q
Àò
(A.20)
‚Äú
œÜp
`
u0
p1q, . . . , uj¬¥1
p1q , œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
,
`
uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
,
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥1qui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3q
Àò
r0s
Àò
p¬¥1q
uj
p2q ¬® ¬® ¬® uj`r¬¥1
p2q
`
uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
,
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥1qui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3q
Àò
r1s,
uj`r
p1q , . . . , ui`r¬¥2
p1q
, œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥2q
ui`r¬¥1
p2q
¬® ¬® ¬® ui`q`r¬¥2
p2q
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr1s, ui`q`r¬¥1
p1q
, . . . , up`q`r¬¥2
p1q
, mp1q
Àò
¬®Z
`
u0
p2q ¬® ¬® ¬® uj¬¥1
p2q œár
`
1, uj
p1q, . . . , uj`r¬¥1
p1q
,
`
uj`r
p2q ¬® ¬® ¬® ui`r¬¥2
p2q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
,
pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p¬¥1qui`r¬¥1
p3q
¬® ¬® ¬® up`q`r¬¥2
p3q
mp3q
Àò
r0s
Àò
p0q
Àò
¬®Z
`
u0
p3q ¬® ¬® ¬® ui`r¬¥2
p3q
œàq
`
1, ui`r¬¥1
p1q
, . . . , ui`q`r¬¥2
p1q
, pui`q`r¬¥1
p2q
¬® ¬® ¬® up`q`r¬¥2
p2q
mp2qqr0s
Àò
p0q
Àò
,
which is the same as the big formula block on the page before (and if it is
not, it is merely a typo), and which hence proves the Ô¨Årst line of the partial
operadic associativity (A.21). Verifying the second line in (A.21) is left to the
reader, and the third line is actually redundant as it says the same as the Ô¨Årst
(but the associativity properties are easier to read or memorise written this
way). This concludes the proof that O is an operad with multiplication.
That the differential Œ¥ on the complex (2.19) can be expressed as Œ¥œÜ ‚Äú
p¬¥1qœÜ`1t¬µ, œÜu additionally uses the property (A.18). That an operad with multi-
plication induces a Gerstenhaber structure on cohomology follows from a well-
known (by now) classical result [GeSch], cf. Appendix ¬ßA.3.
‚ñ°
APPENDIX A. CENTRES, BIALGEBROIDS, AND OPERADS
A.1. Centres in monoidal categories. The following standard deÔ¨Ånition
can be found, e.g., in [Sch, Def. 4.3] or [EtGeNiOs, Def. 7.13.1]:

38
DOMENICO FIORENZA AND NIELS KOWALZIG
DeÔ¨Ånition A.1. The left weak centre Z ‚ÑìpC q of a monoidal category pC , b, 1q is
the category whose objects are pairs pZ, œÉZ,¬¥q, where Z P C , such that
œÉZ,M : Z b M √ë M b Z
is natural in M P C and such that œÉZ,MbM1 ‚Äú pM b œÉZ,M1qpœÉZ,M b M 1q holds
for all M, M 1 P C (which amounts to a hexagon axiom if involving associators),
along with œÉZ,1 ‚Äú idZ.
The left weak centre is a monoidal category again, in particular a braided
one. At times, we only write pZ, œÉq instead of pZ, œÉZ,¬¥q for objects in Z ‚ÑìpC q.
Likewise, one deÔ¨Ånes the right weak centre Z rpC q of a monoidal category C
as the category with objects pX, œÑ¬¥,Xq, where this time
œÑM,X : M b X √ë X b M
is natural in M P C , subject to analogous conditions as above.
DeÔ¨Ånition A.2. A commuting pair in a monoidal category C is a pair pX, Zq P
Z rpC q ÀÜ Z ‚ÑìpC q such that
œÉZ,X ‚Äú œÑZ,X
holds as maps Z b X √ë X b Z.
Remark A.3. Since we wanted to deal with left and right centres and hence
involve two different braided monoidal categories, the above deÔ¨Ånition is a
slight variation of the following more standard one: in a braided monoidal cat-
egory pZ , œÉq, a pair pX, Zq of its objects is called a commuting pair or a pair
of commuting objects if œÉZ,X Àù œÉX,Z ‚Äú idXbZ. For example, the braided tensor
product algebra (see [Bae, Lem. 2]) of two braided commutative monoids X, Z
in pZ , œÉq is not necessarily braided commutative again but is so if pX, Zq is a
commuting pair, see op. cit., Lemma 3. See Remark A.4 for further discussion.
A.2. Left bialgebroids, their (co)modules, and centres. In this subsec-
tion, we gather all the necessary material on bialgebroids, their modules, their
comodules, the left and right weak centres in question and how explicitly com-
muting pairs translate to this context.
A.2.1. Bialgebroids. A left bialgebroid pU, A, ‚àÜ, Œµ, s, tq, or pU, Aq for short, is a
generalisation of a k-bialgebra to a bialgebra object over a noncommutative
base ring A (typically a k-algebra), and consists of a k-algebra U which is si-
multaneously an Ae-ring and an A-coring that are compatible in mostly the
standard way, at least formally. In particular, one has a ring homomorphism
resp. antihomomorphism s, t: A √ë U (source resp. target) inducing four com-
muting A-module structures on U
a ¬ß b ≈ª u ≈Ω c ƒë d ‚Äì tpcqspbquspdqtpaq
(A.1)
for u P U, a, b, c, d P A, abbreviated by symbols like ¬ß≈ªU≈Ωƒë or similar, depending
on the relevant action(s) in a speciÔ¨Åc situation. Also introduce the Ae-ring
U ÀÜA U ‚Äì
‚ê£≈ô
iui b vi P U≈Ω bA ≈ªU | ≈ô
ia ¬ß ui b vi ‚Äú ≈ô
iui b vi ƒë a, @a P A
(
the Sweedler-Takeuchi product, which allows to deÔ¨Åne on U a comultiplication
‚àÜ: U √ë U ÀÜA U ƒÇ U≈Ω bA ≈ªU , u √û√ë up1q bA up2q,
along with a counit Œµ: U √ë A subject to certain identities that at some points
differ from those in the bialgebra case, see [Ta] for the original construction.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
39
A.2.2. Example. The simplest example of a (noncommutative noncocommuta-
tive) left bialgebroid is given by pAe, Aq, where Ae ‚Äì Abk Aop is the enveloping
algebra of an associative k-algebra A (which, in particular, allows to consider
Schwede‚Äôs approach in [Schw] as a special case of our results in the main text).
Its structure maps are, for any a, b P A, given by
‚àÜpa bk bq
‚Äú
pa bk 1q bA p1 bk bq,
Œµpa bk bq
‚Äú
ab,
spaq
‚Äú
a bk 1,
tpaq
‚Äú
1 bk a,
(A.2)
along with the factorwise multiplication on A bk Aop for the product.
A.2.3. Bialgebroid modules and comodules. A left U-module M over a left bial-
gebroid pU, Aq is a left module over the underlying ring U. The category of left
U-modules will be denoted by U-Mod and we usually write all U-actions just
by juxtaposition. The forgetful functor U-Mod √ë Ae-Mod is induced by
a ≈ª m ≈Ω b ‚Äì spaqtpbqm,
@ a, b P A, m P M,
(A.3)
with respect to which one forms the tensor product M bA M 1 of left U-modules,
and which, similar to the bialgebra case, is a left U-module again by
upm bA m1q ‚Äì ‚àÜpuqpm bA m1q ‚Äú up1qm bA up2qm1,
(A.4)
for u P U, m P M, m1 P M 1. In other words, U-Mod is a (strict) monoidal
category with bA as monoidal product and A as its unit object.
A left (and analogously right) comodule over a left bialgebroid pU, Aq is a
comodule over the underlying A-coring [BrWi, ¬ß3]: a left A-module M along
with a coassociative and counital coaction Œª: M √ë U≈ΩbAM, m √û√ë mp¬¥1qbAmp0q,
which, by deÔ¨Åning the right A-action ma ‚Äì Œµpmp¬¥1q ƒë aqmp0q for all a P A on M,
effectively corestricts to a map Œª : M √ë U≈Ω ÀÜA M, where
U≈Ω ÀÜA M ‚Äì
‚ê£≈ô
iui b mi P U≈Ω bA M | ≈ô
ia ¬ß ui b mi ‚Äú ≈ô
iui b mia, @a P A
(
is a subspace in U≈ΩbAM. The left coaction is A-bilinear in the sense of Œªpambq ‚Äú
a≈ªmp¬¥1q ƒëbbAmp0q for all m P M, a, b P A. Again, the category U-Comod of left
U-comodules (resp. the category Comod-U of right U-comodules) is a (strict)
monoidal category with monoidal product bA and unit object A.
A.2.4. A left-left Yetter Drinfel‚Äôd (YD) module Z over a left bialgebroid pU, Aq
is simultaneously a left U-module (with action denoted by juxtaposition) and a
left U-comodule with coaction Œª: Z √ë U≈Ω bA Z, z √û√ë zp¬¥1q bA zp0q such that the
two forgetful functors U-Mod √ë Ae-Mod and U-Comod √ë Ae-Mod induce
the same A-bimodule structure on Z, and such that
up1qzp¬¥1q bA up2qzp0q ‚Äú pup1qzqp¬¥1qup2q bA pup1qzqp0q
(A.5)
holds for all u P U and z P Z, the corresponding category of which is braided
monoidal (see below) with respect to bA, unit object given by the base algebra
A, and denoted by U
UYD.
A.2.5. Likewise, a left-right Yetter Drinfel‚Äôd (YD) module X over a left bialge-
broid pU, Aq is simultaneously a left U-module (with action denoted by juxtapo-
sition) and a right U-comodule with coaction Ã∫: X √ë X bA ≈ªU , x √û√ë xr0s bA xr1s
such that the two forgetful functors U-Mod √ë Ae-Mod and Comod-U √ë
Ae-Mod induce the same A-bimodule structure on X, and such that
up1qxr0s bA up2qxr1s ‚Äú pup2qxqr0s bA pup2qxqr1sup1q
(A.6)
holds for all u P U and x P X, the corresponding category of which is braided
monoidal (see below) with respect to bA, unit object given by the base algebra
A, and denoted by UYDU.

40
DOMENICO FIORENZA AND NIELS KOWALZIG
A.2.6. Observe that, in contrast to bialgebras, there are no right-left or right-
right YD modules over left bialgebroids.
A.2.7. Weak centres and commuting pairs for left bialgebroids. As mentioned
at the beginning of ¬ß2.1, a well-known fact [Sch, Prop. 4.4] establishes
an equivalence of braided monoidal categories between the left weak cen-
tre Z ‚ÑìpU-Modq of the monoidal category U-Mod in the sense of DeÔ¨Ånition
A.1, and the category U
UYD, and analogously between the right weak centre
Z rpU-Modq and UYDU: as for the Ô¨Årst case, assign to any Z P U
UYD its under-
lying left module Z P U-Mod along with the left braiding
œÉ ‚Äú œÉZ,M : Z bA M √ë M bA Z,
z bA m √û√ë zp¬¥1qm bA zp0q
(A.7)
for any M P U-Mod, to form an object pZ, œÉq in Z ‚ÑìpU-Modq. Much the same
way, assign to any X P
UYDU its underlying left module X P U-Mod along
with the right braiding
œÑ ‚Äú œÑM,X : M bA X √ë X bA M,
m bA x √û√ë xr0s bA xr1sm
(A.8)
for any M P U-Mod, to give an object pX, œÑq in Z rpU-Modq.
A pair pX, Zq of objects in Z rpU-Modq ÀÜ Z ‚ÑìpU-Modq resp. UYDU ÀÜ U
UYD is
then called a commuting pair in the sense of DeÔ¨Ånition A.2 if
œÑZ,X ‚Äú œÉZ,X
(A.9)
holds, or, if for all x P X and z P Z
xr0s bA xr1sz ‚Äú zp¬¥1qx bA zp0q
(A.10)
is true, using explicitly the braidings (A.8) and (A.7), respectively.
Remark A.4. If the braiding (A.7) is invertible, which happens if more struc-
ture is present as, for example, if a bialgebra is a Hopf algebra with invertible
antipode, one sets œÑM,Z ‚Äú œÉ¬¥1
M,Z, and left and right weak centres are equivalent
as braided monoidal categories, which we then refer to simply as the centre,
also called the Drinfel‚Äôd centre and denoted here by Z1pU-Modq.
As a braided monoidal category this has a centre again (the centre of a cen-
tre, so to speak), sometimes referred to as M√ºger or Rehren centre, deÔ¨Åned
by those objects Z in Z1pU-Modq for which œÉZ,M ‚Äú œÉ¬¥1
M,Z for all M P U-Mod,
and denoted Z2pU-Modq, see [M√º, Def. 5.12] or [Reh] for more information.
The category Z2pU-Modq is obviously symmetric monoidal (and can be de-
Ô¨Åned for any monoidal category C ). By mere deÔ¨Ånition, each pair of objects
in Z2pU-Modq yields a commuting pair in the sense of (A.9) but at least for
C ‚Äú U-Mod not very interesting ones: these are essentially A-modules (or
direct sums thereof) as is the case if U were a Hopf algebra over A ‚Äú k.
However, the notion of commuting pairs is more general: for example, both
pM, Aq and pA, Nq for arbitrary M, N P Z1pU-Modq obviously are commuting
pairs, but not necessarily in Z2pU-Modq. Slightly less trivial, for a cocom-
mutative left bialgebroid, each M P U-Mod can be made into a (left-left) YD
module by means of the trivial left coaction and hence each pair pM, Nq of left
U-modules yields a pair of commuting objects.
A.2.8. Braided commutative monoids in U
UYD. A braided commutative monoid
in U
UYD is, roughly speaking, an object Z that has four properties: it is a (left-
left) YD module, it is a left U-module algebra, a left U-comodule algebra, and
Ô¨Ånally it is braided commutative.
More in detail, writing the action and coaction of an object Z P U
UYD as in
¬ßA.2.4, assume that pZ, ¬µ, 1Zq with multiplication z ¬®Z z1 ‚Äì ¬µpz, z1q and unit 1Z

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
41
is an A-ring. Being a left U-module algebra then explicitly means
upz ¬®Z z1q ‚Äú pup1qzq ¬®Z pup2qz1q,
(A.11)
along with
u1Z ‚Äú Œµpuq ≈ª 1Z.
(A.12)
On the other hand, pZ, ¬µ, 1Zq also being a left U-comodule algebra implies
ŒªZpz ¬®Z z1q ‚Äú ŒªZpzqŒªZpz1q ‚Äú zp¬¥1qz1
p¬¥1q bA zp0q ¬®Z z1
p0q,
along with ŒªZp1Zq ‚Äú 1U bA 1Z. Moreover,
¬µ Àù œÉ ‚Äú ¬µ,
(A.13)
which says that pZ, ¬µ, 1Zq is supposed to be braided commutative; explicitly,
z ¬®Z z1 ‚Äú pzp¬¥1qz1q ¬®Z zp0q.
(A.14)
Observe that it is precisely (and tautologically) the YD condition (A.5) on Z
that guarantees (A.14) to be well-deÔ¨Åned, even when thinking of U-modules:
upz ¬®Z z1q ‚Äú up1qz ¬®Z up2qz1 (A.14)
‚Äú pup1qzqp¬¥1qup2qz1 ¬®Z pup1qzqp0q
(A.5)
‚Äú up1qzp¬¥1qz1 ¬®Z up2qzp0q ‚Äú u
`
pzp¬¥1qz1q ¬®Z zp0q
Àò
.
(A.15)
Note that there is no relation whatsoever to whether the multiplication ¬µ
in Z itself is commutative or not: for example, the base algebra A in a left
bialgebroid itself is a braided commutative monoid in U
UYD but not necessarily
commutative as a k-algebra.
A.2.9. Braided cocommutative comonoids in UYDU. In much the same way as
in ¬ßA.2.8, a braided cocommutative comonoid in UYDU (equivalently, a braided
commutative monoid in pUYDUqop) is again an object equipped with four prop-
erties: it is a (left-right) YD module, it is a left U-module coalgebra as well as
a left U-comodule coalgebra, and Ô¨Ånally it is braided cocommutative.
More precisely, writing the action and coaction on an object X P
UYDU as
in ¬ßA.2.5, assume that pX, ‚àÜX, ŒµXq is an A-coring with coproduct ‚àÜX : X √ë
X bA X, x √û√ë xp1q bA xp2q and counit ŒµX : X √ë A.
Being a left U-module
coalgebra then explicitly means
‚àÜXpuxq ‚Äú ‚àÜXpuq‚àÜXpxq ‚Äú up1qxp1q bA up2qxp2q,
(A.16)
along with
ŒµXpuxq ‚Äú Œµpu ƒë ŒµXpxqq.
(A.17)
On the other hand, pX, ‚àÜX, ŒµXq is also a left U-comodule coalgebra, which reads
xr0sp1q bA xr0sp2q bA xr1s ‚Äú xp1qr0s bA xp2qr0s bA xp2qr1sxp1qr1s,
for any x P X, along with
t
`
ŒµXpxq
Àò
‚Äú ŒµXpxr0sq ≈ª xr1s.
(A.18)
Finally, braided cocommutativity manifests as
œÑ Àù ‚àÜX ‚Äú ‚àÜX,
(A.19)
or, explicitly,
xp2qr0s bA xp2qr1sxp1q ‚Äú xp1q bA xp2q.
(A.20)
A.3. Operads and Gerstenhaber algebras. A (non-Œ£) operad O in the cate-
gory of k-modules is a family tOpnqunƒõ0 of k-modules with k-bilinear operations

42
DOMENICO FIORENZA AND NIELS KOWALZIG
Àùi : Oppq b Opqq √ë Opp ` q ¬¥ 1q, i ‚Äú 1, . . . , p, subject to
œï Àùi œà
‚Äú
0
if p ƒÉ i
or
p ‚Äú 0,
pœï Àùi œàq Àùj œá
‚Äú
$
‚Äô
&
‚Äô
%
pœï Àùj œáq Àùi`r¬¥1 œà
if j ƒÉ i,
œï Àùi pœà Àùj¬¥i`1 œáq
if i ƒè j ƒÉ q ` i,
pœï Àùj¬¥q`1 œáq Àùi œà
if j ƒõ q ` i.
(A.21)
In the main text, especially in ¬ß2.4.1, these operations are referred to as in-
ternal operadic composition, in contrast to the external one dealt with in ¬ß2.2.
Call an operad unital if there is an identity 1 P Op1q such that œïÀùi1 ‚Äú 1Àù1œï ‚Äú œï
for all œï P Oppq and i ƒè p, and call it with multiplication if there exists a mul-
tiplication ¬µ P Op2q and a unit e P Op0q such that ¬µ Àù1 ¬µ ‚Äú ¬µ Àù2 ¬µ as well as
¬µ Àù1 e ‚Äú ¬µ Àù2 e ‚Äú 1. Such an object will be denoted by the triple pO, ¬µ, eq. It is
then a standard result (see [GeSch]) that pO, ¬µ, eq deÔ¨Ånes a cocyclic k-module
the cohomology H ‚ÄöpOq of which yields a Gerstenhaber algebra.
REFERENCES
[Bae] J. Baez, Hochschild homology in a braided tensor category, Trans. Amer. Math. Soc. 344
(1994), no. 2, 885‚Äì906.
[BrWi] T. Brzezi¬¥nski and R. Wisbauer, Corings and comodules, London Mathematical Society Lec-
ture Note Series, vol. 309, Cambridge University Press, Cambridge, 2003.
[EtGeNiOs] P. Etingof, S. Gelaki, D. Nikshych, and V. Ostrik, Tensor categories, vol. 205, Amer.
Math. Soc., Providence, RI, 2015.
[Ge] M. Gerstenhaber, The cohomology structure of an associative ring, Ann. of Math. (2) 78 (1963),
no. 2, 267‚Äì288.
[GeSch] M. Gerstenhaber and S. Schack, Algebras, bialgebras, quantum groups, and algebraic
deformations, Deformation theory and quantum groups with applications to mathematical
physics (Amherst, MA, 1990), Contemp. Math., vol. 134, Amer. Math. Soc., Providence, RI,
1992, pp. 51‚Äì92.
[He] R. Hermann, Monoidal categories and the Gerstenhaber bracket in Hochschild cohomology,
Mem. Amer. Math. Soc. 243 (2016), no. 1151, v+146pp.
[MacL] S. Mac Lane, Homology, Classics in Mathematics, Springer-Verlag, Berlin, 1995, Reprint
of the 1975 edition.
[M√º] M. M√ºger, From subfactors to categories and topology. II: The quantum double of tensor cat-
egories and subfactors, J. Pure Appl. Algebra 180 (2003), no. 1‚Äì2, 159‚Äì219.
[NeRe] A. Neeman and V. Retakh, Extension categories and their homotopy, Compositio Math. 102
(1996), no. 2, 203‚Äì242.
[Reh] K.-H. Rehren, Braid group statistics and their superselection rules, The Algebraic Theory
of Superselection Sectors, Introduction and Recent Results (Palermo, 1989), World Sci. Publ.,
River Edge, NJ, 1990, pp. 333‚Äì355.
[Re] V. Retakh, Homotopy properties of categories of extensions, Uspekhi Mat. Nauk 41 (1986),
no. 6 (252), 179‚Äì180.
[Sch] P. Schauenburg, Duals and doubles of quantum groupoids (ÀÜR-Hopf algebras), New trends
in Hopf algebra theory (La Falda, 1999), Contemp. Math., vol. 267, Amer. Math. Soc., Provi-
dence, RI, 2000, pp. 273‚Äì299.
[Schw] S. Schwede, An exact sequence interpretation of the Lie bracket in Hochschild cohomology,
J. Reine Angew. Math. 498 (1998), 153‚Äì172
[Sh1] B. Shoikhet, Hopf algebras, tetramodules, and n-fold monoidal categories, preprint (2009),
arxiv.org/abs/0907.3335v2.
[Sh2] B. Shoikhet, Differential graded categories and Deligne conjecture, Adv. Math. 289 (2016),
797‚Äì843.
[Ta] M. Takeuchi, Groups of algebras over A b A, J. Math. Soc. Japan 29 (1977), no. 3, 459‚Äì492.
DIPARTIMENTO DI MATEMATICA, UNIVERSIT√Ä DEGLI STUDI DI ROMA LA SAPIENZA, P.LE
ALDO MORO 5, 00185 ROMA, ITALIA
Email address: fiorenza@mat.uniroma1.it
DIPARTIMENTO DI MATEMATICA, UNIVERSIT√Ä DEGLI STUDI DI NAPOLI FEDERICO II, VIA
CINTIA, 80126 NAPOLI, ITALIA
Email address: niels.kowalzig@unina.it

