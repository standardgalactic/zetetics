arXiv:2112.11552v1  [math.CT]  21 Dec 2021
BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION
CATEGORIES
DOMENICO FIORENZA AND NIELS KOWALZIG
ABSTRACT. Building on Retakhâ€™s approach to Ext groups through categories
of extensions, Schwede reobtained the well-known Gerstenhaber algebra struc-
ture on Ext groups over bimodules of associative algebras both from splicing
extensions (leading to the cup product) and from a suitable loop in the cat-
egories of extensions (leading to the Lie bracket). We show how Schwedeâ€™s
construction admits a vast generalisation to general monoidal categories with
coefï¬cients of the Ext groups taken in (weak) left and right monoidal (or Drin-
felâ€™d) centres. In case of the category of left modules over bialgebroids and
coefï¬cients given by commuting pairs of braided (co)commutative (co)monoids
in these categorical centres, we provide an explicit description of the algebraic
structure obtained this way, and a complete proof that this leads to a Gersten-
haber algebra is then obtained from an operadic approach. This, in particular,
considerably generalises the classical construction given by Gerstenhaber him-
self. Conjecturally, the algebraic structure we describe should produce a Ger-
stenhaber algebra for an arbitrary monoidal category enriched over abelian
groups, but even the bilinearity of the cup product and of the Lie-type bracket
deï¬ned by the abstract construction in terms of extension categories remain
elusive in this general setting.
CONTENTS
Introduction
2
1.
Operations in extension categories
4
1.1.
The hash operation
5
1.2.
The tensor product
7
1.3.
The cup product
9
1.4.
The mystic hexagon
10
1.5.
Cocycle representatives
11
1.6.
The cup product in terms of cocycle representatives
12
1.7.
The bracket t , u in terms of cocycle representatives
13
2.
An explicit approach for bialgebroids
15
2.1.
Ext groups and extension categories over bialgebroid modules
15
2.2.
The external cup product
17
2.3.
A cocycle representative for the cup product
19
2.4.
The cup product as internal operadic composition
24
2.5.
A second cocycle representative for E Y F
27
2.6.
Brackets from homotopies
30
2.7.
The Ext groups as a Gerstenhaber algebra
35
Appendix A.
Centres, bialgebroids, and operads
37
References
42
2020 Mathematics Subject Classiï¬cation. 18G15, 18M15, 18M70, 16T05, 16T15, 16E40 .
Key words and phrases. Loops of extensions, monoidal categories, centres, operads, bialge-
broids, Gerstenhaber algebras.
1

2
DOMENICO FIORENZA AND NIELS KOWALZIG
INTRODUCTION
An apparently quite wide-spread theorem roughly states that for a monoidal
category pC , b, 1q fulï¬lling some mild conditions, the groups ExtC p1, 1q deï¬ne
a Gerstenhaber algebra: that is, a graded object equipped with a graded Lie
bracket and a graded commutative product subject to a Leibniz rule. However,
a proof seems to be written down only in [Sh1, Sh2], see also [He] for an ad-
vanced attempt. The mild conditions just mentioned refer to the problem that
for an arbitrary monoidal category a priori the monoidal structure is not ex-
act, and one hence assumes the existence of a full additive subcategory which
has the desired properties and is implicitly dealt with instead of the original
monoidal category. The precise conditions needed, which we prefer not to dis-
cuss here in detail, are spelled out in [Sh1, Â§2.1] or, somewhat differently, in
[Sh2, Def. 5.1], or [Schw, Lem. 2.1] for a discussion adapted to the Hochschild
context of associative algebras.
Less known and so far unproven is the following enhancement of the above
statement, which we formulate as a conjecture here:
Conjecture. Let C be a monoidal category (fulï¬lling a few mild conditions), let
Z be a braided commutative monoid in the left weak monoidal centre of C , and
let X be a braided cocommutative comonoid in the right weak monoidal centre
of C . If pX, Zq is a commuting pair, then ExtC pX, Zq is a Gerstenhaber algebra.
Here, by left resp. weak centre of pC , b, 1q we mean those (braided monoidal)
categories Z â„“pC q resp. Z rpC q whose objects are objects in C together with not
necessarily invertible natural maps Z b M Ã‘ M b Z resp. M b X Ã‘ X b M
that for arbitrary M P C fulï¬l certain (hexagon) compatibilities in a customary
sense, and commuting pair refers to the case where these two maps coincide
on Z b X, see Â§A.1 for a more precise deï¬nition.
That these central objects need further structure such as a multiplication
resp. comultiplication in order to deï¬ne a Gerstenhaber algebra on their Ext
groups becomes clear, e.g., when observing that the usual Yoneda product is
not an internal operation on ExtC pX, Zq.
In Â§1, we motivate the above conjecture by mimicking Schwedeâ€™s description
[Schw] of the Gerstenhaber algebra structure on the Hochschild cohomology of
an associative algebra through Retakhâ€™s enhancement of Ext groups to Ext
spaces. More precisely, if we denote by # the splicing of two extensions in Ext
(that induces the Yoneda product on Ext groups), and if we assume X to be a
comonoid in Z rpC q with comultiplication âˆ†X and Z a monoid in Z â„“pC q with
multiplication Âµ, we can consider both multiplication resp. comultiplication as
extensions of length zero, and so as objects in Ext0
C pX, X b Xq and Ext0
C pZ b
Z, Zq, respectively. Given two extensions E P Extp
C pX, Zq and F P Extq
C pX, Zq of
length p resp. q, one can then consider the splicing
E Y F â€“ Âµ#pE b Zq#pX b Fq#âˆ†X
and its connected component in Extp`q
C
pX, Zq, that for convenience will be de-
noted by the same symbol:
E Y F P Ï€0Extp`q
C
pX, Zq Â» Extp`q
C
pX, Y q.
On top, if MolochpE, Fq denotes the truncated tensor product complex of two
extensions E and F, one can devise the following loop in Extp`q
C
pX, Zq:

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
3
Âµ#MolochpE, Fq#âˆ†X
vâ§â§â§â§â§â§â§â§â§â§â§â§â§
(â˜
â˜
â˜
â˜
â˜
â˜
â˜
â˜
â˜
â˜
â˜
â˜
â˜
E Y F â€œ Âµ#pE b Zq#pX b Fq#âˆ†X
O
Âµ#pZ b Fq#pE b Xq#âˆ†X
Âµ#pZ b Eq#pF b Xq#âˆ†X
F Y E â€œ Âµ#pF b Zq#pX b Eq#âˆ†X

Âµ#MolochpF, Eq#âˆ†X
hâ˜â˜â˜â˜â˜â˜â˜â˜â˜â˜â˜â˜â˜
6â§
â§
â§
â§
â§
â§
â§
â§
â§
â§
â§
â§
â§
where the vertical arrows use in an essential way that X and Z form a com-
muting pair in the right and left weak centres of C , respectively.
Choosing E Y F as a base point in Extp`q
C
pX, Zq, this gives an element
tE, Fu P Ï€1pExtp`q
C
pX, Zq, E Y Fq Â» Extp`qÂ´1
C
pX, Zq.
This way, one has deï¬ned a degree zero cup product
Y: Extp
C pX, Zq Ë† Extq
C pX, Zq Ã‘ Extp`q
C
pX, Zq
and a degree Â´1 bracket
tÂ´, Â´u: Extp
C pX, Zq Ë† Extq
C pX, Zq Ã‘ Extp`qÂ´1
C
pX, Zq.
Unfortunately, even in the case of the category of bimodules over associative
algebras, this topological approach leaves one one step before the conclusion:
a proof that these operations deï¬ne a Gerstenhaber algebra or the mere fact
these operations are bilinear remain elusive and no simpler argument than
those used in [Sh1] seems to be available to establish these facts in a purely
topological fashion.
In case of the category of bimodules over associative algebras, however,
there is a convenient mixed topological/algebraic approach developed in the al-
ready mentioned work [Schw] by Schwede, which leads to a transparent proof
of the fact that the cup product and the bracket obtained from a similar loop as
above indeed do endow the groups ExtAepA, Aq of an associative algebra A with
a Gerstenhaber algebra structure: it is shown in op. cit. how to obtain an ex-
plicit description in terms of Hochschild cocycle representatives of the cup and
bracket operations (dictated by the geometry of Ext spaces) for which the Ger-
stenhaber algebra axioms can be directly checked, and which coincide with the
cup product and Lie bracket of the classical Gerstenhaber algebra structure on
ExtAepA, Aq as originally introduced in [Ge].
Following the mentioned approach, we will show how to extract a cocycle de-
scription for the cup and bracket operations derived from the geometry of Ext
spaces of a commuting pair pX, Zq. As even an accurate construction will not
allow us here to obtain a proof for a Gerstenhaber algebra structure in full gen-
erality, we will be rather informal in this derivation, omitting all the needed
technical (mainly categorical) assumptions in order to make the construction
completely rigorous. Yet, we will be accurate enough to be able to provide in
Â§2 an explicit cocycle description for the operations in the particular case that
C is the monoidal category of left U-modules for a left bialgebroid pU, Aq. In

4
DOMENICO FIORENZA AND NIELS KOWALZIG
terms of this cocycle description we shall explicitly exhibit the Gerstenhaber
algebra structure, thus turning the above Conjecture into Theorem 2.35:
Theorem (Theorem 2.35). Let pU, Aq be a left bialgebroid, Z a braided com-
mutative monoid in the left weak centre of the monoidal category of left U-
modules, and X a braided cocommutative comonoid in its right weak cen-
tre such that pX, Zq constitutes a commuting pair. Then the cochain complex
HomUpBarâ€špU, Xq, Zq, computing Ext
â€š
UpX, Zq for A-projective U, deï¬nes an op-
erad with multiplication, which induces a Gerstenhaber algebra structure on
the cohomology groups.
Taking U â€œ Ae and X â€œ Y â€œ A, this recovers the usual Gerstenhaber alge-
bra structure on the standard Hochschild cohomology of an associative algebra
A with coefï¬cients in itself as a very particular case.
*
*
*
Throughout the whole text k will be a commutative ring, of characteristic
zero if need be. Unadorned tensor products are not to be understood over k but
rather denote the product in a monoidal category.
1. OPERATIONS IN EXTENSION CATEGORIES
We begin by recalling, in an informal way, the basic deï¬nitions of the Ext
spaces we are going to use in the construction of the cup product and the
bracket operation on Ext groups. Our aim here is not to provide a rigorous
construction but rather to ï¬x notation and orient the reader. Details on the
formal construction and proofs of the statements can be found, e.g., in the orig-
inal works by Retakh on Ext spaces [Re] or by Neeman and Retakh [NeRe].
We will be working in a ï¬xed monoidal category C and will denote the ob-
jects of C by the symbols X, Y, Z, . . .. We will also assume C is close enough
to an abelian category with enough projectives so that expressions like â€œzero
objectâ€, â€œshort exact sequenceâ€ or â€œprojective resolutionâ€ make sense in C . In
particular, in C we will have a notion of an extension of an object X by an
object Y , meaning by this a short exact sequence of the form
0 Ã‘ Y Ã‘ E Ã‘ X Ã‘ 0
in C . Iterating this construction, one gets the notion of a p-fold extension of an
object X by an object Y , which will be denoted by
E:
0 Ã‘ Y Ã‘ EpÂ´1 Ã‘ Â¨ Â¨ Â¨ Ã‘ E0 Ã‘ X Ã‘ 0,
so that
Ei â€œ
$
â€™
â€™
â€™
â€™
â€™
â€™
&
â€™
â€™
â€™
â€™
â€™
â€™
%
0
if i Ä Â´2
X
if i â€œ Â´1
Ei
if 0 Ä i Ä p Â´ 1
Y
if i â€œ p
0
if i Ä› p ` 1.
The maps Ei Ã‘ EiÂ´1 will be denoted by dE,i or simply by di, dE, or still simpler
by d when no or not much confusion is likely to arise. Occasionally, to make
it manifest that X is in place or degree Â´1 and Y in place or degree p, we
will formally use the degree j shift symbol rjs, familiar from the theory of
triangulated categories, and will write a p-fold extension of X by Y as
E:
0 Ã‘ Y rps Ã‘ EpÂ´1 Ã‘ Â¨ Â¨ Â¨ Ã‘ E0 Ã‘ XrÂ´1s Ã‘ 0.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
5
In other words, we will be implicitly assuming that objects without an index
are placed in degree zero. More generally, an object denoted, for example, Eirjs,
is to be thought as placed in degree i ` j.
If E and F are two p-fold extensions of X by Y , a morphism f : E Ã‘ F of p-fold
extensions is deï¬ned as a commutative diagram
0
/ Y
/ EpÂ´1
fpÂ´1

/ Â¨ Â¨ Â¨
/ E1
/
f1

E0
f0

/ X
/ 0
0
/ Y
/ FpÂ´1
/ Â¨ Â¨ Â¨
/ F1
/ F0
/ X
/ 0
(1.1)
that is, where the leftmost and rightmost vertical arrows are the identity. If
f, g : E Ã‘ F are two morphisms of p-fold extensions, then a chain homotopy
between f and g is a degree `1 morphism s of graded objects from E to F such
that f Â´ g â€œ rd, ss. Explicitly, remembering that both f and g are identities
in degree Â´1 and p and that both Ei and Fi are zero outside the range rÂ´1, ps,
this amounts to the datum of a family of morphisms si : Ei Ã‘ Fi`1, for i â€œ
Â´1, 0, 1, . . ., p, such that
d0 Ë sÂ´1
â€œ
0,
d Ë si ` siÂ´1 Ë d
â€œ
fi Â´ gi
for 0 Ä i Ä p Â´ 1,
spÂ´1 Ë dpÂ´1
â€œ
0.
Similarly, one deï¬nes homotopies between homotopies, etc. This way, one de-
ï¬nes an 8-category Extp
C pX, Y q whose objects are p-fold extensions of X by Y ,
whose 1-morphisms are morphisms of p-fold extensions, whose 2-morphisms
are homotopies between morphisms, and so on. The space Extp
C pX, Y q is de-
ï¬ned as the topological realisation of the simplicial set deï¬ned by this 8-
category Extp
C pX, Y q, that is, the simplicial set having the k-morphisms in
Extp
C pX, Y q as k-simplices. The two basic properties of the Ext spaces that we
shall need and are going to use are the following relations to Ext groups in C ,
which run under the name Retakhâ€™s isomorphism [Re, NeRe]:
Ï€0Extp
C pX, Y q â€œ Extp
C pX, Y q,
Ï€1pExtp
C pX, Y q; Eq â€œ ExtpÂ´1
C
pX, Y q,
where the ï¬rst line can be taken as a deï¬nition of the Ext group Extp
C pX, Y q.
When C is an abelian category with enough projectives, this is equivalent to
the classical deï¬nition of the Ext groups in C .
1.1. The hash operation. The hash operation, also known as splicing, is a
concatenation type operation
#: Extp
C pY, Zq Ë† Extq
C pX, Y q Ã‘ Extp`q
C
pX, Zq
on Ext spaces, implementing the Yoneda product
Ë: Extp
C pY, Zq b Extq
C pX, Y q Ã‘ Extp`q
C
pX, Zq
on Ext groups by passing to path connected components. It is deï¬ned in slightly
different ways depending on whether p or q are zero or not.
When both p
and q are zero, Ext0
C pY, Zq, Ext0
C pX, Y q, and Ext0
C pX, Zq are just the hom sets
HomC pY, Zq, HomC pX, Y q and HomC pX, Zq, respectively, and the hash opera-
tion in this case is the composition of homomorphisms.

6
DOMENICO FIORENZA AND NIELS KOWALZIG
When p Ä… 0 and q â€œ 0, we are considering a hash of the form E#F, where
F: X Ã‘ Y is a morphism. It is deï¬ned as the top horizontal row of the commu-
tative diagram
0
/ Z
/ EpÂ´1
/ Â¨ Â¨ Â¨
/ E1
/ E0 Ë†Y X

/ X
/
F

0
0
/ Z
/ EpÂ´1
/ Â¨ Â¨ Â¨
/ E1
/ E0
/ Y
/ 0
(1.2)
where the rightmost commutative square is a pullback and the map E1 Ã‘
E0 Ë†Y X is induced by the commutative diagram
E1
0
/

X
F
E0
/ Y
and by the universal property of the pullback.
In case p â€œ 0 and q Ä… 0, dually, with E: Y Ã‘ Z a morphism, E#F is deï¬ned
as the bottom horizontal row of the commutative diagram
0
/ Y
E

/ FqÂ´1

/ FqÂ´2
/ Â¨ Â¨ Â¨
/ F0
/ X
/ 0
0
/ Z
// Z \Y FqÂ´1
/ FqÂ´2
/ Â¨ Â¨ Â¨
/ F0
/ X
/ 0
(1.3)
where the leftmost commutative square is a pushout.
It remains to be said what happens when both p and q are greater than
zero. In this case, points in the spaces Extp
C pY, Zq and Extq
C pX, Y q are iterated
extensions
E:
0 Ã‘ Z Ã‘ EpÂ´1 Ã‘ Â¨ Â¨ Â¨ Ã‘ E0 Ã‘ Y Ã‘ 0,
and
F:
0 Ã‘ Y Ã‘ FqÂ´1 Ã‘ Â¨ Â¨ Â¨ Ã‘ F0 Ã‘ X Ã‘ 0,
respectively. Their hash E#F is the iterated extension given by the top hori-
zontal row in the concatenation
E#F:
0
/ Z
/ EpÂ´1
/ Â¨ Â¨ Â¨
/ E0
/ FqÂ´1
/ Â¨ Â¨ Â¨
/ F0
/ X
/ 0.
Y
BCO
@A
/
Notice that the hash composition is associative (up to natural isomor-
phisms).
Remark 1.1. In the above concatenation, the lower indices no more corre-
spond to the position in the sequence of iterated extensions. This may be quite
confusing, so occasionally we will formally use the shift operator r1s of trian-
gulated categories as a symbol to restore the correct correspondence. That is,
the iterated extension
E:
0 Ã‘ Y Ã‘ EpÂ´1 Ã‘ Â¨ Â¨ Â¨ Ã‘ E0 Ã‘ X Ã‘ 0
will be rewritten as
E:
0 Ã‘ Y rps Ã‘ EpÂ´1 Ã‘ Â¨ Â¨ Â¨ Ã‘ E0 Ã‘ XrÂ´1s Ã‘ 0,
to stress that X is in position (or degree) Â´1 in the sequence, and Y in position
p. With this notation, the iterated extension E#F will read
0 Ã‘ Zrp ` qs Ã‘ EpÂ´1rqs Ã‘ Â¨ Â¨ Â¨ Ã‘ E0rqs Ã‘ FqÂ´1 Ã‘ Â¨ Â¨ Â¨ Ã‘ F0 Ã‘ XrÂ´1s Ã‘ 0.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
7
Yet, when no confusion can arise, we will still adopt the less cumbersome
0 Ã‘ Z Ã‘ EpÂ´1 Ã‘ Â¨ Â¨ Â¨ Ã‘ E0 Ã‘ FqÂ´1 Ã‘ Â¨ Â¨ Â¨ Ã‘ F0 Ã‘ X Ã‘ 0.
1.2. The tensor product. By using the monoidal structure in C and the hash
composition, one has (at least) four natural ways of deï¬ning a map
Extp
C pX, Zq Ë† Extq
C pX, Zq Ã‘ Extp`q
C
pX b X, Z b Zq.
Namely, given E in Extp
C pX, Zq and F in Extq
C pX, Zq, one can use the hash com-
position jointly with the tensor product to form
(i ) pE b Zq#pX b Fq,
(ii) pZ b Fq#pE b Xq,
(iii) pF b Zq#pX b Eq,
(iv ) pZ b Eq#pF b Xq.
Both hashing and tensoring are well deï¬ned on path connected components
and so the above deï¬ne four operations
Extp
C pX, Zq Ë† Extq
C pX, Zq Ã‘ Extp`q
C
pX b X, Z b Zq.
Quite remarkably, the two operations induced on the Ext groups by (i) and (ii)
coincide, as well as the two operations induced by (iii) and (iv). To see this, we
need to exhibit a path in Extp`q
C
pX b X, Z b Zq between pE b Zq#pX b Fq and
pZ b Fq#pE b Xq. We show how to do this in case p, q Ä› 1, leaving to the reader
the not particularly compelling task of completing the proof in case p or q are
equal to zero. An easy way of realising such a path is as a span
pE b Zq#pX b Fq
Î»E,F
ÃÃÃÃÃÃÃ MolochpE, Fq
ÌºE,F
ÃÃÃÃÃÃÃ‘ pZ b Fq#pE b Xq,
(1.4)
where MolochpE, Fq is the totalisation of the diagram obtained by partially
removing the top row and the rightmost column of E b F as follows:
X b X
Z b F0
/ EpÂ´1 b F0
/ Â¨ Â¨ Â¨
/ E0 b F0
9s
s
s
s
s
s
s
s
s
s
...
O
...
O
...
O
...
O
Z b FqÂ´1
/
O
EpÂ´1 b FqÂ´1
/
O
Â¨ Â¨ Â¨
/
O
E0 b FqÂ´1
O
Z b Z
/
O
EpÂ´1 b Z
/
O
Â¨ Â¨ Â¨
/
O
E0 b Z
O
One easily checks by explicit computation in the top two degrees and by the
KÃ¼nneth isomorphism in all the lower degrees that MolochpE, Fq is indeed an
object in Extp`q
C
pX b X, Z b Zq.
Remark 1.2. When X â€œ 1C is the unit object of the monoidal category C , the
complex MolochpE, Fq is the tensor product of E and F as augmented complexes
considered in [Schw].

8
DOMENICO FIORENZA AND NIELS KOWALZIG
To produce the span (1.4), notice that the iterated extension pEbZq#pX bFq
is given by the top horizontal row in
Z b Z
/ EpÂ´1 b Z
/ Â¨ Â¨ Â¨
/ E0 b Z
/X b FqÂ´1
/ Â¨ Â¨ Â¨
/ X b F0
/ X b X.
X b Z
BCO
@A
/
(1.5)
In the spirit of Remark 1.1, one can use the shift operator to have a better
control of positions or degrees and write this as
ZrpsbZrqs Ã‘ EpÂ´1bZrqs Ã‘ Â¨ Â¨ Â¨ Ã‘ E0bZrqs Ã‘ X bFqÂ´1 Ã‘ Â¨ Â¨ Â¨ Ã‘ X bF0 Ã‘ X bXrÂ´1s.
Similarly, the iterated extension pZ bFq#pEbXq is given by the top horizontal
row in
Z b Z
/ Z b FqÂ´1
/ Â¨ Â¨ Â¨
/ Z b F0
/EpÂ´1 b X
/ Â¨ Â¨ Â¨
/ E0 b X
/ X b X,
Z b X
BCO
@A
/
that is, in the degree-shifted notation,
ZrpsbZrqs Ã‘ ZrpsbFqÂ´1 Ã‘ Â¨ Â¨ Â¨ Ã‘ ZrpsbF0 Ã‘ EpÂ´1bX Ã‘ Â¨ Â¨ Â¨ Ã‘ E0bX Ã‘ XbXrÂ´1s.
These combine with MolochpE, Fq into the single commutative diagram
EpÂ´1 b X
/ Â¨ Â¨ Â¨
/ E0 b X
/ X b X
Z b F0
GF
/
/ EpÂ´1 b F0
/
O
Â¨ Â¨ Â¨
/
O
E0 b F0
/
O
8â™£
â™£
â™£
â™£
â™£
â™£
â™£
â™£
â™£
â™£
â™£
X b F0
O
...
O
...
O
...
O
...
O
...
O
Z b FqÂ´1
/
O
EpÂ´1 b FqÂ´1
/
O
Â¨ Â¨ Â¨
/
O
E0 b FqÂ´1
/
O
X b FqÂ´1
O
Z b Z
/
O
EpÂ´1 b Z
/
O
Â¨ Â¨ Â¨
/
O
E0 b Z
BC
O
O
The morphism
Î»E,F : MolochpE, Fq Ã‘ pE b Zq#pX b Fq
(1.6)
is then given by the natural projection
MolochpE, Fqk
Ï€ÃÃ‘ EkÂ´q b Zrqs
for q Ä k Ä q ` p, by the composition
MolochpE, Fqk
Ï€ÃÃ‘ E0 b Fk Ã‘ X b Fk
for 0 Ä k Ä q Â´ 1, and by the identity of X b XrÂ´1s for k â€œ Â´1. The morphism
ÌºE,F : MolochpE, Fq Ã‘ pZ b Fq#pE b Xq
(1.7)
is deï¬ned analogously, that is, by the natural projection
MolochpE, Fqk
Ï€ÃÃ‘ pÂ´1qpkÂ´pZrps b FkÂ´p
for p Ä k Ä p ` q, by the composition
MolochpE, Fqk
Ï€ÃÃ‘ Ek b F0 Ã‘ Ek b X
for 0 Ä k Ä p Â´ 1, and again by the identity of X b XrÂ´1s for k â€œ Â´1.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
9
Exchanging the rÃ´les of E and F, we obtain the span
pF b Zq#pX b Eq
Î»F,E
ÃÃÃÃÃÃÃ MolochpF, Eq
ÌºF,E
ÃÃÃÃÃÃÃ‘ pZ b Eq#pF b Xq,
showing that (iii) and (iv) above deï¬ne the same map at the level of Ext groups.
We would also like pZ b Fq#pE b Xq and pF b Zq#pX b Eq to lie in the same
path connected component so that all of the four operations would coincide at
the level of Ext groups. As the two expressions we want to compare only differ
by the order of the factors in the tensor products, a natural requirement to do
in order to have them connected by a morphism in Extp`q
C
pX b X, Z b Zq is to
assume that Z and X are in the (left resp. right) centre of C , that is, come with
natural maps
ÏƒZ,Â´ : Z b pÂ´q Ã‘ pÂ´q b Z,
Ï„Â´,X : pÂ´q b X Ã‘ X b pÂ´q,
the (left resp. right) braidings. With this assumption, we obtain the diagram
pÏƒ|Ï„qF,E:
Z b Z
ÏƒZ,Z

/ Z b FqÂ´1
/
ÏƒZ,FqÂ´1

Â¨ Â¨ Â¨
/ Z b F0
/
ÏƒZ,F0

*
EpÂ´1 b X
/
Ï„EpÂ´1,X

Â¨ Â¨ Â¨
/ E0 b X
/
Ï„E0,X

X b X
Ï„X,X

Z b X
H
ÏƒZ,X
%
Ï„Z,X
y
X b Z

Z b Z
/ FqÂ´1 b Z
/ Â¨ Â¨ Â¨
/ F0 b Z
/
4
X b EpÂ´1
/ Â¨ Â¨ Â¨
/ X b E0
/ X b X.
(1.8)
where, thanks to the naturality of the braidings ÏƒZ,Â´ and Ï„Â´,X, everything
commutes except possibly the small diagram in the middle with the two arrows
from Z b X to X b Z. In order to have this part commute as well, we require
ÏƒZ,X â€œ Ï„Z,X,
that is, pX, Zq is a commuting pair in the sense of Deï¬nition A.2. Nevertheless,
even when this is fulï¬lled and so pÏƒ|Ï„qF,E is a commutative diagram, we are
not generally done yet: the diagram pÏƒ|Ï„qF,E does not deï¬ne a morphism in
Extp`q
C
pX b X, Z b Zq, see (1.1), as the left- and rightmost vertical â€œboundaryâ€
morphisms ÏƒZ,Z and Ï„X,X are generally not the identity morphisms. We are
going to show how to circumvent this problem by introducing a variant of the
above construction in the following section.
1.3. The cup product. Assume now not only that pX, Zq is a commuting pair
in C in the sense of Deï¬nition A.2, but also that Z be a (braided) commutative
monoid in the braided monoidal category Z â„“pC q and X a (braided) commuta-
tive monoid in the braided monoidal category Z rpC qop. This allows for a cup
product
Y: Extp
C pX, Zq Ë† Extq
C pX, Zq Ã‘ Extp`q
C
pX, Zq
as follows. Let
âˆ†X : X Ã‘ X b X
and
Âµ: Z b Z Ã‘ Z
be the morphisms deï¬ning the (co)monoid structures on X and Z, respectively.
Then, for E in Extp
C pX, Zq and F in Extq
C pX, Zq, the cup product E Y F is deï¬ned

10
DOMENICO FIORENZA AND NIELS KOWALZIG
as
E Y F â€“ Âµ#pE b Zq#pX b Fq#âˆ†X.
Passing to path connected components, this yields a map
Y: Extp
C pX, Zq Ë† Extq
C pX, Zq Ã‘ Extp`q
C
pX, Zq.
We already know from the results in Â§1.2 that E Y F is connected to
Âµ#pZ b Fq#pE b Xq#âˆ†X
via the span through Âµ#MolochpE, Fq#âˆ†X. But now there is more: since Z
and X are (braided) commutative monoids in C and in C op, respectively, the
commutative diagrams
X b X
Ï„X,X

X
âˆ†X
{âœ‡âœ‡âœ‡âœ‡âœ‡âœ‡âœ‡âœ‡âœ‡
âˆ†X
câ—â—â—â—â—â—â—â—â—
X b X
Z b Z
ÏƒZ,Z

Z b
Âµ
â‹
â‹
â‹
â‹
â‹
â‹
â‹
â‹
|
Âµ
â‘ 
â‘ 
â‘ 
â‘ 
â‘ 
â‘ 
â‘ 
â‘ 
â‘ 
Z b Z
precisely cure the issue with the boundary morphisms in (1.8), changing the
boundary morphisms ÏƒZ,Z and Ï„X,X into identity morphisms. Taking the rele-
vant pullbacks and pushouts the diagram (1.8) induces a morphism
Ä†
pÏƒ|Ï„qF,E : Âµ#pZ b Fq#pE b Xq#âˆ†X
Âµ#pÏƒ|Ï„qF,E#âˆ†X
ÃÃÃÃÃÃÃÃÃÃÃÃÃ‘ Âµ#pF b Zq#pX b Eq#âˆ†X
in Extp`q
C
pX, Zq.
1.4. The mystic hexagon. With the assumptions of the previous section, we
have a loop in Extp`q
C
pX, Zq given by
Âµ#MolochpE, Fq#âˆ†X
ËœÎ»E,F
vâ§â§â§â§â§â§â§â§â§â§â§â§â§
ËœÌºE,F
(â˜
â˜
â˜
â˜
â˜
â˜
â˜
â˜
â˜
â˜
â˜
â˜
â˜
E Y F â€œ Âµ#pE b Zq#pX b Fq#âˆ†X
O
ÄŒ
pÏƒ|Ï„qE,F
Âµ#pZ b Fq#pE b Xq#âˆ†X
Âµ#pZ b Eq#pF b Xq#âˆ†X
F Y E â€œ Âµ#pF b Zq#pX b Eq#âˆ†X

ÄŒ
pÏƒ|Ï„qF,E
Âµ#MolochpF, Eq#âˆ†X
ËœÌºF,E
hâ˜â˜â˜â˜â˜â˜â˜â˜â˜â˜â˜â˜â˜
ËœÎ»F,E
6â§
â§
â§
â§
â§
â§
â§
â§
â§
â§
â§
â§
â§
(1.9)
where we wrote
ËœÎ»E,F â€“ Âµ#Î»E,F#âˆ†X
and
ËœÌºE,F â€“ Âµ#ÌºE,F#âˆ†X,
respectively. Choosing E Y F as a base point, this deï¬nes an element in the
based loop space â„¦EYFExtp`q
C
pX, Zq. Passing to connected components, we ob-
tain a map
t , u: Extp
C pX, Zq Ë† Extq
C pX, Zq Ã‘ Extp`qÂ´1
C
pX, Zq.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
11
1.5. Cocycle representatives. It is often convenient to represent an element
E in Extp
C pX, Zq by a cocycle representative Ï†. By this one means the following:
ï¬x a projective resolution PX
ÎµÃÃ‘ X of the object X and for p â€œ 0 consider the
composition
Ï†0 : P X
0 Ã‘ X
EÃÃ‘ Z,
(1.10)
while for p Ä… 0 one considers a chain map Ï†: PX Ã‘ E which is the identity over
X, that is, a commutative diagram of the form
P X
p`1

d
/ P X
p
d
/
Ï†p

P X
pÂ´1
d
/
Ï†pÂ´1

. . .
d
/ P X
0
Îµ
/
Ï†0

X
/ 0
0
d
/ Z
iE / EpÂ´1
d
/ . . .
d
/ E0
pE
/ X
/ 0
(1.11)
The chain map Ï† exists and is unique up to homotopy by the projectivity of
PX. Moreover, since PX is a resolution, the datum of the homotopy class of
Ï† is equivalent to the datum of the cohomology class of Ï†p in the complex
HomC pPX, Zq. For this reason one usually identiï¬es p-cocycles with closed ele-
ments in HomC pP X
p , Zq.
Remark 1.3. To get a more uniform presentation, 0-cocycle representatives
will be realised by commutative diagrams as follows:
P X
0
Ï†0

Ç«
/ X
E

Z
Z
It will be convenient to consider more generally commutative diagrams of
the form
P X
p`1

d
/ P X
p
d
/
Ï†p

P X
pÂ´1
d
/
Ï†pÂ´1

. . .
d
/ P X
0
Îµ
/
Ï†0

X
f

/ 0
0
d
/ Z
iE / EpÂ´1
d
/ . . .
d
/ E0
pE
/ X
/ 0
(1.12)
for an arbitrary morphism f : X Ã‘ X. We will call these diagrams f-twisted
cocycle representatives or f-twisted chain maps, or still chain maps over f. In
degree zero, an f-twisted 0-cocycle representative for E will be deï¬ned as a
commutative diagram of the form
P X
0
Ï†0

Ç«
/ X
EËf

Z
Z
(1.13)
Remark 1.4. It is immediate from the deï¬nition of twisted cocycle representa-
tives that if Ï†: PX Ã‘ E is an f-twisted cocycle representative and Î³ : PX Ã‘ PX
is a morphism of chain complexes, then Ï† Ë Î³ : PX Ã‘ E is a pf Ë Î³Â´1q-twisted
cocycle representative, where Î³Â´1 : X Ã‘ X is the degree Â´1 component of Î³; if
Ï†: PX Ã‘ E is an f-twisted cocycle representative and Î³ : E Ã‘ F is a morphism
of chain complexes, then Î³ ËÏ†: PX Ã‘ F is a pÎ³Â´1 Ëfq-twisted cocycle representa-
tive, where Î³Â´1 : X Ã‘ X is the degree Â´1 component of Î³. Another immediate
consequence of the deï¬nition (and of the additivity of our category C ) is that if
Ï†, Ïˆ: PX Ã‘ E are an f-twisted and a g-twisted cocycle representative, respec-
tively, then Ï† ` Ïˆ is an pf ` gq-twisted cocycle representative.

12
DOMENICO FIORENZA AND NIELS KOWALZIG
1.6. The cup product in terms of cocycle representatives. If Ï† and Ïˆ are
cocycle representatives for E P Extp
C pY, Zq and F P Extq
C pX, Y q, one can easily
write a cocycle representative Ï†#Ïˆ for E#F. As for the #-operation on the Ext
spaces, we will need to distinguish four cases. When p and q are zero, E and
F are morphisms from Y to Z and from X to Y , respectively, and their rep-
resentative 0-cocycles are the compositions P Y
0 Ã‘ Y
EÃÃ‘ Z and P X
0 Ã‘ X
FÃÃ‘ Y ,
respectively. In this case, Ï†#Ïˆ is simply the composition
P X
0 Ã‘ X
FÃÃ‘ Y
EÃÃ‘ Z.
When p Ä… 0 and q â€œ 0, one considers the commutative diagram
P X
p`1
/
Î¶p`1

P X
p
/
Î¶p

P X
pÂ´1
/
Î¶pÂ´1

Â¨ Â¨ Â¨
/ P X
1
/
Î¶1

P X
0
$
Î¶0

P X
0
/
Ïˆ0

/ X
F

/ 0
P Y
p`1
/

P Y
p
/
Ï†p

P Y
pÂ´1
/
Ï†pÂ´1

Â¨ Â¨ Â¨
/ P Y
1
/
Ï†1

P Y
0
Ï†0

/ Y
Y
/ 0
0
/ Z
/ EpÂ´1
/ Â¨ Â¨ Â¨
/ E1
// E0
/
:
Y
Y
/ 0
where the top vertical arrows are deï¬ned by the projectivity of PX. By the
universal property of the pullback, we obtain a commutative diagram
P X
p`1
/

P X
p
/
pÏ†#Ïˆqp

P X
pÂ´1
/
pÏ†#ÏˆqpÂ´1

Â¨ Â¨ Â¨
/ P X
1
/
pÏ†#Ïˆq1

P X
0
Îµ
/
pÏ†#Ïˆq0

X
/ 0
0
/

Z
/ EpÂ´1
/ Â¨ Â¨ Â¨
/ E1
pd,0q / E0pEË†F
Y X
/

X
F

/ 0
0
/ Z
/ EpÂ´1
/ Â¨ Â¨ Â¨
/ E1
/ E0
/ Y
/ 0
whose top part exhibits a cocycle representative Ï†#Ïˆ for E#F. Notice that for
every i Ä… 0 one has pÏ†#Ïˆqi â€œ Ï†i Ë Î¶i, while for i â€œ 0 that pÏ†#Ïˆq0 is the lift of
Ï†0 Ë Î¶0 to the ï¬bre product E0pEË†F
Y X, that is, pÏ†0 Ë Î¶0, Îµq. Similarly, and more
directly, when p â€œ 0 and q Ä… 0, one considers the commutative diagram
P X
q`1
/
Î¶1

P X
q
'
Î¶0

P X
q
/
Ïˆq

P X
qÂ´1
ÏˆqÂ´1

/ Â¨ Â¨ Â¨
/ P X
1
/
Ïˆ1

P X
0
/
Ïˆ0

X
/ 0
P Y
1

/ P Y
0
/
Ï†0

Y
E

/ FqÂ´1
/

Â¨ Â¨ Â¨
/ F1
/ F0
/ X
/ 0
0
/ Z
7
Z
/ Z \Y FqÂ´1
/ Â¨ Â¨ Â¨
/ F1
/ F0
/ X
/ 0
whose composite vertical arrows are a cocycle representative Ï†#Ïˆ for E#F. In
degrees from 0 to q Â´ 2, one has pÏ†#Ïˆqi â€œ Ïˆi, whereas in degree q Â´ 1 one sees
that pÏ†#ÏˆqqÂ´1 is the class of p0, ÏˆqÂ´1q in the quotient of Z â€˜ FqÂ´1 by the image
of Y , and in the top degree q, one has pÏ†#Ïˆqq â€œ Ï†0 Ë Î¶0 â€œ E Ë Ïˆq.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
13
Finally, in case p, q Ä… 0, one uses the projectivity of PX to deï¬ne the maps
Î¶i : P X
i`q Ã‘ P Y
i , making the diagram
P X
p`q
Î¶p

/ P X
p`qÂ´1
/
Î¶pÂ´1

Â¨ Â¨ Â¨
/ P X
q
&
Î¶0

P X
q
Ïˆq

/ P X
qÂ´1
/
ÏˆqÂ´1

Â¨ Â¨ Â¨
/ P X
0
Ïˆ0

/ X
P Y
p
Ï†p

/ P Y
pÂ´1
/
Ï†pÂ´1

Â¨ Â¨ Â¨
/ P Y
0
Ï†0

/ Y
/ FqÂ´1
/ Â¨ Â¨ Â¨
/ F0
/ X
Z
/ EpÂ´1
/ Â¨ Â¨ Â¨
/ E0
/
9
Y
/ FqÂ´1
/ Â¨ Â¨ Â¨
/ F0
/ X
commute. Since the cup product is a composition of #-products, the above rules
yield, in particular, an expression for a cocycle representative Ï† Y Ïˆ for the
product E Y F, given cocycle representatives Ï† and Ïˆ for E and F, respectively.
Remark 1.5. By verbatim repeating the above construction of the case p Ä… 0
and q â€œ 0, one sees that if Ï† is an f-twisted cocycle representative for F and Ïˆ0
a cocycle representative for a morphism F: X Ã‘ Y , then
P X
p`1
/

P X
p
/
pÏ†#Ïˆqp

P X
pÂ´1
/
pÏ†#ÏˆqpÂ´1

Â¨ Â¨ Â¨
/ P X
1
/
pÏ†#Ïˆq1

P X
0
Îµ
/
pÏ†#Ïˆq0

X
/ 0
0
/ Z
/ EpÂ´1
/ Â¨ Â¨ Â¨
/ E1
pd,0q / E0pEË†fËF
Y
X
/ X
/ 0
is a cocycle representative for E#pf Ë Fq, where pÏ†#Ïˆq0 â€œ pÏ†0 Ë Î¶0, Îµq and
pÏ†#Ïˆqi â€œ Ï†i Ë Î¶i for every i Ä… 0.
1.7. The bracket t , u in terms of cocycle representatives. Let Ï† and Ïˆ be
two cocycle representatives for rEs P Extp
C pX, Zq and rFs P Extq
C pX, Zq, respec-
tively, and as before assume that pX, Zq is a commuting pair in the sense of
Deï¬nition A.2, where X is a (braided) commutative monoid in Z rpU-Modqop
and Z a (braided) commutative monoid in Z â„“pU-Modq.
In order to associate with Ï† and Ïˆ a cocycle representative tÏ†, Ïˆu represent-
ing the element
trEs, rFsu P Extp`qÂ´1
C
pX, Zq â€œ Ï€1Extp`q
C
pX, Zq,
deï¬ned by the loop (1.9) based at E Y F, one applies the following procedure.
For any n Ä› 0, one considers the (higher) categories Ä„
Extn
C pX, Zq, whose objects
are pairs pG, Ï•q, where G is an object in Extn
C pX, Zq and Ï•: PX Ã‘ G is a cocycle
representing G. Morphisms between pG1, Ï•1q and pG2, Ï•2q are pairs pf, hq con-
sisting of a morphism f : G1 Ã‘ G2 in Extn
C pX, Zq and of a homotopy h between
f ËÏ•1 and Ï•2, that is, a degree Â´1 map h: PX Ã‘ G2 such that rd, hs â€œ Ï•2 Â´f ËÏ•1.
Higher morphisms are deï¬ned recursively in a similar way. One has a natural
forgetful functor
Ä„
Extn
C pX, Zq Ã‘ Extn
C pX, Zq
whose ï¬bre at the point G is the hom space HomExtn
C pX,ZqpPX, Gq. Since PX is a
resolution of X, it is in particular an acyclic complex and so this hom space is
contractible. Therefore, the projection Ä„
Extn
C pX, Zq Ã‘ Extn
C pX, Zq is a homotopy
equivalence and one can read the homotopy groups of Extn
C pX, Zq in terms of
the homotopy groups of Ä„
Extn
C pX, Zq. Moreover, Ä„
Extn
C pX, Zq Ã‘ Extn
C pX, Zq is
a ï¬‚at ï¬bration: every path in Extn
C pX, Zq has a canonical horizontal lift in
Ä„
Extn
C pA, Zq, once a lift for the starting point is chosen: if pG1, Ï•1q is a point in

14
DOMENICO FIORENZA AND NIELS KOWALZIG
the ï¬bre over G1 and f : G1 Ã‘ G2 a morphism in Extn
C pX, Zq, then we have the
canonical lift
pf, 0q: pG1, Ï•1q Ã‘ pG2, f Ë Ï•1q.
This gives a way to encode a loop Î³ in Extn
C pX, Zq based at a point G into a
homotopy operator, i.e., a degree Â´1 map hÎ³ : PX Ã‘ G, once a representative
cocycle PX Ã‘ G for G is chosen: one horizontally lifts the loop to a path in
Ä„
Extn
C pX, Zq with starting point pG, Ï•q. The ï¬nal point of this path will be a
point pG, ËœÏ•q and, since they both represent the same element rGs in Extn
C pX, Zq,
the two cocycle representatives Ï• and ËœÏ• will be homotopic via a degree Â´1 map
hÎ³ : PX Ã‘ G, which is unique up to higher homotopies. The homotopy class
rhÎ³s is the element in ExtnÂ´1
C
pX, Zq representing the loop Î³.
We now apply this abstract nonsense to the loop (1.9). Starting with two
cocycle representatives Ï† and Ïˆ for E and F, respectively, one can form a repre-
sentative cocycle Ï† Y Ïˆ for E Y F and exhibit a representative cocycle
Ï† ËœYb Ïˆ: PX Ã‘ Âµ#MolochpE, Fq#âˆ†X
for Âµ#MolochpE, Fq#âˆ†X such that Ï† Y Ïˆ â€œ ËœÎ»E,F Ë pÏ† ËœYb Ïˆq. The ï¬rst step in
the horizontal lift of the loop consists in lifting ËœÎ»E,F. This is immediate: the
horizontal lift is
`
Âµ#MolochpE, Fq#âˆ†X, Ï† ËœYb Ïˆ
Ë˜ pËœÎ»E,F,0q
ÃÃÃÃÃÃ‘
`
E Y F, Ï† Y Ïˆ
Ë˜
.
Also the subsequent horizontal lift of Ä†
pÏƒ|Ï„qF,E Ë ËœÌºE,F is immediate: it is
`
Âµ#MolochpE, Fq#âˆ†X, Ï† ËœYb Ïˆ
Ë˜
`
ÄŒ
pÏƒ|Ï„qF,EËËœÌºE,F,0
Ë˜
ÃÃÃÃÃÃÃÃÃÃÃÃ‘
`
F Y E, Ä†
pÏƒ|Ï„qF,E Ë ËœÌºE,F Ë pÏ† ËœYb Ïˆq
Ë˜
.
The next step is less trivial: one has to horizontally lift ËœÎ»F,E in such a way that
its endpoint matches the endpoint of
` Ä†
pÏƒ|Ï„qF,E Ë ËœÌºE,F, 0
Ë˜
. That is, one has to ï¬nd
a cocycle representative ËœÎºÏ†,Ïˆ for Âµ#MolochpF, Eq#âˆ†X such that
ËœÎ»F,E Ë ËœÎºÏ†,Ïˆ â€œ Ä†
pÏƒ|Ï„qF,E Ë ËœÌºE,F Ë pÏ† ËœYb Ïˆq.
Writing ËœÎºÏ†,Ïˆ â€œ Ïˆ ËœYb Ï† ` ËœÇ«Ï†,Ïˆ, this becomes the equation
ËœÎ»F,E Ë pÏˆ ËœYb Ï† ` ËœÇ«Ï†,Ïˆq â€œ Ä†
pÏƒ|Ï„qF,E Ë ËœÌºE,F Ë pÏ† ËœYb Ïˆq.
Assuming one has been able (or lucky) enough to ï¬nd an ËœÇ« solving this equa-
tion, then one has the immediate horizontal lift
`
Âµ#MolochpF, Eq#âˆ†X, Ïˆ ËœYb Ï†`ËœÇ«Ï†,Ïˆ
Ë˜
`
ÄŒ
pÏƒ|Ï„qE,FËËœÌºF,E,0
Ë˜
ÃÃÃÃÃÃÃÃÃÃÃÃ‘
`
EYF, Ä†
pÏƒ|Ï„qE,FËËœÌºF,EpÏˆ ËœYb Ï†`ËœÇ«Ï†,Ïˆq
Ë˜
.
This concludes the procedure of horizontally lifting the loop based at E Y F, so
the corresponding element tÏ†, Ïˆu in Extp`qÂ´1
C
pX, Zq is represented by a homo-
topy ËœspÏ†, Ïˆq between Ä†
pÏƒ|Ï„qE,F Ë ËœÌºF,EpÏˆ ËœYb Ï† ` ËœÇ«Ï†,Ïˆq and ËœÎ»E,F Ë pÏ† ËœYb Ïˆq, taken up to
higher homotopies. Writing
ËœÎ·pÏ†, Ïˆq â€œ ËœÎ»E,FpÏ† ËœYb Ïˆq Â´ Ä†
pÏƒ|Ï„qE,F Ë ËœÌºF,EpÏˆ ËœYb Ï† ` ËœÇ«Ï†,Ïˆq,
one therefore sees that the element tÏ†, Ïˆu is represented by the homotopy class
of a solution ËœspÏ†, Ïˆq of the equation ËœÎ·pÏ†, Ïˆq â€œ rd, ËœspÏ†, Ïˆqs, that is, by the coho-
mology class of the closed element Ëœsp`qÂ´1pÏ†, Ïˆq in HomC pP X
p`qÂ´1, Zq.
To explicitly compute the element Ëœsp`qÂ´1pÏ†, Ïˆq, one can argue as follows. If
Î± is a cocycle representative for an object H in Extp`q
C
pX b X, Z b Zq, then by

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
15
the constructions from Â§1.6 one writes an explicit formula for a cocycle repre-
sentative ËœÎ± for the object G â€œ Âµ#H#âˆ†X in Extp`q
C
pX, Zq, which can be straight-
forwardly extended to arbitrary collections of maps
â£
Î²k : P XbX
k
Ã‘ Hk
(
0ÄkÄp`q
and
â£
Î½k : P XbX
k
Ã‘ Hk`1
(
0ÄkÄp`qÂ´1.
Doing this, one obtains a graded linear map
Î¦â€š :
rÃ€
kâ€œÂ´1
HomC pP XbX
k
, Hkq Ã‘
rÃ€
kâ€œÂ´1
HomC pP X
k , Gkq.
Looking at the explicit expression for Î¦, it is rather easy to deï¬ne a graded
linear map
Î¨â€š :
rÂ´1
Ã€
kâ€œÂ´1
HomC pP XbX
k
, Hk`1q Ã‘
rÂ´1
Ã€
kâ€œÂ´1
HomC pP X
k , Gk`1q
such that
Î¦ Ë rd, Â´s â€œ rd, Â´s Ë Î¨.
Writing
Î·pÏ†, Ïˆq â€œ Î»E,F
`
pÏ† Yb Ïˆq Ë Ï„
Ë˜
Â´ pÏƒ|Ï„qE,F Ë ÌºF,E
`
pÏˆ Yb Ï† ` Ç«Ï†,Ïˆ
Ë˜
,
where Ï† Yb Ïˆ is a Ï„-twisted cocycle representative for MolochpE, Fq, the map
ÏˆYb Ï† is a Ï„-twisted cocycle representative for MolochpF, Eq, and Ç«pÏ†, Ïˆq â€œ Ç«Ï†,Ïˆ
is a 0-twisted cocycle representative for MolochpF, Eq, then Î¦pÎ·pÏ†, Ïˆqq â€œ ËœÎ·pÏ†, Ïˆq
and the deï¬ning equation ËœÎ·pÏ†, Ïˆq â€œ rd, ËœspÏ†, Ïˆqs for ËœspÏ†, Ïˆq reduces to
Î¦pÎ·pÏ†, Ïˆqq â€œ rd, ËœspÏ†, Ïˆqs.
If spÏ†, Ïˆq P Ã€p`qÂ´1
kâ€œÂ´1 HomC pP XbX
k
, ppE b Zq#pX b Fqqk`1q is tailored in such a
way that Î¦prd, spÏ†, Ïˆqsq â€œ Î¦pÎ·pÏ†, Ïˆqq, then one can take ËœspÏ†, Ïˆq â€œ Î¨pspÏ†, Ïˆqq,
and deduces that tÏ†, Ïˆu is explicitly represented by the cohomology class of the
closed element Î¨p`qÂ´1psp`qÂ´1pÏ†, Ïˆqq in HomC pP X
p`qÂ´1, Zq.
In the next section, we will explicitly apply what we just developed.
2. AN EXPLICIT APPROACH FOR BIALGEBROIDS
In this section, we shall describe how the aforementioned theory for exten-
sion categories can be made explicit in case of the category of left modules over
a left bialgebroid, endowing the corresponding Ext groups with a Gerstenhaber
algebra structure. To this end, a short account on bialgebroids pU, Aq and on
the respective notions of left and right weak centre in relation to (the categories
of) Yetter-Drinfelâ€™d modules can be found in Appendix Â§A.2.
The main goal in the ï¬nal part of this section (Â§2.7) will be to see that
ExtUpX, Zq is a Gerstenhaber algebra if pX, Zq is a commuting pair in the sense
of Deï¬nition A.2. There, the explicit proof works along standard lines, that is,
one shows that the explicit cochain complex HomUpBarnpU, Xq, Zq computing
ExtUpX, Zq is an operad with multiplication, with the bedevilling difference
that the operadic composition is somewhat complicated and not deï¬ning any
endomorphism operad structure.
2.1. Ext groups and extension categories over bialgebroid modules.
Let pU, Aq be a left bialgebroid. For simplicity, we will always and tacitly as-
sume that Å»UÅ½ is left-right projective over A, that is, projective with respect to
both the left A-action Å» and the right A-action Å½, see (A.1) for notation.
Let U-Mod be the monoidal category of left U-modules. In generalising
Schwedeâ€™s approach from the Hochschild case of associative algebras to bialge-
broids, that is, in passing from Ae-Mod to U-Mod, we are facing the same kind
of problems with respect to the exactness of the monoidal category in question.

16
DOMENICO FIORENZA AND NIELS KOWALZIG
More precisely, the tensor product E bA F of two extensions in U-Mod is in
general not exact but it is so if E and F are taken in the full subcategory ExtU
of the extension category ExtU that consists of those extensions in which all
U-modules are left-right projective over A. One can then generalise Lemma
2.1 in [Schw] in a straightforward way and show that the inclusion of ExtU
into ExtU induces a homotopy equivalence on classifying spaces. We omit the
technical details here but feel therefore entitled to not explicitly distinguish
between ExtU and ExtU in what follows.
As expounded in Appendix Â§A.2, a standard result [Sch, Prop. 4.4] estab-
lishes an equivalence of braided monoidal categories between the left weak
centre Z â„“pU-Modq and
U
UYD, the category of left-left Yetter-Drinfelâ€™d mod-
ules; likewise between Z rpU-Modq and UYDU, the category of left-right Yetter-
Drinfelâ€™d modules. In the former case, this is done by assigning to any Z P U
UYD
the underlying left module Z P U-Mod along with what we might call a left
braiding
Ïƒ â€œ ÏƒZ,M : Z bA M Ã‘ M bA Z,
z bA m ÃÃ‘ zpÂ´1qm bA zp0q
(2.1)
for any M P U-Mod, to form an object pZ, Ïƒq in Z â„“pU-Modq. Likewise, assign
to any X P Z rpU-Modq its underlying left module X P U-Mod along with the
right braiding
Ï„ â€œ Ï„M,Z : M bA X Ã‘ X bA M,
m bA x ÃÃ‘ xr0s bA xr1sm
(2.2)
for any M P U-Mod, to give an object pX, Ï„q in Z rpU-Modq, see Appendix A
for more details and all notation used in what follows.
A cochain complex computing Ext
â€š
UpX, Zq is given by
`
Câ€špU, X, Zq, Î´
Ë˜
, where
CnpU, X, Zq â€“ HomUpBarnpU, Xq, Zq,
(2.3)
and
BarnpU, Xq â€“ pÂ§UÅ½ qbAop n`1 bAop XÅ½ ,
with BarÂ´1pU, Xq â€“ X, is the bar resolution of the left U-module X, seen as
a right A-module XÅ½ as in (A.3), with differential d â€œ Å™n
iâ€œ0pÂ´1qidi induced by
the multiplication in U in the ï¬rst n Â´ 1 faces di and the left U-action
L: Bar0pU, Xq â€œ Â§U bAop XÅ½ Ã‘ X â€œ BarÂ´1pU, Xq,
u bAop x ÃÃ‘ ux
(2.4)
on X that induces the last face map dn. In a standard fashion, we then simply
have Î´ â€“ dËš. Observe that the tensor product used in the bar resolution is not
the monoidal one (A.4) of U-Mod (in which factorwise multiplication would not
be deï¬ned), but rather BarnpU, Xq P U-Mod by left multiplication on the ï¬rst
tensor factor.
The Hochschild case for an associative k-algebra A and hence Schwedeâ€™s
construction in [Schw] is reobtained by setting U â€œ Ae as well as X â€œ Z â€œ A
in what follows.
To connect the context of a left bialgebroid to our general observations in
Â§1, let us write down in detail what the concrete setting is here: for two exten-
sions E in Extp
UpX, Zq and F in Extq
UpX, Zq, respectively, consider chain maps
Ï†: BarpU, Xq Ã‘ E and Ïˆ: BarpU, Xq Ã‘ F over the identity of X. With respect to
the bar resolution, Diagram (1.11) then takes the form
0
d
/ BarppU, Xq
d
/
Ï†p

BarpÂ´1pU, Xq
d
/
Ï†pÂ´1

. . .
d
/ Bar0pU, Xq
L
/
Ï†0

X
/ 0
0
d
/ Z
iE
/ EpÂ´1
d
/ . . .
d
/ E0
pE
/ X
/ 0
(2.5)
where L is the left U-action on X as in (2.4); likewise for Ïˆ and F.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
17
Observe that with respect to the differential Î´ â€œ dËš of the cochain complex
CnpU, X, Zq from (2.3), the commutativity of this diagram can be expressed as
iE Ë Ï†p â€œ Ï†pÂ´1 Ë d â€œ Î´Ï†pÂ´1,
d Ë Ï†j â€œ Ï†jÂ´1 Ë d â€œ Î´Ï†jÂ´1,
(2.6)
for j â€œ 1, . . . , pÂ´1, and likewise for Ïˆ. In particular, the ï¬rst square in Diagram
(2.5) implies that
Ï†p Ë d â€œ Î´Ï†p â€œ 0,
(2.7)
that is, Ï†p is a cocycle (and likewise for Ïˆq), whereas the last square reads
pE Ë Ï†0 â€œ L.
(2.8)
2.2. The external cup product. As above, let pZ, Ïƒq be an object in the left
weak centre Z â„“pU-Modq Â» U
UYD and pX, Ï„q an object in the right weak centre
Z rpU-Modq Â» UYDU, and consider again two extensions
E: 0 Ã‘ Z
iE
ÃÃ‘ EpÂ´1
dÃÃ‘ . . . dÃÃ‘ E0
pE
ÃÃ‘ X Ã‘ 0,
F: 0 Ã‘ Z
iF
ÃÃ‘ FqÂ´1
dÃÃ‘ . . . dÃÃ‘ F0
pF
ÃÃ‘ X Ã‘ 0,
of U-modules, along with two families of morphisms Ï†j P CjpU, X, Ejq for j â€œ
0, . . . , p and Ïˆi P CipU, X, Fiq for i â€œ 0, . . . , q as in Diagram 2.5.
For these, one can deï¬ne a sort of 1-product, or external cup product
Yb : CjpU, X, Ejq b CipU, X, Fiq Ã‘ Cj`ipU, X bA X, Ej bA Fiq
for i â€œ 1, . . . , p and j â€œ 1, . . . , q, by deï¬ning
pÏ†j Yb Ïˆiqpu0, . . . , uj`i, m bA m1q
â€“ Ï†j
`
u0
p1q, . . . , uj
p1q, puj`1
p2q Â¨ Â¨ Â¨ uj`i
p2q m1qr0s
Ë˜
bA Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uj
p2qpuj`1
p2q Â¨ Â¨ Â¨ uj`i
p2q m1qr1s, uj`1
p1q , . . . , uj`i
p1q , m
Ë˜
,
(2.9)
where the Sweedler notation in square brackets refers to the right U-coaction
on X, see Â§A.2.4 for notational details.
Remark 2.1. Observe that
Cj`ipU, X bA X, Ej bA Fiq Ä‚ Cj`i`
U, X bA X, MolochpE, Fq
Ë˜
for i, j Ä› 0, so we may regard Yb as a map into the latter. In other words,
given two chain maps Ï† and Ïˆ as above, the operation Yb deï¬nes a collection
of linear morphisms
pÏ† Yb Ïˆqk : BarkpU, X bA Xq Ã‘ MolochpE, Fqk,
k Ä› 0,
which we extend to degree Â´1 by setting pÏ† Yb ÏˆqÂ´1 â€“ Ï„ : X bA X Ã‘ X bA X.
Remark 2.2. By functoriality of the tensor product and the (left-right) YD
condition (A.6), it is not difï¬cult to see that the map Ï„â€š : Barâ€špU, X bA Xq Ã‘
Barâ€špU, X bA Xq is a morphism of complexes, where Ï„Â´1 â€œ Ï„.
Lemma 2.3. Let Ï†j P CjpU, X, Ejq and Ïˆi P CipU, X, Zq and as before let Î´ â€œ dËš
be the pullback of the differential of the bar resolution. Then Î´ is a derivation
of the external cup product (2.9), that is, the graded Leibniz rule
Î´pÏ†j Yb Ïˆiq â€œ Î´Ï†j Yb Ïˆi ` pÂ´1qjÏ†j Yb Î´Ïˆi
(2.10)
holds for any i, j Ä› 0.

18
DOMENICO FIORENZA AND NIELS KOWALZIG
Proof. This is a direct veriï¬cation using (2.9), the explicit form of the differen-
tial in the bar resolution as described below (2.3), the fact that the coproduct
is a ring morphism, along with the monoidal structure (A.4) in U-Mod and X
as an object in the weak right centre of U-Mod, that is, that the (left-right) YD
condition (A.6) is true. Indeed, one has
`
Î´pÏ†j Yb Ïˆiq
Ë˜
pu0, . . . , uj`i`1, m bA m1q â€œ pÏ†j Yb Ïˆiq
`
dpu0, . . . , uj`i`1, m bA m1q
Ë˜
â€œ
j`i
Å™
kâ€œ0
pÂ´1qkpÏ†j Yb Ïˆiqpu0, . . . , ukuk`1, . . . , uj`i`1, m bA m1q
` pÂ´1qj`i`1pÏ†j Yb Ïˆiqpu0, . . . , uj`i, uj`i`1
p1q
m bA uj`i`1
p2q
m1q
â€œ
jÅ™
kâ€œ0
pÂ´1qkÏ†j
`
u0
p1q, . . . , uk
p1quk`1
p1q , . . . , uj`1
p1q , puj`2
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr0s
Ë˜
bA Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uk
p2quk`1
p2q Â¨ Â¨ Â¨ uj`1
p2q puj`2
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr1s, uj`2
p1q , . . . , uj`i`1
p1q
, m
Ë˜
`
j`i
Å™
kâ€œj`1
pÂ´1qkÏ†j
`
u0
p1q, . . . , uj
p1q, puj`1
p2q Â¨ Â¨ Â¨ uk
p2quk`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr0s
Ë˜
bA Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uj
p2qpuj`1
p2q Â¨ Â¨ Â¨ uk
p2quk`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr1s, uj`1
p1q , . . . , uk
p1quk`1
p1q . . . , uj`i`1
p1q
, m
Ë˜
` pÂ´1qj`i`1Ï†j
`
u0
p1q, . . . , uj
p1q, puj`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr0s
Ë˜
bA Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uj
p2qpuj`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr1s, uj`1
p1q , . . . , uj`i
p1q , uj`i`1
p1q
m
Ë˜
On the other hand,
pÎ´Ï†j Yb Ïˆiqpu0, . . . , uj`i`1, m bA m1q
â€œ Î´Ï†j
`
u0
p1q, . . . , uj`1
p1q , puj`2
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr0s
Ë˜
bA Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uj`1
p2q puj`2
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr1s, uj`2
p1q , . . . , uj`i`1
p1q
, m
Ë˜
â€œ
jÅ™
kâ€œ0
pÂ´1qkÏ†j
`
u0
p1q, . . . , uk
p1quk`1
p1q , . . . , uj`1
p1q , puj`2
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr0s
Ë˜
bA Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uj`1
p2q puj`2
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr1s, uj`2
p1q , . . . , uj`i`1
p1q
, m
Ë˜
` pÂ´1qj`1Ï†j
`
u0
p1q, . . . , uj
p1q, uj`1
p1q puj`2
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr0s
Ë˜
bA Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uj`1
p2q puj`2
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr1s, uj`2
p1q , . . . , uj`i`1
p1q
, m
Ë˜
â€œ
jÅ™
kâ€œ0
pÂ´1qkÏ†j
`
u0
p1q, . . . , uk
p1quk`1
p1q , . . . , uj`1
p1q , puj`2
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr0s
Ë˜
bA Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uk
p2quk`1
p2q Â¨ Â¨ Â¨ uj`1
p2q puj`2
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr1s, uj`2
p1q , . . . , uj`i`1
p1q
, m
Ë˜
` pÂ´1qj`1Ï†j
`
u0
p1q, . . . , uj
p1q, puj`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr0s
Ë˜
bA Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uj
p2qpuj`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr1suj`1
p1q , uj`2
p1q , . . . , uj`i`1
p1q
, m
Ë˜
,
where the Yetter-Drinfelâ€™d condition (A.6) was used in the last step for the last
summand. Moreover,
pÂ´1qjpÏ†j Yb Î´Ïˆiqpu0, . . . , uj`i`1, m bA m1q
â€œ pÂ´1qjÏ†j
`
u0
p1q, . . . , uj
p1q, puj`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr0s
Ë˜
bA Î´Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uj
p2qpuj`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr1s, uj`1
p1q , . . . , uj`i`1
p1q
, m
Ë˜
â€œ pÂ´1qjÏ†j
`
u0
p1q, . . . , uj
p1q, puj`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr0s
Ë˜
bA Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uj
p2qpuj`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr1suj`1
p1q , uj`2
p1q . . . , uj`i`1
p1q
, m
Ë˜
`
iÅ™
kâ€œ1
pÂ´1qk`jÏ†j
`
u0
p1q, . . . , uj
p1q, puj`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr0s
Ë˜
bA Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uj
p2qpuj`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr1s, uj`1
p1q , . . . , uk`j
p1q uk`j`1
p1q
, . . . , uj`i`1
p1q
, m
Ë˜
` pÂ´1qj`i`1Ï†j
`
u0
p1q, . . . , uj
p1q, puj`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr0s
Ë˜
bA Ïˆi
`
u0
p2q Â¨ Â¨ Â¨ uj
p2qpuj`1
p2q Â¨ Â¨ Â¨ uj`i`1
p2q
m1qr1s, uj`1
p1q , . . . , uk`j`1
p1q
, uj`i`1
p1q
m
Ë˜
.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
19
By reindexing the second sum right above and subsequently comparing the
three explicit expressions just obtained for Î´pÏ†j Yb Ïˆiq, as well as Î´Ï†j Yb Ïˆi and
pÂ´1qjÏ†j Yb Î´Ïˆi, one conï¬rms that Eq. (2.10) is true.
â–¡
2.3. A cocycle representative for the cup product. We now have the tech-
nical prerequisites to explicitly illustrate the path indicated in Â§1.7. As a start,
we need to prove:
Lemma 2.4. If Ï†: BarpU, Xq Ã‘ E and Ïˆ: BarpU, Xq Ã‘ F are chain maps as
above, then the collection of maps pÏ†Yb Ïˆqk : BarkpU, X bA Xq Ã‘ MolochpE, Fqk
from Remark 2.1 induced by the external cup product (2.9) deï¬nes a Ï„-twisted
cocycle representative Ï† Yb Ïˆ: BarpU, X bA Xq Ã‘ MolochpE, Fq.
Proof. This is a direct consequence of Lemma 2.3 and the Leibniz rule (2.10):
to start with, let us prove, for k â€œ 1, . . . , p ` q, that the diagram
BarkpU, X bA Xq
d
/
Å™
j`iâ€œk
pÏ†j Yb Ïˆiq

BarkÂ´1pU, X bA Xq
Å™
j`iâ€œkÂ´1
pÏ†j Yb Ïˆiq

Ã€
j`iâ€œk
Ej bA Fi
d
/
Ã€
j`iâ€œkÂ´1
Ej bA Fi
commutes, where i, j Ä› 0. Indeed, by means of (2.6), one has
d Ë
` Å™
j`iâ€œk
Ï†j Yb Ïˆi
Ë˜
â€œ
Å™
j`iâ€œk
`
pd Ë Ï†jq Yb Ïˆi ` pÂ´1qjÏ†j Yb pd Ë Ïˆiq
Ë˜
â€œ
Å™
j`iâ€œk
`
Î´Ï†jÂ´1 Yb Ïˆi ` pÂ´1qjÏ†j Yb Î´ÏˆiÂ´1
Ë˜
.
On the other hand, using the Leibniz rule (2.10), we compute
` Å™
j`iâ€œkÂ´1
Ï†j Yb Ïˆi
Ë˜
Ë d â€œ
Å™
j`iâ€œkÂ´1
Î´
`
Ï†j Yb Ïˆi
Ë˜
â€œ
Å™
j`iâ€œkÂ´1
`
Î´Ï†j Yb Ïˆi ` pÂ´1qjÏ†j Yb Î´Ïˆi
Ë˜
â€œ
Å™
j`iâ€œk
Î´Ï†jÂ´1 Yb Ïˆi ` pÂ´1qj
Å™
j`iâ€œk
Ï†j Yb Î´ÏˆiÂ´1,
which proves the commutativity of the diagram above; for k Ä… p or k Ä… q, this
also needs the cocycle condition (2.7). In lowest degree, i.e., for k â€œ 0, we obtain
the diagram
Bar0pU, X bA Xq
L
/
Ï†0 Yb Ïˆ0

X bA X
Ï„

E0 bA F0
pEbApF / X bA X
where Ï„ is the braiding as in (2.2). By virtue of (2.8), this reduces to the claim
L Yb L â€œ Ï„ Ë L. Indeed, with (2.9) and the (left-right) YD condition (A.6), we
directly have
pL Yb Lqpu0, m bA m1q â€œ Lpu0
p1q, m1
r0sq bA Lpu0
p2qm1
r1s, mq â€œ u0
p1qm1
r0s bA u0
p2qm1
r1sm
â€œ pu0
p2qm1qr0s bA pu0
p2qm1qr1su0
p1qm
â€œ Ï„pu0
p1qm bA u0
p2qm1q
â€œ pÏ„ Ë Lqpu0, m bA m1q,
using the monoidal structure (A.4) in the last step.
â–¡

20
DOMENICO FIORENZA AND NIELS KOWALZIG
Remark 2.5. For the external cup product of two 0-cocycle representatives
E: X Ã‘ Z resp. F: X Ã‘ Z, the statement of Lemma 2.4 amounts to the com-
mutativity of
Bar0pU, X bA Xq
L
/
Ï†0 Yb Ïˆ0

X bA X
Ï„

Z bA Z
X bA X
EbAF
o
which again is a consequence of the YD condition (A.6), where Ï†0 â€œ E Ë L resp.
Ïˆ0 â€œ F Ë L are as in (1.10). Equivalently, this is the commutativity of
Bar0pU, X bA Xq
L
/
Ï†0 Yb Ïˆ0

X bA X
pEbAFqËÏ„

Z bA Z
Z bA Z
expressing that Ï†0 Yb Ïˆ0 is a Ï„-twisted 0-cocycle representative, see Eq. (1.13).
Corollary 2.6. Let Î»E,F : MolochpE, Fq Ã‘ pE bA Zq#pX bA Fq be the morphism
of complexes from Eq. (1.6). Then
Î»E,FpÏ† Yb Ïˆq Ë Ï„â€š : BarpU, X bA Xq Ã‘ pE bA Zq#pX bA Fq
is a Ï„ 2-twisted cocycle representative.
Proof. Immediate from Lemma 2.4 and Remark 1.4.
â–¡
Assuming from now on that X is a comonoid in Z rpU-Modq with comulti-
plication âˆ†X : X Ã‘ X bAX and Z a monoid in Z â„“pU-Modq with multiplication
Âµ: Z bA Z Ã‘ Z, our next step consists in giving explicit formulÃ¦ for a cocycle
representative for the object Âµ#H#âˆ†X in Extâ€š
UpX, Zq, starting from a cocycle
representative Î¾ for an object H in Extâ€š
UpX bA X, Z bA Zq.
Lemma 2.7. Let pZ, Âµq be a monoid in Z â„“pU-Modq and pX, âˆ†Xq a comonoid in
Z rpU-Modq, let H P Extr
UpXbAX, ZbAZq, and Î¾ : BarpU, XbAXq Ã‘ H be a co-
cycle representative for H. Then a cocycle representative for Âµ#H#âˆ†X is given by
ËœÎ¾k â€“
$
â€™
â€™
â€™
â€™
â€™
â€™
&
â€™
â€™
â€™
â€™
â€™
â€™
%
idX
for
k â€œ Â´1,
`
Î¾0 Ë pid bAop âˆ†Xq, L
Ë˜
for
k â€œ 0,
Î¾k Ë pidk`1 bAop âˆ†Xq
for
1 Ä k Ä r Â´ 2,
`
0, Î¾rÂ´1 Ë pidr bAop âˆ†Xq
Ë˜
for
k â€œ r Â´ 1,
Âµ Ë Î¾r Ë pidr`1 bAop âˆ†Xq
for
k â€œ r,
where p , q indicates the projection onto the quotient Z \HrÂ´1 Ã‘ Z \ZbAZ HrÂ´1,
and where we abbreviated idk â€“ idbAop k
U
.
Proof. We start by computing a cocycle representative for H#âˆ†X, using the bar
resolutions for X and X bA X, respectively. Following the general prescription
in Â§1.6, we are to consider the commutative diagram
Barr`1pU, Xq
/
idr`2bAop âˆ†X

BarrpU, Xq
/
idr`1bAop âˆ†X

BarrÂ´1pU, Xq
/
idrbAop âˆ†X

. . .
Barr`1pU, X bA Xq
/

BarrpU, X bA Xq
/
Î¾r

BarrÂ´1pU, X bA Xq
/
Î¾rÂ´1

. . .
0
/ Z bA Z
/ HrÂ´1
/ . . .

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
21
. . .
/ Bar1pU, Xq
/
id2bAop âˆ†X

Bar0pU, Xq
(
idbAop âˆ†X

Bar0pU, Xq
/
LËpidbAop âˆ†Xq

/ X
âˆ†X

/ 0
. . .
/ Bar1pU, X bA Xq
/
Î¾1

Bar0pU, X bA Xq
Î¾0

/ X bA X
X bA X
/ 0
. . .
/ H1
// H0
/
5
X bA X
X bA X
/ 0
Note that the commutativity of the upper two rows depends on the fact that X
is a comonoid in U-Mod, that is, explicitly from (A.16). From this diagram we
obtain the representative cocycle
Barr`1pU, Xq
/

BarrpU, Xq
/
Î¾rËpidr`1bAop âˆ†Xq

BarrÂ´1pU, Xq
/
Î¾rÂ´1ËpidrbAop âˆ†Xq

. . .
0
/ Z bA Z
/ HrÂ´1
/ . . .
. . .
/ Bar1pU, Xq
/
Î¾1Ëpid2bAop âˆ†Xq

Bar0pU, Xq
/
pL,Î¾0ËpidbAop âˆ†Xqq

X
/ 0
. . .
/ H1
p0,dq
/ X Ë†XbAX H0
/ X
/ 0.
Next, to compute a cocycle representative for Âµ#H#âˆ†X, we consider the com-
mutative diagram
Barr`1pU, Xq
/
Î¶1 
BarrpU, Xq
*
Î¶0 
BarrpU, Xq
/
Î¾rËpidr`1bAop âˆ†Xq

BarrÂ´1pU, Xq
Î¾rÂ´1ËpidrbAop âˆ†X q

/ . . .
P ZbAZ
1

/ P ZbAZ
0
/

Z bA Z
Âµ

iH
/ HrÂ´1
/
p0,idq

. . .
0
/ Z
4
Z
pÂ´id,0q
/ Z \ZbAZ HrÂ´1
/ . . .
. . .
/ Bar1pU, Xq
/
Î¾1Ëpid2bAop âˆ†X q

Bar0pU, Xq
/
pÎ¾0ËpidbAop âˆ†Xq,Lq

X
/ 0
. . .
/ H1
/ H0 Ë†XbAX X
/ X
/ 0
. . .
/ H1
/ H0 Ë†XbAX X
/ X
/ 0,
to see that Âµ#G#âˆ†X is represented by the cocycle
Barr`1pU, Xq
/

BarrpU, Xq
/
ÂµËÎ¾rËpidr`1bAop âˆ†Xq

BarrÂ´1pU, Xq
p0,Î¾rÂ´1ËpidrbAop âˆ†Xqq

/ . . .
0
/ Z
/ Z \ZbAZ HrÂ´1
/ . . .

22
DOMENICO FIORENZA AND NIELS KOWALZIG
. . .
/ Bar1pU, Xq
/
Î¾1Ëpid2bAopâˆ†Xq

Bar0pU, Xq
/
pÎ¾0ËpidbAopâˆ†Xq,Lq

X
/ 0
. . .
/ H1
/ H0 Ë†XbAX X
/ X
/ 0,
from which the explicit expression for ËœÎ¾ can be read off in all degrees.
â–¡
Remark 2.8. For r â€œ 2, the statement of Lemma 2.7 has to be understood
without the middle line, i.e.,
ËœÎ¾k â€“
$
â€™
â€™
â€™
&
â€™
â€™
â€™
%
idX
for
k â€œ Â´1,
`
Î¾0 Ë pid bAop âˆ†Xq, L
Ë˜
for
k â€œ 0,
`
0, Î¾1 Ë pid2 bAop âˆ†Xq
Ë˜
for
k â€œ 1,
Âµ Ë Î¾2 Ë pid3 bAop âˆ†Xq
for
k â€œ 2.
(2.11)
If r â€œ 1, the two central lines of (2.11) are merged and one has
ËœÎ¾k â€“
$
â€™
&
â€™
%
idX
for
k â€œ Â´1,
`
0, Î¾0 Ë pid bAop âˆ†Xq, L
Ë˜
for
k â€œ 0,
Âµ Ë Î¾1 Ë pid2 bAop âˆ†Xq
for
k â€œ 1,
(2.12)
where ËœÎ¾0 is now taking values in
Z \ZbAZ H0 Ë†XbAX X.
Here we are omitting the parentheses thanks to the natural isomorphism of
U-modules pZ \ZbAZ H0q Ë†XbAX X Â» Z \ZbAZ pH0 Ë†XbAX Xq. Finally, for
r â€œ 0 one removes the central line of (2.12), obtaining
ËœÎ¾k â€“
#
H
for
k â€œ Â´1,
Âµ Ë Î¾0 Ë pid bAop âˆ†Xq
for
k â€œ 0,
where H: X bA X Ã‘ Z bA Z is the element in Ext0
UpX bA X, Z bA Zq of which
Î¾ is a 0-cocycle representative.
The above Lemma 2.7 suggests the following.
Deï¬nition 2.9. Let X and Z be as before and let H P Extr
UpX bA X, Z bA Zq
as well as G â€“ Âµ#H#âˆ†X. Deï¬ne the graded linear map
Î¦â€š :
rÃ€
kâ€œÂ´1
Hom
`
BarkpU, X bA Xq, Hk
Ë˜
Ã‘
rÃ€
kâ€œÂ´1
Hom
`
BarkpU, Xq, Gk
Ë˜
as follows:
Î¦kpÎ¾q â€“
$
â€™
â€™
â€™
â€™
â€™
â€™
&
â€™
â€™
â€™
â€™
â€™
â€™
%
0
for
k â€œ Â´1,
`
Î¾0 Ë pid bAop âˆ†Xq, 0
Ë˜
for
k â€œ 0,
Î¾k Ë pidk`1 bAop âˆ†Xq
for
1 Ä k Ä r Â´ 2,
`
0, Î¾rÂ´1 Ë pidr bAop âˆ†Xq
Ë˜
for
k â€œ r Â´ 1,
Âµ Ë Î¾r Ë pidr`1 bAop âˆ†Xq
for
k â€œ r,
(2.13)
for any Î¾ P Ã€r
kâ€œÂ´1 Hom
`
BarkpU, X bA Xq, Hk
Ë˜
.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
23
Remark 2.10. Following Remark 2.8, for r â€œ 2, this has to be understood
without the middle line, i.e.,
Î¦kpÎ¾q â€“
$
â€™
â€™
â€™
&
â€™
â€™
â€™
%
0
for
k â€œ Â´1,
`
Î¾0 Ë pid bAop âˆ†Xq, 0
Ë˜
for
k â€œ 0,
`
0, Î¾1 Ë pid2 bAop âˆ†Xq
Ë˜
for
k â€œ 1,
Âµ Ë Î¾2 Ë pid3 bAop âˆ†Xq
for
k â€œ 2.
(2.14)
If r â€œ 1, the two central lines of (2.14) are merged and one has
Î¦kpÎ¾q â€“
$
â€™
&
â€™
%
0
for
k â€œ Â´1,
`
0, Î¾0 Ë pid bAop âˆ†Xq, 0
Ë˜
for
k â€œ 0,
Âµ Ë Î¾1 Ë pid2 bAop âˆ†Xq
for
k â€œ 1,
(2.15)
where Î¦0pÎ¾q takes values in Z \ZbAZ H0 Ë†XbAX X. Finally, for r â€œ 0 one
removes the central line of (2.15) to obtain
Î¦kpÎ¾q â€“
#
0
for
k â€œ Â´1,
Âµ Ë Î¾0 Ë pid bAop âˆ†Xq
for
k â€œ 0,
Remark 2.11. In terms of the linear map Î¦ from Deï¬nition 2.9, Lemma 2.7
can be stated by saying that if Î¾ : BarpU, X bA Xq Ã‘ H is a cocycle representa-
tive for H P Extr
UpX bA X, Z bA Zq, with r Ä… 0, then
p0, . . . , 0, pL, 0q, idXq ` Î¦pÎ¾q
is a cocycle representative for G â€œ Âµ#H#âˆ†X P Extr
UpX, Zq.
Lemma 2.12. If Î¾ : BarpU, X bAXq Ã‘ H is an f-twisted cocycle for the extension
H P Extr
UpXbAX, ZbAZq, with r Ä… 0, then p0, . . . , 0, pL, 0q, idXq`Î¦pÎ¾q is a cocycle
representative for Âµ#H#pf Ë âˆ†Xq P Extr
UpX, Zq.
Proof. Immediate from Remarks 1.5 & 2.11.
â–¡
Corollary 2.13. Let Î¾ : BarpU, X bA Xq Ã‘ H be an f-twisted cocycle for the
extension H P Extr
UpX bA X, Z bA Zq, with r Ä… 0, such that f Ë âˆ†X â€œ âˆ†X. Then
p0, . . . , 0, pL, 0q, idXq`Î¦pÎ¾q is a cocycle representative for Âµ#H#âˆ†X P Extr
UpX, Zq.
If we additionally assume from now on that X is a braided cocommutative
comonoid in Z rpU-Modq, by summing up we obtain the following proposition,
which we give for strictly positive degrees leaving to the reader the easy task
of deriving the corresponding statement for 0-cocycles.
Proposition 2.14. Let Z be as before and X a braided cocommutative comon-
oid in Z rpU-Modq, let E P Extp
UpX, Zq and F P Extq
UpX, Zq, with p, q Ä… 0, and
let Ï†: BarpX, Uq Ã‘ E and Ïˆ: BarpX, Uq Ã‘ F be cocycle representatives for E and
F, respectively. Moreover, let Ï† Yb Ïˆ: BarpU, X bA Xq Ã‘ MolochpE, Fq be the
Ï„-twisted cocycle representative from Lemma 2.4, and let Î»E,F: MolochpE, Fq Ã‘
pX bA Fq#pE bA Zq be the morphism of complexes from Eq. (1.6). Then
p0, . . . , 0, pL, 0q, idXq ` Î¦pÎ»E,FpÏ† Yb Ïˆq Ë Ï„â€šqq
is a cocycle representative for E Y F â€œ Âµ#pE bA Zq#pX bA Fq#âˆ†X.
Proof. Corollary 2.6 states that Î»E,FpÏ† Yb Ïˆq Ë Ï„â€š : BarpU, X bA Xq Ã‘ pE bA
Zq#pXbAFq is a Ï„ 2-twisted cocycle representative. By assumption Ï„ Ëâˆ†X â€œ âˆ†X
as in (A.19), therefore Ï„ 2 Ë âˆ†X â€œ âˆ†X, and one concludes by Corollary 2.13.
â–¡

24
DOMENICO FIORENZA AND NIELS KOWALZIG
Deï¬nition 2.15. Let E P Extp
UpX, Zq resp. F P Extq
UpX, Zq be extensions
of length p resp. q, with cocycle representatives Ï†: BarpX, Uq Ã‘ E resp.
Ïˆ: BarpX, Uq Ã‘ F. The cocycle representative Ï† Y Ïˆ for E Y F is deï¬ned as
Ï† Y Ïˆ â€“ p0, . . . , 0, pL, 0q, idXq ` Î¦â€š
`
Î»E,FpÏ† Yb Ïˆq Ë Ï„
Ë˜
for any p, q Ä› 0.
Remark 2.16. By expanding the above deï¬nition, one sees that the top degree
component of Ï† Y Ïˆ is, for any p, q Ä› 0, given by
pÏ† Y Ïˆqp`qpu0, . . . , up`q, mq â€œ Î¦p`qpÎ»E,FpÏ† Yb Ïˆq Ë Ï„qpu0, . . . , up`q, mq
â€œ Âµ Ë pÏ†p Yb Ïˆqq Ë Ï„p`q Ë pidp`q`1 bAop âˆ†Xqpu0, . . . , up`q, mq
â€œ Ï†p
`
u0
p1q, . . . , up
p1q, pup`1
p2q Â¨ Â¨ Â¨ up`q
p2q mp2qqr0s
Ë˜
Â¨Z Ïˆq
`
u0
p2q Â¨ Â¨ Â¨ up
p2qpup`1
p2q Â¨ Â¨ Â¨ up`q
p2q mp2qqr1s, up`1
p1q , . . . , up`q
p1q , mp1q
Ë˜
,
(2.16)
when inserting the external cup product (2.9), the edge morphism Î»E,F as in
(1.6), the top degree of Î¦ as in (2.13), and the braided cocommutativity (A.19)
on X.
2.4. The cup product as internal operadic composition. Before ï¬nding,
in the spirit of Â§1.7, a second cocycle representative for E Y F, we would like
to understand how to reproduce the cup product from Eq. (2.16) from more
operadic ideas. To this end, we need to give both an external as well as an
internal operadic vertical composition ï¬rst.
2.4.1. The external operadic composition. As said, let us introduce an, in a
sense, 2-product, or (partial) external operadic composition
Ë
b
i : CjpU, X, Ejq b CqpU, X, Zq Ã‘ Cj`qÂ´1pU, X bA X, Ej bA Zq,
where j â€œ 1, . . . , p and i â€œ 1, . . . , j, as follows:
pÏ†j Ë
b
i Ïˆqqpu0, u1, . . . , up`qÂ´1, m bA m1q â€“
Ï†j
`
u0
p1q, . . . , uiÂ´1
p1q , Ïˆq
`
1, ui
p1q, . . . , ui`qÂ´1
p1q
,
pui`q
p2q Â¨ Â¨ Â¨ up`qÂ´1
p2q
m1qr0s
Ë˜
pÂ´1qui
p2q Â¨ Â¨ Â¨ ui`qÂ´1
p2q
pui`q
p2q Â¨ Â¨ Â¨ up`qÂ´1
p2q
m1qr1s, ui`q
p1q , . . . ,
up`qÂ´1
p1q
, mË˜
bA u0
p2q Â¨ Â¨ Â¨ uiÂ´1
p2q Ïˆq
`
1, ui
p1q, . . . , ui`qÂ´1
p1q
, pui`q
p2q Â¨ Â¨ Â¨ up`qÂ´1
p2q
m1qr0s
Ë˜
p0q.
(2.17)
Denote by
Ï†j Â¯Ë
b Ïˆq â€“
jÅ™
iâ€œ1
pÂ´1qpiÂ´1qpqÂ´1qÏ†j Ë
b
i Ïˆq
(2.18)
the full external operadic composition (or external Gerstenhaber product). For
a zero cochain, that is, for j â€œ 0, put Ï†0 Â¯Ëb Ïˆq â€“ 0. The commutator with
respect to this Gerstenhaber product will be denoted by
rÏˆq, Ï†psÂ¯Ëb â€“ Ïˆq Â¯Ë
b Ï†p Â´ pÂ´1qppÂ´1qpqÂ´1qÏ†p Â¯Ë
b Ïˆq.
Remark 2.17. Observe that it is, a priori, not so clear how to generalise (2.17)
to a map
CjpU, X, Ejq b CipU, X, Fiq Ã‘ Cj`iÂ´1pU, X bA X, Ej bA Fiq
for 0 Ä i Äƒ q as there is in general no reason why, apart from Fq â€œ Z, also the
U-modules Fi for i â€° q should be U-comodules as well.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
25
2.4.2. The internal operadic composition. Precomposing resp. postcomposing
the partial external operadic composition (2.17) in case j â€œ p with the comul-
tiplication âˆ†X on X and the multiplication Âµ on Z, respectively, gives a true
(partial) (internal) operadic composition on the family
Opnq â€“ CnpU, X, Zq â€œ HomUpBarnpU, Xq, Zq
(2.19)
of k-modules. This results into a map
Oppq b Opqq Ã‘ Opp ` q Â´ 1q
explicitly given for any Ï†p P Oppq, Ïˆq P Opqq, any uj P U, and m P X by
pÏ†p Ëi Ïˆqqpu0, u1, . . . , up`qÂ´1, mq â€“
Ï†p
`
u0
p1q, . . . , uiÂ´1
p1q , Ïˆq
`
1, ui
p1q, . . . , ui`qÂ´1
p1q
,
pui`q
p2q Â¨ Â¨ Â¨ up`qÂ´1
p2q
mp2qqr0s
Ë˜
pÂ´1qui
p2q Â¨ Â¨ Â¨ ui`qÂ´1
p2q
pui`q
p2q Â¨ Â¨ Â¨ up`qÂ´1
p2q
mp2qqr1s, ui`q
p1q , . . . ,
up`qÂ´1
p1q
, mp1q
Ë˜
Â¨Z
`
u0
p2q Â¨ Â¨ Â¨ uiÂ´1
p2q Ïˆq
`
1, ui
p1q, . . . , ui`qÂ´1
p1q
, pui`q
p2q Â¨ Â¨ Â¨ up`qÂ´1
p2q
mp2qqr0s
Ë˜
p0q
Ë˜
,
(2.20)
for any i â€œ 1, . . . , p. Observe that the full structure of Z and X is used here:
being left U-modules, being (left resp. right) U-comodules, and having a multi-
plication on Z resp. a comultiplication on X. That (2.20) indeed deï¬nes partial
composition maps in an operad in the standard sense (cf. Appendix A.3) will
not be proven before Â§2.7 under the three assumptions that X is a (braided) co-
commutative comonoid in Z rpU-Modq and Z a (braided) commutative monoid
in Z â„“pU-Modq such that pX, Zq yields a commuting pair.
Analogously to (2.18), let us introduce the full (internal) operadic composi-
tion by deï¬ning
Ï†j Â¯Ë Ïˆq â€“
jÅ™
iâ€œ1
pÂ´1qpiÂ´1qpqÂ´1qÏ†j Ëi Ïˆq,
(2.21)
which, again, might be called the (internal) Gerstenhaber product.
For the sake of illustration, we list a couple of special instances: for arbitrary
Z and X â€œ A, the base algebra itself, one obtains:
pÏ†p Ëi Ïˆqqpu0, u1, . . . , up`qÂ´1q
â€œ Ï†p
`
u0
p1q, . . . , uiÂ´1
p1q , Ïˆqp1, ui
p1q, . . . , ui`qÂ´1
p1q
qpÂ´1qui
p2q Â¨ Â¨ Â¨ ui`qÂ´1
p2q
, ui`q, . . . , up`qÂ´1Ë˜
Â¨Z
`
u0
p2q Â¨ Â¨ Â¨ uiÂ´1
p2q Ïˆqp1, ui
p1q, . . . , ui`qÂ´1
p1q
qp0q
Ë˜
.
(2.22)
For example, for p â€œ q â€œ 1, this would be
pÏ†p Ë1 Ïˆqqpu, vq â€œ Ï†p
`
up1q, Ïˆqp1, vp1qqpÂ´1qvp2q
Ë˜
Â¨Z
`
up2qÏˆqp1, vp1qqp0q
Ë˜
.
(2.23)
On the other hand, let Z â€œ A and X be arbitrary. Then (2.20) reduces to
pÏ†p Ëi Ïˆqqpu0, u1, . . . , up`qÂ´1, mq â€œ
Ï†p
`
u0, . . . , uiÂ´1, Ïˆq
`
1, ui
p1q, . . . , ui`qÂ´1
p1q
,
pui`q
p2q Â¨ Â¨ Â¨ up`qÂ´1
p2q
mp2qqr0s
Ë˜
Å» ui
p2q Â¨ Â¨ Â¨ ui`qÂ´1
p2q
pui`q
p2q Â¨ Â¨ Â¨ up`qÂ´1
p2q
mp2qqr1s, ui`q
p1q , . . . , up`qÂ´1
p1q
, mp1q
Ë˜
.
Finally, if both X â€œ Z â€œ A equal the base algebra itself, that is, the unit object
in the monoidal category U-Mod, we obtain
pÏ†p Ëi Ïˆqqpu0, u1, . . . , up`qÂ´1q â€œ
Ï†p
`
u0, . . . , uiÂ´1, Ïˆq
`
1, ui
p1q, . . . , ui`qÂ´1
p1q
Ë˜
Å» ui
p2q Â¨ Â¨ Â¨ ui`qÂ´1
p2q
, ui`q, . . . , up`qÂ´1Ë˜
,
which is sort of the nicest and makes it clear why people never bothered about
introducing more general coefï¬cients. Again, in case of the bialgebroid pU, Aq â€œ
pAe, Aq and X â€œ Z â€œ A, employing the explicit bialgebroid structure of Ae as

26
DOMENICO FIORENZA AND NIELS KOWALZIG
quoted in (A.2), this reduces to the classical Gerstenhaber insertion operations
as they originally appeared in [Ge], that is,
pÏ†p Ëi Ïˆqqpa1, . . . , ap`qÂ´1q â€œ Ï†p
`
a1, . . . , aiÂ´1, Ïˆqpai, . . . , ai`qÂ´1q, ai`q, . . . , ap`qÂ´1Ë˜
,
where now the commata mean a tensor product over k instead of over Aop, and
where we identiï¬ed HomAe `
pAeqbAop n`1, A
Ë˜
Â» HomkpAbkn, Aq.
2.4.3. The internal cup product. Introducing a special element Âµ P Op2q,
Âµpu0, u1, u2, mq â€“ ÎµXpu0u1u2mq,
the multiplication, which will again serve in Â§2.7, one can deï¬ne the (internal)
cup product
Y: Oppq b Opqq Ã‘ Opp ` qq,
in the customary way, i.e.,
Ï†p Y Ïˆq â€œ pÂµ Ë2 Ïˆqq Ë1 Ï†p.
(2.24)
For Ï†p P Oppq, Ïˆq P Opqq, any uj P U and m P X this explicitly comes out as
pÏ†p Y Ïˆqqpu0, . . . , up`q, mq
â€œ Ï†p
`
u0
p1q, . . . , up
p1q, pup`1
p2q Â¨ Â¨ Â¨ up`q
p2q mp2qqr0s
Ë˜
Â¨Z Ïˆq
`
u0
p2q Â¨ Â¨ Â¨ up
p2qpup`1
p2q Â¨ Â¨ Â¨ up`q
p2q mp2qqr1s, up`1
p1q , . . . , up`q
p1q , mp1q
Ë˜
.
(2.25)
Remark 2.18. Observe that this is now the same formula as the one obtained
by a different approach in (2.16), with the striking difference that here one
does not need to start from the assumption of dealing with cocycles; indeed, in
Eq. (2.25) above, both Ï†p and Ïˆq are merely cochains.
Remark 2.19. As already hinted at in Remark 2.17, observe again that as
in (2.24) analogously writing Ï†j Yb Ïˆi â€œ pÂµ Ë
b
2 Ïˆiq Ë
b
1 Ï†j for the external cup
product (2.9) in terms of the external operadic operation (2.17) does not make
sense, and therefore (2.9) had to be deï¬ned, sort of, by hand.
Let us again discuss some special cases:
for arbitrary Z and X â€œ A,
Eq. (2.25) reduces to
pÏ†p Y Ïˆqqpu0, . . . , up`qq â€œ Ï†p
`
u0
p1q, . . . , up
p1q
Ë˜
Â¨Z Ïˆq
`
u0
p2q Â¨ Â¨ Â¨ up
p2q, up`1, . . . , up`qË˜
,
which, from a slightly different viewpoint, precisely reï¬‚ects the DG coalgebra
structure of the bar resolution, whereas for arbitrary X and Z â€œ A, Eq. (2.25)
by replacing the multiplication in Z with the product in A does not really sim-
plify. In case Z â€œ X â€œ A, we therefore obtain
pÏ†p Y Ïˆqqpu0, . . . , up`qq â€œ Ï†ppu0
p1q, . . . , up
p1qqÏˆqpu0
p2q Â¨ Â¨ Â¨ up
p2q, up`1, . . . , up`qq,
which, again, in case pU, Aq â€œ pAe, Aq reduces to the well-known cup product
from [Ge], that is
pÏ†p Y Ïˆqqpa1, . . . , ap`qq â€œ Ï†ppa1, . . . , upqÏˆqpap`1, . . . , ap`qq,
where, once more, the commata mean a tensor product over k instead of over
Aop, and where we identiï¬ed HomAe`
pAeqbAop n`1, A
Ë˜
Â» HomkpAbkn, Aq.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
27
2.5. A second cocycle representative for E Y F. As in Â§1.7, we are now
going to construct a second cocycle representative for E Y F, see Proposition
2.24, that in the next subsection will turn out to be homotopic to the one from
Deï¬nition 2.15. For this, in particular, we need to ï¬nd the, sort of, correction
term Ç« along with a couple of technical lemmata.
As above, for the whole section, let E P Extp
UpX, Zq and F P Extq
UpX, Zq, with
p, q Ä… 0, and let Ï†: BarpX, Uq Ã‘ E and Ïˆ: BarpX, Uq Ã‘ F be chain maps, i.e.,
cocycle representatives for E and F, respectively.
By switching the rÃ´les of E and F in Remark 2.1 and in Lemma 2.4, we
immediately obtain the following.
Lemma 2.20. If Ï†, Ïˆ are chain maps as above, then the collection of maps
pÏˆ Yb Ï†qk : BarpU, X bA Xq Ã‘ MolochpF, Eqk induced by the external cup
product deï¬nes a Ï„-twisted cocycle representative Ïˆ Yb Ï†: BarpU, X bA Xq Ã‘
MolochpF, Eq.
Let us introduce the (doubly) braided cup commutator
rÏ†j, ÏˆqsYb,Ïƒ,Ï„ â€“ pÏ†j Yb Ïˆqq Ë Ï„j`q Â´ pÂ´1qjqÏƒ Ë pÏˆq Yb Ï†jq,
(2.26)
where we wrote
Ï„k â€“ pU bAop k`1 bAop Ï„q
(2.27)
in order to enhance notational beauty. In this sense, Ï„Â´1 â€“ Ï„.
Lemma 2.21. Let Ï†j P CjpU, X, Ejq and Ïˆq P CqpU, X, Zq and as before let
Î´ â€œ dËš be the pullback of the differential of the bar resolution. If pX, Zq is a
commuting pair in the sense of Eq. (A.9), then the homotopy formula
pÂ´1qqjrÏ†j, ÏˆqsYb,Ïƒ,Ï„ â€œ pÂ´1qqÏ†j Â¯Ë
b Î´Ïˆq Â´ pÂ´1qqÎ´pÏ†j Â¯Ë
b Ïˆqq Â´ Î´Ï†j Â¯Ë
b Ïˆq
(2.28)
holds, where Ïƒ and Ï„ are the left resp. right braidings from (2.1) resp. (2.2). For
j â€œ 0, Eq. (2.28) reduces to
rÏ†0, ÏˆqsYb,Ïƒ,Ï„ â€œ Â´Î´Ï†0 Ë
b
1 Ïˆq.
(2.29)
Proof. This essentially works by writing down and comparing all appearing
terms one by one, not dissimilar to the operadic case; which is a tedious but
straightforward computation, we only indicate here a couple of decisive steps.
To this end, note if Î´ â€œ Å™j`1
kâ€œ0pÂ´1qkÎ´k is the decomposition of the differential
Î´ â€œ dËš into its cofaces Î´k, then one directly checks that
ppÏ†j Yb Ïˆqq Ë Ï„j`qqpu0, . . . , uj`q, m bA m1q
(A.8)
â€œ
pÏ†j Yb Ïˆqqpu0, . . . , uj`q, m1
r0s bA m1
r1smq
(2.9)
â€œ
Ï†j
`
u0
p1q, . . . , uj
p1q, puj`1
p2q Â¨ Â¨ Â¨ uj`q
p2q m1
r1smqr0s
Ë˜
bAÏˆq
`
u0
p2q Â¨ Â¨ Â¨ uj
p2qpuj`1
p2q Â¨ Â¨ Â¨ uj`q
p2q m1
r1smqr1s, uj`1
p1q , . . . , uj`q
p1q , m1
r0s
Ë˜
â€œ
Ï†j
`
u0
p1q, . . . , uj
p1q, puj`1
p2q Â¨ Â¨ Â¨ uj`q
p2q m1
r1smqr0s
Ë˜
bAu0
p2q Â¨ Â¨ Â¨ uj
p2qpuj`1
p2q Â¨ Â¨ Â¨ uj`q
p2q m1
r1smqr1sÏˆq
`
1, uj`1
p1q , . . . , uj`q
p1q , m1
r0s
Ë˜
(A.10)
â€œ
Ï†j
`
u0
p1q, . . . , uj
p1q, Ïˆq
`
1, uj`1
p1q , . . . , uj`q
p1q , m1
r0s
Ë˜
pÂ´1quj`1
p2q Â¨ Â¨ Â¨ uj`q
p2q m1
r1sm
Ë˜
bAu0
p2q Â¨ Â¨ Â¨ uj
p2qÏˆq
`
1, uj`1
p1q , . . . , uj`q
p1q , m1
r0s
Ë˜
p0q
â€œ
Î´j`1Ï†j
`
u0
p1q, . . . , uj
p1q, Ïˆq
`
1, uj`1
p1q , . . . , uj`q
p1q , m1
r0s
Ë˜
pÂ´1quj`1
p2q Â¨ Â¨ Â¨ uj`q
p2q m1
r1s, m
Ë˜
bAu0
p2q Â¨ Â¨ Â¨ uj
p2qÏˆq
`
1, uj`1
p1q , . . . , uj`q
p1q , m1
r0s
Ë˜
p0q
(2.17)
â€œ
ppÎ´j`1Ï†jq Ëb
j`1 Ïˆqqpu0, . . . , uj`q, m bA m1q,
where the fact that pX, Zq is a commuting pair was used in the fourth step;
that is,
pÏ†j Yb Ïˆqq Ë Ï„j`q â€œ pÎ´j`1Ï†jq Ë
b
j`1 Ïˆq,
(2.30)

28
DOMENICO FIORENZA AND NIELS KOWALZIG
in analogy to the operadic case. On the other hand,
Ïƒ`
pÏˆq Yb Ï†jqpu0, . . . , uq`j, m bA m1qË˜
(2.9)
â€œ
Ïƒ`
Ïˆq
`
u0
p1q, . . . , uq
p1q, puq`1
p2q Â¨ Â¨ Â¨ uq`j
p2q m1qr0s
Ë˜
bAÏ†j
`
u0
p2q Â¨ Â¨ Â¨ uq
p2qpuq`1
p2q Â¨ Â¨ Â¨ uq`j
p2q m1qr1s, uq`1
p1q , . . . , uq`j
p1q , m
Ë˜Ë˜
(A.7)
â€œ
Ïˆq
`
u0
p1q, . . . , uq
p1q, puq`1
p2q Â¨ Â¨ Â¨ uq`j
p2q m1qr0s
Ë˜
pÂ´1qÏ†j
`
u0
p2q Â¨ Â¨ Â¨ uq
p2qpuq`1
p2q Â¨ Â¨ Â¨ uq`j
p2q m1qr1s,
uq`1
p1q , . . . , uq`j
p1q , m
Ë˜
bA Ïˆq
`
u0
p1q, . . . , uq
p1q, puq`1
p2q Â¨ Â¨ Â¨ uq`j
p2q m1qr0s
Ë˜
p0q
(A.5)
â€œ
Ï†j
`
u0
p1qÏˆq
`
1, u1
p1q, . . . , uq
p1q,
puq`1
p2q Â¨ Â¨ Â¨ uq`j
p2q m1qr0s
Ë˜
pÂ´1qu1
p2q Â¨ Â¨ Â¨ uq
p2qpuq`1
p2q Â¨ Â¨ Â¨ uq`j
p2q m1qr1s, uq`1
p1q , . . . ,
uq`j
p1q , mË˜
bA u0
p2qÏˆq
`
1, u1
p1q, . . . , uq
p1q, puq`1
p2q Â¨ Â¨ Â¨ uq`j
p2q m1qr0s
Ë˜
p0q
â€œ
Î´0Ï†j
`
u0
p1q, Ïˆq
`
1, u1
p1q, . . . , uq
p1q,
puq`1
p2q Â¨ Â¨ Â¨ uq`j
p2q m1qr0s
Ë˜
pÂ´1qu1
p2q Â¨ Â¨ Â¨ uq
p2qpuq`1
p2q Â¨ Â¨ Â¨ uq`j
p2q m1qr1s, uq`1
p1q , . . . ,
uq`j
p1q , mË˜
bA u0
p2qÏˆq
`
1, u1
p1q, . . . , uq
p1q, puq`1
p2q Â¨ Â¨ Â¨ uq`j
p2q m1qr0s
Ë˜
p0q
(2.17)
â€œ
ppÎ´0Ï†jq Ëb
1 Ïˆqqpu0, . . . , uq`j, m bA m1q,
using the U-linearity of both Ïˆq and Ï†j, and where in the third step we used
the fact that the braiding Ïƒ is morphism in U-Mod. Hence,
Ïƒ Ë pÏˆq Yb Ï†jq â€œ pÎ´0Ï†jq Ë
b
1 Ïˆq,
(2.31)
from which also (2.29) immediately follows.
With the two identities (2.30) and (2.31) at hand, verifying the homotopy
(2.28) becomes a feasible task and its full veriï¬cation is left to the reader.
â–¡
Again by Remark 2.17, one cannot write down a version of the right hand
side of (2.28) with the positions of Ï†j and Ïˆq interchanged (as one could, up
to signs, in the standard operadic situation). Also, the left hand side, i.e., the
braided cup commutator (2.26) would not make sense with Ï†j and Ïˆq in oppo-
site order.
Lemma 2.22. Let Ï†: BarpU, Xq Ã‘ E and Ïˆ: BarpU, Xq Ã‘ F be as above, and let
Ç«kpÏ†, Ïˆq: BarkpU, X bA Xq Ã‘ MolochpF, Eqk
for any k â€œ Â´1, 0, . . ., p ` q be deï¬ned by
Ç«kpÏ†, Ïˆq â€œ
$
â€™
â€™
â€™
â€™
&
â€™
â€™
â€™
â€™
%
0
for k Äƒ p,
Â´rÏˆkÂ´p, Ï†psYb,Ïƒ,Ï„
`pÂ´1qpk`k`1pFkÂ´p`1 bA iEq Ë pÏˆkÂ´p`1 Â¯Ëb Ï†pq
for p Ä k Ä p ` q Â´ 1,
Â´rÏˆq, Ï†psYb,Ïƒ,Ï„
for k â€œ p ` q.
If pX, Zq is a commuting pair in the sense of Eq. (A.9), then Ç«pÏ†, Ïˆq: BarpU, X bA
Xq Ã‘ MolochpF, Eq is a 0-twisted cocycle representative.
Proof. By deï¬nition of 0-twisted cocycle representative, we have to show that Ç«
is a chain map with Ç«Â´1 â€œ 0. The last part of the statement is true by deï¬nition
of Ç«, so we have only to prove that Ç« is a chain map. To start with, let p Äƒ k Ä
p ` q Â´ 1; the cases for k â€œ p ` q and k â€œ p will be proven separately. Observe
ï¬rst that since d is a U-module map, we have from (2.1) and (2.2) that
pd bA Zq Ë Ïƒ
â€œ
Ïƒ Ë pZ bA dq,
pX bA dq Ë Ï„
â€œ
Ï„ Ë pd bA Xq.
(2.32)

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
29
Using again the notation Ï„k â€œ pU bAopk bAop Ï„q as in (2.27), we compute with
d Ë iE â€œ 0, Eqs. (2.9), (2.26), and (2.6) as well as (2.32):
d Ë Ç«kpÏ†, Ïˆq
â€œ d Ë
`
Â´ rÏˆkÂ´p, Ï†psYb,Ïƒ,Ï„ ` pÂ´1qpk`k`1pFkÂ´p`1 bA iEq Ë pÏˆkÂ´p`1 Â¯Ë
b Ï†pq
Ë˜
â€œ Â´pd Ë ÏˆkÂ´pq Yb Ï†p Ë Ï„kÂ´1 ` pÂ´1qppk`1qÏƒ Ë
`
Ï†p Yb pd Ë ÏˆkÂ´pq
Ë˜
` pÂ´1qkÂ´pÂ´1pFkÂ´p bA iEq Ë rÏˆkÂ´p, Ï†psYb,Ïƒ,Ï„
` pÂ´1qpk`k`1pd bA iEq Ë pÏˆkÂ´p`1 Â¯Ë
b Ï†pq
â€œ Â´pÎ´ÏˆkÂ´pÂ´1q Yb Ï†p Ë Ï„kÂ´1 ` pÂ´1qppk`1qÏƒ Ë
`
Ï†p Yb pÎ´ÏˆkÂ´pÂ´1q
Ë˜
` pÂ´1qkÂ´pÂ´1pFkÂ´p bA iEq Ë rÏˆkÂ´p, Ï†psYb,Ïƒ,Ï„
` pÂ´1qpk`k`1pFkÂ´p bA iEq Ë pÎ´ÏˆkÂ´p Â¯Ë
b Ï†pq,
whereas, on the other hand, using the homotopy formula (2.28) and the fact
(2.10) that Î´ is a derivation of the cup product, along with Î´Ï†p â€œ 0,
Ç«kÂ´1pÏ†, Ïˆq Ë d
â€œ
`
Â´ rÏˆkÂ´pÂ´1, Ï†psY,Ïƒ,Ï„ ` pÂ´1qppkÂ´1q`kpFkÂ´p bA iEq Ë pÏˆkÂ´p Â¯Ë
b Ï†pq
Ë˜
Ë d
â€œ Â´pÎ´ÏˆkÂ´pÂ´1 Yb Ï†pq Ë Ï„k ` pÂ´1qpkÏƒ Ë
`
pÏ†p Yb ÏˆkÂ´pÂ´1q Ë d
Ë˜
` pÂ´1qppkÂ´1q`kpFkÂ´p bA iEq Ë
`
pÏˆkÂ´p Â¯Ë
b Ï†pq Ë d
Ë˜
â€œ Â´pÎ´ÏˆkÂ´pÂ´1 Yb Ï†pq Ë Ï„k ` pÂ´1qppk`1qÏƒ Ë pÏ†p Yb Î´ÏˆkÂ´pÂ´1q
` pÂ´1qppkÂ´1q`kpFkÂ´p bA iEq Ë Î´pÏˆkÂ´p Â¯Ë
b Ï†pq,
which by the homotopy relation (2.28) for the braided cup commutator is the
same as before, hence d Ë Ç«kpÏ†, Ïˆq â€œ Ç«kÂ´1pÏ†, Ïˆq Ë d for p Äƒ k Ä p ` q Â´ 1. The case
k â€œ p ` q is proven similar and left to the reader. As for the case k â€œ p, one has
to show that d Ë
`
rÏˆ0, Ï†psYb,Ïƒ,Ï„ ` pF1 bA iEq Ë pÏˆ1 Â¯Ëb Ï†pq
Ë˜
â€œ 0. Indeed, with the
help of (2.29) and the fact that pdF bA ZqpF0 bA Zq â€œ 0 in MolochpF, Eq,
d Ë
`
rÏˆ0, Ï†psYb,Ïƒ,Ï„ ` pF1 bA iEq Ë pÏˆ1 Ë
b
1 Ï†pq
Ë˜
â€œ pF0 bA iEq Ë rÏˆ0, Ï†psYb,Ïƒ,Ï„ ` pd bA iEq Ë pÏˆ1 Ë
b
1 Ï†pq
â€œ pF0 bA iEq Ë rÏˆ0, Ï†psYb,Ïƒ,Ï„ ` pF0 bA iEq Ë pÎ´Ïˆ0 Ë
b
1 Ï†pq
â€œ pF0 bA iEq Ë rÏˆ0, Ï†psYb,Ïƒ,Ï„ Â´ pF0 bA iEq Ë rÏˆ0, Ï†psYb,Ïƒ,Ï„ â€œ 0,
which ends the proof.
â–¡
Corollary 2.23. Let Ç« be as in Lemma 2.22 and pX, Zq a commuting pair sub-
ject to the same assumptions as before, and let ÌºF,E : MolochpF, Eq Ã‘ pZ bA
Eq#pF bA Xq be the morphism of complexes obtained by switching the rÃ´les of E
and F in (1.7). Then
ÌºF,EpÏˆ Yb Ï† ` Ç«pÏ†, Ïˆqq: BarpU, X bA Xq Ã‘ pZ bA Eq#pF bA Xq
is a Ï„-twisted cocycle representative, which implies that
pÏƒ|Ï„qE,F Ë ÌºF,EpÏˆ Yb Ï† ` Ç«pÏ†, Ïˆqq: BarpU, X bA Xq Ã‘ pE bA Zq#pX bA Fq
is a Ï„ 2-twisted cocycle representative.
Proof. From Lemmata 2.20 & 2.22 we have that Ïˆ Yb Ï† ` Ç«pÏ†, Ïˆq: BarpU, X bA
Xq Ã‘ MolochpF, Eq is a Ï„-twisted cocycle representative. By noticing that
pÌºF,EqÂ´1 â€œ idXbAX and with the help of Remark 1.4, one proves the ï¬rst state-
ment. The second is then obvious.
â–¡
Finally, reasoning as in the proof of Proposition 2.14, we obtain:

30
DOMENICO FIORENZA AND NIELS KOWALZIG
Proposition 2.24. In the same notation as above,
p0, . . . , 0, pL, 0q, idXq ` Î¦
`
pÏƒ|Ï„qE,F Ë ÌºF,EpÏˆ Yb Ï† ` Ç«pÏ†, Ïˆqq
Ë˜
is as well a cocycle representative for EYF â€œ Âµ#pEbA Zq#pX bA Fq#âˆ†X, where
Î¦ is deï¬ned in (2.13).
2.6. Brackets from homotopies. So far, in Â§2.3 and Â§2.5, we have exhibited
two representative cocycles for E Y F, namely Ï† Y Ïˆ â€œ p0, . . . , 0, pL, 0q, idXq `
Î¦pÎ»E,FpÏ† Yb Ïˆq Ë Ï„â€šqq as well as p0, . . . , 0, pL, 0q, idXq ` Î¦ppÏƒ|Ï„qE,F Ë ÌºF,EpÏˆ Yb Ï† `
Ç«pÏ†, Ïˆqqq. We now want to produce an explicit homotopy between these two.
Writing
Î·pÏ†, Ïˆq â€“ Î»E,F
`
pÏ† Yb Ïˆq Ë Ï„
Ë˜
Â´ pÏƒ|Ï„qE,F Ë ÌºF,E
`
pÏˆ Yb Ï† ` Ç«pÏ†, Ïˆq
Ë˜
,
(2.33)
where pÏƒ|Ï„qE,F is the morphism of complexes deï¬ned in (1.8), this amounts to
exhibiting a homotopy between Î¦pÎ·pÏ†, Ïˆqq and zero.
Before we do so, let us give an explicit expression for Î· in (2.33):
Lemma 2.25. Under the standing assumptions, we have
pÏƒ|Ï„qF,E Ë ÌºE,FpÏ† Yb Ïˆq Â´ Î»F,E
`
pÏˆ Yb Ï†q Ë Ï„â€š ` Ç«pÏ†, Ïˆq
Ë˜
â€œ 0,
as well as
Î·pÏ†, Ïˆq â€œ Î»E,F
`
pÏ† Yb Ïˆq Ë Ï„â€š
Ë˜
Â´ pÏƒ|Ï„qE,F Ë ÌºF,E
`
pÏˆ Yb Ï† ` Ç«pÏ†, Ïˆq
Ë˜
â€œ
$
â€™
â€™
â€™
â€™
â€™
â€™
&
â€™
â€™
â€™
â€™
â€™
â€™
%
0
for k Äƒ q,
rÏ†kÂ´q, ÏˆqsYb,Ïƒ,Ï„
for q Ä k Ä p ` q Â´ 2,
rÏ†pÂ´1, ÏˆqsYb,Ïƒ,Ï„
`pÂ´1qp`qÏƒ Ë pZ bA iEq Ë pÏˆq Â¯Ëb Ï†pq
for k â€œ p ` q Â´ 1,
rÏ†p, ÏˆqsYb,Ïƒ,Ï„ ` pÂ´1qpqÏƒ Ë rÏˆq, Ï†psYb,Ïƒ,Ï„
for k â€œ p ` q,
(2.34)
for any two chain maps Ï†: BarpU, Xq Ã‘ E and Ïˆ: BarpU, Xq Ã‘ F as before.
Proof. Observe ï¬rst that explicitly looking at the edge morphisms (1.6) and
(1.7) yields
ÌºF,EÇ«kpÏ†, Ïˆq â€œ
$
â€™
&
â€™
%
0
for k Äƒ p ` q Â´ 1,
pÂ´1qp`qpZ bA iEq Ë pÏˆq Â¯Ëb Ï†pq
for k â€œ p ` q Â´ 1,
Â´pÂ´1qpqrÏˆq, Ï†psYb,Ïƒ,Ï„
for k â€œ p ` q,
(2.35)
as well as
Î»F,EÇ«kpÏ†, Ïˆq â€œ
#
0
for k Äƒ p,
Â´rÏˆkÂ´p, Ï†psYb,Ïƒ,Ï„
for p Ä k Ä p ` q.
(2.36)
Slightly less straightforward, one also has
Å™
j`iâ€œk
`
pÏƒ|Ï„qF,E Ë ÌºE,FpÏ†j Yb Ïˆiq Â´ Î»F,E
`
pÏˆi Yb Ï†jq Ë Ï„i`j
Ë˜Ë˜
â€œ
#
0
for k Äƒ p,
rÏˆkÂ´p, Ï†psYb,Ïƒ,Ï„
for p Ä k Ä p ` q,
(2.37)

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
31
which is seen as follows: ï¬rst, in case k Äƒ p, one directly computes
Å™
j`iâ€œk
pÏƒ|Ï„qF,E Ë ÌºE,F
`
pÏ†j Yb Ïˆiqpu0, . . . , ui`j, m bA m1qË˜
(2.9)
â€œ
Å™
j`iâ€œk
pÏƒ|Ï„qF,E Ë ÌºE,F
`
Ï†j
`
u0
p1q, . . . , uj
p1q, puj`1
p2q Â¨ Â¨ Â¨ uj`i
p2q m1qr0s
Ë˜
bAÏˆi
`
u0
p2q Â¨ Â¨ Â¨ uj
p2qpuj`1
p2q Â¨ Â¨ Â¨ uj`i
p2q m1qr1s, uj`1
p1q , . . . , uj`i
p1q , m
Ë˜Ë˜
(1.7),(1.8)
â€œ
Ï„ Ë
`
Ï†kpu0
p1q, . . . , uk
p1q, m1
r0sq bA pFÏˆ0pu0
p2q Â¨ Â¨ Â¨ uk
p2qm1
r1s, mq
Ë˜
(2.8)
â€œ
Ï„ Ë
`
Ï†kpu0
p1q, . . . , uk
p1q, m1
r0sq bA Lpu0
p2q Â¨ Â¨ Â¨ uk
p2qm1
r1s, mq
Ë˜
(2.4),(A.8)
â€œ
pu0
p2q Â¨ Â¨ Â¨ uk
p2qm1
r1smqr0s bA pu0
p2q Â¨ Â¨ Â¨ uk
p2qm1
r1smqr1sÏ†kpu0
p1q, . . . , uk
p1q, m1
r0sq,
whereas
Å™
j`iâ€œk
Î»F,E
``
pÏˆi Yb Ï†jq Ë Ï„i`j
Ë˜
pu0, . . . , ui`j, m bA m1qË˜
(A.8)
â€œ
Å™
j`iâ€œk
Î»F,E
`
pÏˆi Yb Ï†jqpu0, . . . , ui`j, m1
r0s bA m1
r1smqË˜
(2.9)
â€œ
Å™
j`iâ€œk
Î»F,E
`
Ïˆi
`
u0
p1q, . . . , ui
p1q, pui`1
p2q Â¨ Â¨ Â¨ ui`j
p2q m1
r1smqr0s
Ë˜
bAÏ†j
`
u0
p2q Â¨ Â¨ Â¨ ui
p2qpui`1
p2q Â¨ Â¨ Â¨ ui`j
p2q m1
r1smqr1s, ui`1
p1q , . . . , ui`j
p1q , m1
r0s
Ë˜Ë˜
(1.6)
â€œ
pFÏˆ0
`
u0
p1q, pu1
p2q Â¨ Â¨ Â¨ uk
p2qm1
r1smqr0s
Ë˜
bAÏ†k
`
u0
p2qpu1
p2q Â¨ Â¨ Â¨ uk
p2qm1
r1smqr1s, u1
p1q, . . . , uk
p1q, m1
r0s
Ë˜
(2.5),(2.4)
â€œ
u0
p1qpu1
p2q Â¨ Â¨ Â¨ uk
p2qm1
r1smqr0s
bAÏ†k
`
u0
p2qpu1
p2q Â¨ Â¨ Â¨ uk
p2qm1
r1smqr1s, u1
p1q, . . . , uk
p1q, m1
r0s
Ë˜
(A.6)
â€œ
pu0
p2q Â¨ Â¨ Â¨ uk
p2qm1
r1smqr0s bA pu0
p2q Â¨ Â¨ Â¨ uk
p2qm1
r1smqr1sÏ†k
`
u0
p1q, . . . , uk
p1q, m1
r0s
Ë˜
,
where in the last step we also used the U-linearity of Ï†k; hence, the same
expression as above and the claim follows. The case in which p Ä k Ä p ` q
again directly follows from how the edge morphisms are deï¬ned, see (1.6)â€“
(1.7), once more. Finally, one proves in an analogous way that
Å™
j`iâ€œk
`
Î»E,F
`
pÏ†j Yb Ïˆiq Ë Ï„j`i
Ë˜
Â´ pÏƒ|Ï„qE,F Ë ÌºF,EpÏˆi Yb Ï†jq
Ë˜
â€œ
#
0
for k Äƒ q,
rÏ†kÂ´q, ÏˆqsYb,Ïƒ,Ï„
for q Ä k Ä p ` q.
(2.38)
Gathering Eqs. (2.35)â€“(2.38) yields the two claims in this lemma.
â–¡
Lemma 2.26. Let Ï†: BarpU, Xq Ã‘ E and Ïˆ: BarpU, Xq Ã‘ F be as above, and let
Î¾kpÏ†, Ïˆq: BarkpU, X bA Xq Ã‘
`
pE bA Zq#pX bA Fq
Ë˜
k
be the map given by
Î¾kpÏ†, Ïˆq â€œ
$
â€™
â€™
â€™
â€™
â€™
â€™
&
â€™
â€™
â€™
â€™
â€™
â€™
%
0
for k Äƒ q
rÏ†kÂ´q, ÏˆqsYb,Ïƒ,Ï„
for q Ä k Ä p ` q Â´ 2
rÏ†pÂ´1, ÏˆqsYb,Ïƒ,Ï„
`pÂ´1qp`qpiE bA Zq Ë pÏˆq Â¯Ëb Ï†pq
for k â€œ p ` q Â´ 1
0
for k â€œ p ` q.
(2.39)
If pX, Zq is a commuting pair, then Î¾pÏ†, Ïˆq is a homotopically trivial 0-twisted
cocycle for pE bA Zq#pX bA Fq. A homotopy between Î¾pÏ†, Ïˆq and zero is given by
skpÏ†, Ïˆq: BarkpU, X bA Xq Ã‘
`
pE bA Zq#pX bA Fq
Ë˜
k`1

32
DOMENICO FIORENZA AND NIELS KOWALZIG
deï¬ned for any k â€œ Â´1, 0, . . ., p ` q Â´ 1 by
skpÏ†, Ïˆq â€œ
$
â€™
â€™
&
â€™
â€™
%
0
for k Äƒ q,
pÂ´1qqpk`1qÏ†kÂ´q`1 Â¯Ëb Ïˆq
for q Ä k Ä p ` q Â´ 2,
pÂ´1qp`qrÏˆq, Ï†psÂ¯Ëb
for k â€œ p ` q Â´ 1.
(2.40)
Proof. The condition Î¾Â´1 â€œ 0 is true by deï¬nition of Î¾, so we only have to show
that Î¾ is a homotopically trivial morphism of complexes Î¾ : BarpU, X bA Xq Ã‘
pE bA Zq#pX bA Fq, with homotopy given by spÏ†, Ïˆq. This means we need to
show that Î¾k â€œ d Ë sk ` skÂ´1 Ë d â€œ rd, ssk, where we denote, somewhat ambigu-
ously, by d not only the differential on BarpU, X bA Xq, but also the differential
of both extensions E and F as well as on pE bA Zq#pX bA Fq, analogously to
diagrams (2.5) and (1.5), respectively.
Note ï¬rst that
d Ë pÏ†j Ë
b
i Ïˆqq â€œ Î´Ï†jÂ´1 Ë
b
i Ïˆq
(2.41)
for any i â€œ 1, . . . , j, as follows from the precise form of the differential d on
the spliced extension pE bA Zq#pX bA Fq as in (1.5), along with (2.6). Now, for
k Äƒ q, one clearly has rd, spÏ†, Ïˆqsk â€œ 0. In case k â€œ q, we have with Eq. (2.41)
rd, spÏ†, Ïˆqsq â€œ d Ë sqpÏ†, Ïˆqq â€œ Â´d Ë pÏ†1 Â¯Ë
b Ïˆqq â€œ Â´Î´Ï†0 Ë
b
1 Ïˆq â€œ rÏ†0, ÏˆqsYb,Ïƒ,Ï„,
where the last step follows from (2.29). Using (2.41) again, for q ` 1 Ä k Ä
p ` q Â´ 2 along with the homotopy formula (2.28), one immediately obtains
rd, spÏ†, Ïˆqsk â€œ d Ë skpÏ†, Ïˆq ` skÂ´1pÏ†, Ïˆq Ë d
â€œ pÂ´1qqpk`1qd Ë pÏ†kÂ´q`1 Â¯Ë
bÏˆqq ` pÂ´1qqkpÏ†kÂ´q Â¯Ë
bÏˆqq Ë d
â€œ pÂ´1qqpk`1qÎ´Ï†kÂ´q Â¯Ë
bÏˆq ` pÂ´1qqkÎ´pÏ†kÂ´q Â¯Ë
bÏˆqq â€œ rÏ†kÂ´q, ÏˆqsYb,Ïƒ,Ï„,
whereas, for k â€œ p ` q Â´ 1 we have, again with (2.41) in the third step,
rd, spÏ†, Ïˆqsp`qÂ´1 â€œ d Ë sp`qÂ´1pÏ†, Ïˆq ` sp`qÂ´2pÏ†, Ïˆq Ë d
â€œ pÂ´1qp`qd Ë rÏˆq, Ï†psÂ¯Ëb ` pÂ´1qpqÎ´pÏ†pÂ´1 Â¯Ë
b Ïˆqq
â€œ pÂ´1qp`qd Ë pÏˆq Â¯Ë
b Ï†pq ` pÂ´1qpq`
pÂ´1qqÂ´1Î´Ï†pÂ´1 Â¯Ë
b Ïˆq Â´ Î´pÏ†pÂ´1 Â¯Ë
b Ïˆqq
Ë˜
â€œ pÂ´1qp`qpiE bA Zq Ë pÏˆq Â¯Ë
b Ï†pq ` rÏ†pÂ´1, ÏˆqsYb,Ïƒ,Ï„,
where we interchangeably write d â€œ iE bA Z in the highest degree Z bA Z of
the spliced extension pE bA Zq#pX bA Fq. Finally, for k â€œ p ` q, we have
sp`qÂ´1pÏ†, Ïˆq Ë d â€œ pÂ´1qp`qÎ´rÏˆq, Ï†psÂ¯Ëb â€œ 0,
as Î´ is a derivation of rÏˆq, Ï†psÂ¯Ëb, which directly follows from (2.28), and since
both Ï†p and Ïˆq are cocycles. To sum up, Î¾ â€œ rd, ss in each degree, as desired.
â–¡
We add one ï¬nal assumption, i.e., from now on not only the comonoid X in
Z rpU-Modq is supposed to be braided cocommutative but also the monoid Z
braided commutative in Z â„“pU-Modq. We can then formulate:
Lemma 2.27. Let the comonoid X P Z rpU-Modq be braided cocommutative
and let the monoid Z P Z â„“pU-Modq be braided commutative such that pX, Zq
constitutes a commuting pair. Furthermore, let Î¾, Î·: BarpU, X bA Xq Ã‘ pE bA
Zq#pX bA Fq be the 0-twisted cocycle representatives deï¬ned by (2.33) and in
(2.39), respectively. Then we have
Î¦pÎ·pÏ†, Ïˆqq â€œ Î¦pÎ¾pÏ†, Ïˆqq.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
33
Proof. This is proven by a degree-wise comparison of the images of Î¾pÏ†, Ïˆq as in
(2.39) resp. the explicit expression of Î·pÏ†, Ïˆq obtained in (2.34) under the map
Î¦ deï¬ned in Eq. (2.13).
To start with, for the top degree component of the former we have
Î¦p`qpÎ¾q â€œ Âµ Ë Î¾p`q Ë pidp`q`1 b âˆ†Xq: Barp`qpU, Xq Ã‘ Z,
(2.42)
which is simply the zero map as seen from (2.39). In one degree less, that is, in
degree p ` q Â´ 1, with the help of (A.19), we read off
Î¦p`qÂ´1pÎ¾q â€œ
`
0, Î¾p`qÂ´1 Ë pidp`q b âˆ†Xq
Ë˜
â€œ
`
0, rÏ†pÂ´1, ÏˆqsYb,Ïƒ Ë âˆ†X ` pÂ´1qppiE bA Zq Ë pÏˆq Â¯Ëb Ï†pq Ë âˆ†X
Ë˜
,
â€œ
`
0, rÏ†pÂ´1, ÏˆqsYb,Ïƒ Ë âˆ†X
Ë˜
` pÂ´1qpÂ´1`
Âµ Ë pÏˆq Â¯Ëb Ï†pq Ë âˆ†X, 0
Ë˜
,
(2.43)
where rÏ†pÂ´1, ÏˆqsYb,Ïƒ denotes the (simply) braided commutator in the sense of
(2.26), that is, with no Ï„ present anymore (or the identity on X bA X). Here,
as before, p , q indicates the class
`
Â´ Âµpz bA z1q, 0
Ë˜
â€œ
`
0, piE bA Zqpz bA z1q
Ë˜
(2.44)
for z, z1 P Z in the quotient Z \ZbAZ pEpÂ´1 bA Zq.
On the other hand, the same considerations hold for Î¦
`
Î·pÏ†, Ïˆq
Ë˜
: here, from
an analogous expression as the one in (2.42) with Î·p`q instead of Î¾p`q, it is
clear by means of (A.13) and (A.19) that the top degree is again the zero map.
As the lower degrees of Î¾ and Î· are the same except for (the second summand
in) degree p ` q Â´ 1, we are left with comparing this one:
`
0, Î·p`qÂ´1 Ë pidp`q b âˆ†Xq
Ë˜
â€œ
`
0, rÏ†pÂ´1, ÏˆqsYb,Ïƒ Ë âˆ†X ` pÂ´1qpÏƒ Ë pZ bA iEq Ë pÏˆq Â¯Ëb Ï†pq Ë âˆ†X
Ë˜
,
â€œ
`
0, rÏ†pÂ´1, ÏˆqsYb,Ïƒ Ë âˆ†X
Ë˜
` pÂ´1qp`
0, piE bA Zq Ë Ïƒ Ë pÏˆq Â¯Ëb Ï†pq Ë âˆ†X
Ë˜Ë˜
â€œ
`
0, rÏ†pÂ´1, ÏˆqsYb,Ïƒ Ë âˆ†X
Ë˜
` pÂ´1qpÂ´1`
Âµ Ë Ïƒ Ë pÏˆq Â¯Ëb Ï†pq Ë âˆ†X, 0
Ë˜
â€œ
`
0, rÏ†pÂ´1, ÏˆqsYb,Ïƒ Ë âˆ†X
Ë˜
` pÂ´1qpÂ´1`
Âµ Ë pÏˆq Â¯Ëb Ï†pq Ë âˆ†X, 0
Ë˜
,
by the identiï¬cation (2.44), the naturality of Ïƒ, that is, piEbAZqËÏƒ â€œ ÏƒËpZbAiEq
as in (2.32), and ï¬nally the braided commutativity (A.13) again, which hence
coincides with the expression in (2.43).
â–¡
Deï¬nition 2.28. Let H P Extr
UpX bA X, Z bA Zq and let G â€œ Âµ#H#âˆ†X. Deï¬ne
the graded linear map
Î¨â€š :
rÂ´1
Ã€
kâ€œÂ´1
HompBarkpU, X bA Xq, Hk`1q Ã‘
rÂ´1
Ã€
kâ€œÂ´1
HompBarkpU, Xq, Gk`1q
as follows:
Î¨kpÎ½q â€“
$
â€™
â€™
â€™
&
â€™
â€™
â€™
%
pÎ½Â´1 Ë âˆ†X, 0q
for
k â€œ Â´1,
Î½k Ë pidk`1 bAop âˆ†Xq
for
0 Ä k Ä r Â´ 3,
p0, Î½rÂ´2 Ë pidrÂ´1 bAop âˆ†Xqq
for
k â€œ r Â´ 2,
Âµ Ë Î½rÂ´1 Ë pidr bAop âˆ†Xq
for
k â€œ r Â´ 1,
(2.45)
for any Î½ P Ã€rÂ´1
kâ€œÂ´1 HompBarkpU, X bA Xq, Hk`1q.
Remark 2.29. For r Ä 3, Eq. (2.45) is to be interpreted as in Remark 2.10.
Lemma 2.30. Under the same assumptions as in Lemma 2.27, consider two
elements Î¾ P Ã€r
kâ€œÂ´1HompBarkpU, XbAXq, Hkq and Î½ P Ã€rÂ´1
kâ€œÂ´1HompBarkpU, XbA
Xq, Hk`1q subject to the property that Î¾ â€œ rd, Î½s. Then Î¦pÎ¾q â€œ rd, Î¨pÎ½qs.

34
DOMENICO FIORENZA AND NIELS KOWALZIG
Proof. We will only consider the case r Ä… 3 here and leave the adaptation for
r Ä 3 to the reader.
By the hypothesis Î¾ â€œ rd, Î½s we explicitly mean Î¾k â€œ dH Ë Î½k ` Î½kÂ´1 Ë dBar, for
any k â€œ 0, . . . , r Â´1, along with Î¾r â€œ Î½rÂ´1 Ë dBar as well as Î¾Â´1 â€œ dH Ë Î½Â´1. Hence,
it is enough to show Î¨kÂ´1pÎ½q Ë dX
Bar â€œ Î¦kpÎ½ Ë dXbAX
Bar
q for k â€œ 0, . . . , r, along with
dG Ë Î¨kpÎ½q â€œ Î¦kpdH Ë Î½q for k â€œ Â´1, 0, . . ., r Â´ 1.
The ï¬rst of these statements follows directly, by looking at the explicit def-
inition of Î¦ and Î¨ in (2.13) resp. (2.45), from the fact that X is a comonoid
in U-Mod, that is, from (A.16), which along with the monoidal structure (A.4)
implies
pidj bAop âˆ†Xq Ë dX
Bar â€œ dXbAX
Bar
Ë pidj`1 bAop âˆ†Xq,
(2.46)
for j â€œ 0, . . . , r, as already used in the proof of Lemma 2.7. This proves the case
for k â€œ 1, . . . , r, where for k â€œ r Â´ 1 one uses that p0, Î½rÂ´2 Ë pidrÂ´1 bAop âˆ†Xqq Ë
dX
Bar â€œ p0, Î½rÂ´2 Ë pidrÂ´1 bAop âˆ†Xq Ë dX
Barq; Eq. (2.46) also already proves Î¦rpÎ¾q â€œ
rd, Î¨pÎ½qsr in top degree. In case k â€œ 0,
Î¦0pÎ½ Ë dXbAX
Bar
q â€œ
`
0 Ë dXbAX
Bar
, Î½Â´1 Ë dXbAX
Bar
Ë pid b âˆ†Xq
Ë˜
â€œ p0, Î½Â´1 Ë âˆ†X Ë dX
Barq â€œ Î¨Â´1pÎ½q Ë dX
Bar.
As for the second statement, ï¬rst consider the degrees r Â´ 1 and r Â´ 2: as in
(1.3), and similar to the proof of Lemma 2.7, one has a commutative diagram
Z bA Z
iH
/
Âµ 
HrÂ´1
p0,idq

dH
/ HrÂ´2
id

Z
pÂ´id,0q
/ Z \ZbAZ HrÂ´1
dHËpr2 / HrÂ´2
and hence, for G â€œ Âµ#H#âˆ†X,
dG Ë Î¨rÂ´1pÎ½q â€œ pÂ´id, 0q Ë
`
Âµ Ë Î½rÂ´1 Ë pidr bAop âˆ†Xq
Ë˜
â€œ p0, idq Ë
`
iH Ë Î½rÂ´1 Ë pidr bAop âˆ†Xq
Ë˜
â€œ
`
0, piH Ë Î½rÂ´1q Ë pidr bAop âˆ†Xq
Ë˜
â€œ Î¦rÂ´1pdH Ë Î½q,
considering that dH â€œ iH in highest degree. In degree r Â´ 2, we compute
dG Ë Î¨rÂ´2pÎ½q â€œ pdH Ë pr2q Ë
`
0, Î½rÂ´2 Ë pidrÂ´1 bAop âˆ†Xq
Ë˜
â€œ pdH Ë Î½rÂ´2q Ë pidrÂ´1 bAop âˆ†Xq
â€œ Î¦rÂ´2pdH Ë Î½q.
In degrees 1 Ä k Ä r Â´ 3, there is nothing to prove. As for the cases k â€œ Â´1 and
k â€œ 0, recall from (1.2) that the sequence G1
dG
ÃÃ‘ G0
pG
ÃÃ‘ X is actually given by
H1
pdH,0q / H0 Ë†XbAX X
pr2
/ X,
and therefore
dG Ë Î¨0pÎ½q â€œ pdH, 0q Ë
`
Î½0 Ë pid bAop âˆ†Xq
Ë˜
â€œ
`
dH Ë Î½0 Ë pid bAop âˆ†Xq, 0
Ë˜
â€œ Î¦0pdH Ë Î½q,
which proves the case k â€œ 0. Finally, for k â€œ Â´1, one has:
pG Ë Î¨Â´1pÎ½q â€œ pr2 Ë pÎ½Â´1 Ë âˆ†X, 0q â€œ 0 â€œ Î¦Â´1pdH Ë Î½q,
which ends the proof.
â–¡
As an immediate consequence we ï¬nd:.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
35
Proposition 2.31. Let X, Z be as above and as before Ï† and Ïˆ be two cocycle
representatives for E P Extp
UpX, Zq and F P Extq
UpX, Zq, respectively. Let
sâ€špÏ†, Ïˆq P
p`qÂ´1
Ã€
kâ€œÂ´1
Hom
`
BarkpU, X bA Xq,
`
pE bA Zq#pX bA Fq
Ë˜
k`1
Ë˜
be the map deï¬ned by Eq. (2.40). Then
Î¦pÎ·pÏ†, Ïˆqq â€œ
â€œ
d, Î¨pspÏ†, Ïˆqq
â€°
.
Proof. By Lemma 2.30 and Lemma 2.26, we have rd, Î¨pspÏ†, Ïˆqqs â€œ Î¦pÎ¾pÏ†, Ïˆqq.
The conclusion then immediately follows from Lemma 2.27.
â–¡
As motivated at the end of Â§1.7, the following deï¬nition now makes sense:
Deï¬nition 2.32. The Gerstenhaber bracket of two cocycle representatives Ï†
and Ïˆ as above is, up to a sign, deï¬ned as the top degree component of the
homotopy Î¨p`qÂ´1pspÏ†, Ïˆqq. More precisely,
tÏ†, Ïˆu â€“ pÂ´1qpqÎ¨p`qÂ´1pspÏ†, Ïˆqq
This deï¬nition of the Gerstenhaber bracket can be completely made explicit:
Corollary 2.33. One has
tÏ†p, Ïˆqu â€œ Ï†p Â¯Ë Ïˆq Â´ pÂ´1qppÂ´1qpqÂ´1qÏˆq Â¯Ë Ï†p,
(2.47)
where Â¯Ë is the full (internal) operadic composition deï¬ned in (2.21).
Proof. Analogously to what we saw in the proof of Lemma 2.7, the top degree
Î¨p`qÂ´1pspÏ†, Ïˆqq is obtained by precomposing with idp`q bAop âˆ†X and postcom-
posing with Âµ, that is, Î¨p`qÂ´1pspÏ†, Ïˆqq â€œ Âµ Ë sp`qÂ´1pÏ†, Ïˆq Ë pidp`q bAop âˆ†Xq.
With the explicit form of s given in (2.40) along with the external and inter-
nal operadic compositions of Eqs. (2.17) and (2.20), respectively, the claim is
straightforward.
â–¡
Remark 2.34. Similarly to what was said in Remark 2.18, Eq. (2.47) now
makes sense even if one drops the assumption that Ï†p and Ïˆq are cocycles. In
fact, the internal operadic composition (2.21) only asks for cochains.
However, that this is a Gerstenhaber bracket indeed, that is, a graded Lie
bracket fulï¬lling a graded Leibniz rule with respect to the (internal) cup prod-
uct (2.25), will explicitly only follow from the results in the subsequent Â§2.7.
2.7. The Ext groups as a Gerstenhaber algebra. The explicit Gersten-
haber algebra structure on Ext
â€š
UpX, Zq is in a direct way obtained by adding
a multiplication to the operad O â€œ HomUpBarâ€špU, Xq, Zq from Section 2.4.2,
along with an identity and a unit. Deï¬ne Âµ P Op2q, 1 P Op1q, and e P Op0q as
Âµpu0, u1, u2, mq
â€“
ÎµXpu0u1u2mq,
1pu0, u1, mq
â€“
ÎµXpu0u1mq,
epu0, mq
â€“
ÎµXpu0mq.
(2.48)
The U-linearity of these maps follows directly from Eqs. (A.17) and (A.12), and
it is a straightforward check that Âµ Ë1 Âµ â€œ Âµ Ë2 Âµ as well as Âµ Ë1 e â€œ 1 â€œ Âµ Ë2 e.
We then have:
Theorem 2.35. Let pU, Aq be a left bialgebroid, Z P Z â„“pU-Modq a braided
commutative monoid and X P Z rpU-Modq a braided cocommutative comonoid
such that pX, Zq constitutes a commuting pair in the sense of Deï¬nition A.2.
Then pO, Âµ, 1, eq deï¬nes an operad with multiplication, and its cohomology with
respect to the differential Î´Ï† â€“ pÂ´1qÏ†`1tÂµ, Ï†u, which coincides with Ext
â€š
UpX, Zq
if UÅ½ is projective over A, becomes a Gerstenhaber algebra.

36
DOMENICO FIORENZA AND NIELS KOWALZIG
Proof. The proof is a cumbersome but straightforward explicit computation
that consists in verifying the associativity (A.21) for the partial compositions
on O deï¬ned in (2.20). Let Ï†p P Oppq and Ïˆq P Opqq, and Ï‡r P Oprq, and let
j Äƒ i. One has
ppÏ†p Ëi Ïˆqq Ëj Ï‡rqpu0, u1, . . . , up`q`rÂ´2, mq
â€œ
`
Ï†p Ëi Ïˆq
Ë˜`
u0
p1q, . . . , ujÂ´1
p1q , Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
, puj`r
p2q Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´1q
uj
p2q Â¨ Â¨ Â¨ uj`rÂ´1
p2q
puj`r
p2q Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr1s, uj`r
p1q , . . . , up`q`rÂ´2
p1q
, mp1q
Ë˜
Â¨Z
`
u0
p2q Â¨ Â¨ Â¨ ujÂ´1
p2q Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
, puj`r
p2q Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
p0q
Ë˜
â€œ
Ï†p
`
u0
p1q, . . . , ujÂ´1
p1q , Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
, puj`r
p3q Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr0s
Ë˜
pÂ´2q
uj
p2q Â¨ Â¨ Â¨ uj`rÂ´1
p2q
puj`r
p3q Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr1s, uj`r
p1q , . . . , ui`rÂ´2
p1q
,
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´1q
ui`rÂ´1
p2q
Â¨ Â¨ Â¨ ui`q`rÂ´2
p2q
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr1s, ui`q`rÂ´1
p1q
, . . . , up`q`rÂ´2
p1q
, mp1q
Ë˜
Â¨Z
`
u0
p2q Â¨ Â¨ Â¨ ujÂ´1
p2q Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
, puj`r
p3q Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr0s
Ë˜
pÂ´1q
uj
p3q Â¨ Â¨ Â¨ uj`rÂ´1
p3q
puj`r
p3q Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr2suj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
p0q
Ë˜
Â¨Z
`
u0
p3q Â¨ Â¨ Â¨ ujÂ´1
p3q Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
, puj`r
p3q Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr0s
Ë˜
p0q
Ë˜
(A.15)
â€œ
Ï†p
`
u0
p1q, . . . , ujÂ´1
p1q , Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
, puj`r
p3q Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr0s
Ë˜
pÂ´1q
uj
p2q Â¨ Â¨ Â¨ uj`rÂ´1
p2q
puj`r
p3q Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr1s, uj`r
p1q , . . . , ui`rÂ´2
p1q
,
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´1q
ui`rÂ´1
p2q
Â¨ Â¨ Â¨ ui`q`rÂ´2
p2q
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr1s, ui`q`rÂ´1
p1q
, . . . , up`q`rÂ´2
p1q
, mp1q
Ë˜
Â¨Z
`
u0
p2q Â¨ Â¨ Â¨ ujÂ´1
p2q Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
, puj`r
p3q Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr0s
Ë˜
p0q
Ë˜
Â¨Z
`
u0
p3q Â¨ Â¨ Â¨ uj`rÂ´1
p3q
puj`r
p3q Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr2suj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
p0q
Ë˜
(2.49)
â€œ
Ï†p
`
u0
p1q, . . . , ujÂ´1
p1q , Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
, uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
pui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr0s
Ë˜
pÂ´1q
uj
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
pui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr1s, uj`r
p1q , . . . , ui`rÂ´2
p1q
,
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´1q
ui`rÂ´1
p2q
Â¨ Â¨ Â¨ ui`q`rÂ´2
p2q
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr1s, ui`q`rÂ´1
p1q
, . . . , up`q`rÂ´2
p1q
, mp1q
Ë˜
Â¨Z
`
u0
p2q Â¨ Â¨ Â¨ ujÂ´1
p2q Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
, uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
pui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr0s
Ë˜
p0q
Ë˜
Â¨Z
`
u0
p3q Â¨ Â¨ Â¨ ui`rÂ´2
p3q
pui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr1s
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
p0q
Ë˜
(A.10)
â€œ
Ï†p
`
u0
p1q, . . . , ujÂ´1
p1q , Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
,
`
uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
,
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´1qui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3q
Ë˜
r0s
Ë˜
pÂ´1q
uj
p2q Â¨ Â¨ Â¨ uj`rÂ´1
p2q
`
uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
,
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´1qui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3q
Ë˜
r1s,
uj`r
p1q , . . . , ui`rÂ´2
p1q
, Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´2q
ui`rÂ´1
p2q
Â¨ Â¨ Â¨ ui`q`rÂ´2
p2q
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr1s, ui`q`rÂ´1
p1q
, . . . , up`q`rÂ´2
p1q
, mp1q
Ë˜
Â¨Z
`
u0
p2q Â¨ Â¨ Â¨ ujÂ´1
p2q Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
,
`
uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
,
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´1qui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3q
Ë˜
r0s
Ë˜
p0q
Ë˜
Â¨Z
`
u0
p3q Â¨ Â¨ Â¨ ui`rÂ´2
p3q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
p0q
Ë˜
,
where braided commutativity along with the YD condition (A.5) was used in
the third step, in the fourth step we used
pup2qmqr0s bA pup2qmqr1s bA pup2qmqr2sup1q
â€œ pup1qmr0sqr0s bA pup1qmr0sqr1s bA up2qmr1s
(2.49)
for any u P U and m P X as follows from the YD condition (A.6), and in the ï¬fth
step we used the property (A.10) for pX, Zq being a commuting pair.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
37
On the other hand,
ppÏ†p Ëj Ï‡rq Ëi`rÂ´1 Ïˆqqpu0, u1, . . . , up`q`rÂ´2, mq
â€œ
`
Ï†p Ëj Ï‡r
Ë˜`
u0
p1q, . . . , ui`rÂ´2
p1q
, Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´1q
ui`rÂ´1
p2q
Â¨ Â¨ Â¨ ui`q`rÂ´2
p2q
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr1s, ui`q`rÂ´1
p1q
, . . . , up`q`rÂ´2
p1q
, mp1q
Ë˜
Â¨Z
`
u0
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
p0q
Ë˜
â€œ
Ï†p
`
u0
p1q, . . . , ujÂ´1
p1q , Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
,
`
uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
,
pui`q`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr0s
Ë˜
pÂ´1qui`rÂ´1
p3q
Â¨ Â¨ Â¨ ui`q`rÂ´2
p3q
pui`q`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr2s
ui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2q
Ë˜
r0s
Ë˜
pÂ´1quj
p2q Â¨ Â¨ Â¨ uj`rÂ´1
p2q
`
uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
,
pui`q`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr0s
Ë˜
pÂ´1qui`rÂ´1
p3q
Â¨ Â¨ Â¨ ui`q`rÂ´2
p3q
pui`q`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr2s
ui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2q
Ë˜
r1s, uj`r
p1q , . . . , ui`rÂ´2
p1q
, Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
,
pui`q`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr0s
Ë˜
pÂ´2qui`rÂ´1
p2q
Â¨ Â¨ Â¨ ui`q`rÂ´2
p2q
pui`q`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr1s,
ui`q`rÂ´1
p1q
, . . . , up`q`rÂ´2
p1q
, mp1q
Ë˜
Â¨Z
`
u0
p2q Â¨ Â¨ Â¨ ujÂ´1
p2q Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
,
`
uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr0s
Ë˜
pÂ´1q
ui`rÂ´1
p3q
Â¨ Â¨ Â¨ ui`q`rÂ´2
p3q
pui`q`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr2sui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2q
Ë˜
r0s
Ë˜
p0q
Ë˜
Â¨Z
`
u0
p3q Â¨ Â¨ Â¨ ui`rÂ´2
p3q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qqr0s
Ë˜
p0q
Ë˜
(2.49)
â€œ
Ï†p
`
u0
p1q, . . . , ujÂ´1
p1q , Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
,
`
uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
,
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp3qr0sqr0s
Ë˜
pÂ´1qui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qr1smp2q
Ë˜
r0s
Ë˜
pÂ´1q
uj
p2q Â¨ Â¨ Â¨ uj`rÂ´1
p2q
`
uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
,
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp3qr0sqr0s
Ë˜
pÂ´1qui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qr1smp2q
Ë˜
r1s,
uj`r
p1q , . . . , ui`rÂ´2
p1q
, Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp3qr0sqr0s
Ë˜
pÂ´2q
ui`rÂ´1
p2q
Â¨ Â¨ Â¨ ui`q`rÂ´2
p2q
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp3qr0sqr1s, ui`q`rÂ´1
p1q
, . . . , up`q`rÂ´2
p1q
, mp1q
Ë˜
Â¨Z
`
u0
p2q Â¨ Â¨ Â¨ ujÂ´1
p2q Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
,
`
uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
,
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp3qr0sqr0s
Ë˜
pÂ´1qui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3qr1smp2q
Ë˜
r0s
Ë˜
p0q
Ë˜
Â¨Z
`
u0
p3q Â¨ Â¨ Â¨ ui`rÂ´2
p3q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp3qr0sqr0s
Ë˜
p0q
Ë˜
(A.20)
â€œ
Ï†p
`
u0
p1q, . . . , ujÂ´1
p1q , Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
,
`
uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
,
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´1qui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3q
Ë˜
r0s
Ë˜
pÂ´1q
uj
p2q Â¨ Â¨ Â¨ uj`rÂ´1
p2q
`
uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
,
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´1qui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3q
Ë˜
r1s,
uj`r
p1q , . . . , ui`rÂ´2
p1q
, Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´2q
ui`rÂ´1
p2q
Â¨ Â¨ Â¨ ui`q`rÂ´2
p2q
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr1s, ui`q`rÂ´1
p1q
, . . . , up`q`rÂ´2
p1q
, mp1q
Ë˜
Â¨Z
`
u0
p2q Â¨ Â¨ Â¨ ujÂ´1
p2q Ï‡r
`
1, uj
p1q, . . . , uj`rÂ´1
p1q
,
`
uj`r
p2q Â¨ Â¨ Â¨ ui`rÂ´2
p2q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
,
pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
pÂ´1qui`rÂ´1
p3q
Â¨ Â¨ Â¨ up`q`rÂ´2
p3q
mp3q
Ë˜
r0s
Ë˜
p0q
Ë˜
Â¨Z
`
u0
p3q Â¨ Â¨ Â¨ ui`rÂ´2
p3q
Ïˆq
`
1, ui`rÂ´1
p1q
, . . . , ui`q`rÂ´2
p1q
, pui`q`rÂ´1
p2q
Â¨ Â¨ Â¨ up`q`rÂ´2
p2q
mp2qqr0s
Ë˜
p0q
Ë˜
,
which is the same as the big formula block on the page before (and if it is
not, it is merely a typo), and which hence proves the ï¬rst line of the partial
operadic associativity (A.21). Verifying the second line in (A.21) is left to the
reader, and the third line is actually redundant as it says the same as the ï¬rst
(but the associativity properties are easier to read or memorise written this
way). This concludes the proof that O is an operad with multiplication.
That the differential Î´ on the complex (2.19) can be expressed as Î´Ï† â€œ
pÂ´1qÏ†`1tÂµ, Ï†u additionally uses the property (A.18). That an operad with multi-
plication induces a Gerstenhaber structure on cohomology follows from a well-
known (by now) classical result [GeSch], cf. Appendix Â§A.3.
â–¡
APPENDIX A. CENTRES, BIALGEBROIDS, AND OPERADS
A.1. Centres in monoidal categories. The following standard deï¬nition
can be found, e.g., in [Sch, Def. 4.3] or [EtGeNiOs, Def. 7.13.1]:

38
DOMENICO FIORENZA AND NIELS KOWALZIG
Deï¬nition A.1. The left weak centre Z â„“pC q of a monoidal category pC , b, 1q is
the category whose objects are pairs pZ, ÏƒZ,Â´q, where Z P C , such that
ÏƒZ,M : Z b M Ã‘ M b Z
is natural in M P C and such that ÏƒZ,MbM1 â€œ pM b ÏƒZ,M1qpÏƒZ,M b M 1q holds
for all M, M 1 P C (which amounts to a hexagon axiom if involving associators),
along with ÏƒZ,1 â€œ idZ.
The left weak centre is a monoidal category again, in particular a braided
one. At times, we only write pZ, Ïƒq instead of pZ, ÏƒZ,Â´q for objects in Z â„“pC q.
Likewise, one deï¬nes the right weak centre Z rpC q of a monoidal category C
as the category with objects pX, Ï„Â´,Xq, where this time
Ï„M,X : M b X Ã‘ X b M
is natural in M P C , subject to analogous conditions as above.
Deï¬nition A.2. A commuting pair in a monoidal category C is a pair pX, Zq P
Z rpC q Ë† Z â„“pC q such that
ÏƒZ,X â€œ Ï„Z,X
holds as maps Z b X Ã‘ X b Z.
Remark A.3. Since we wanted to deal with left and right centres and hence
involve two different braided monoidal categories, the above deï¬nition is a
slight variation of the following more standard one: in a braided monoidal cat-
egory pZ , Ïƒq, a pair pX, Zq of its objects is called a commuting pair or a pair
of commuting objects if ÏƒZ,X Ë ÏƒX,Z â€œ idXbZ. For example, the braided tensor
product algebra (see [Bae, Lem. 2]) of two braided commutative monoids X, Z
in pZ , Ïƒq is not necessarily braided commutative again but is so if pX, Zq is a
commuting pair, see op. cit., Lemma 3. See Remark A.4 for further discussion.
A.2. Left bialgebroids, their (co)modules, and centres. In this subsec-
tion, we gather all the necessary material on bialgebroids, their modules, their
comodules, the left and right weak centres in question and how explicitly com-
muting pairs translate to this context.
A.2.1. Bialgebroids. A left bialgebroid pU, A, âˆ†, Îµ, s, tq, or pU, Aq for short, is a
generalisation of a k-bialgebra to a bialgebra object over a noncommutative
base ring A (typically a k-algebra), and consists of a k-algebra U which is si-
multaneously an Ae-ring and an A-coring that are compatible in mostly the
standard way, at least formally. In particular, one has a ring homomorphism
resp. antihomomorphism s, t: A Ã‘ U (source resp. target) inducing four com-
muting A-module structures on U
a Â§ b Å» u Å½ c Ä‘ d â€“ tpcqspbquspdqtpaq
(A.1)
for u P U, a, b, c, d P A, abbreviated by symbols like Â§Å»UÅ½Ä‘ or similar, depending
on the relevant action(s) in a speciï¬c situation. Also introduce the Ae-ring
U Ë†A U â€“
â£Å™
iui b vi P UÅ½ bA Å»U | Å™
ia Â§ ui b vi â€œ Å™
iui b vi Ä‘ a, @a P A
(
the Sweedler-Takeuchi product, which allows to deï¬ne on U a comultiplication
âˆ†: U Ã‘ U Ë†A U Ä‚ UÅ½ bA Å»U , u ÃÃ‘ up1q bA up2q,
along with a counit Îµ: U Ã‘ A subject to certain identities that at some points
differ from those in the bialgebra case, see [Ta] for the original construction.

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
39
A.2.2. Example. The simplest example of a (noncommutative noncocommuta-
tive) left bialgebroid is given by pAe, Aq, where Ae â€“ Abk Aop is the enveloping
algebra of an associative k-algebra A (which, in particular, allows to consider
Schwedeâ€™s approach in [Schw] as a special case of our results in the main text).
Its structure maps are, for any a, b P A, given by
âˆ†pa bk bq
â€œ
pa bk 1q bA p1 bk bq,
Îµpa bk bq
â€œ
ab,
spaq
â€œ
a bk 1,
tpaq
â€œ
1 bk a,
(A.2)
along with the factorwise multiplication on A bk Aop for the product.
A.2.3. Bialgebroid modules and comodules. A left U-module M over a left bial-
gebroid pU, Aq is a left module over the underlying ring U. The category of left
U-modules will be denoted by U-Mod and we usually write all U-actions just
by juxtaposition. The forgetful functor U-Mod Ã‘ Ae-Mod is induced by
a Å» m Å½ b â€“ spaqtpbqm,
@ a, b P A, m P M,
(A.3)
with respect to which one forms the tensor product M bA M 1 of left U-modules,
and which, similar to the bialgebra case, is a left U-module again by
upm bA m1q â€“ âˆ†puqpm bA m1q â€œ up1qm bA up2qm1,
(A.4)
for u P U, m P M, m1 P M 1. In other words, U-Mod is a (strict) monoidal
category with bA as monoidal product and A as its unit object.
A left (and analogously right) comodule over a left bialgebroid pU, Aq is a
comodule over the underlying A-coring [BrWi, Â§3]: a left A-module M along
with a coassociative and counital coaction Î»: M Ã‘ UÅ½bAM, m ÃÃ‘ mpÂ´1qbAmp0q,
which, by deï¬ning the right A-action ma â€“ ÎµpmpÂ´1q Ä‘ aqmp0q for all a P A on M,
effectively corestricts to a map Î» : M Ã‘ UÅ½ Ë†A M, where
UÅ½ Ë†A M â€“
â£Å™
iui b mi P UÅ½ bA M | Å™
ia Â§ ui b mi â€œ Å™
iui b mia, @a P A
(
is a subspace in UÅ½bAM. The left coaction is A-bilinear in the sense of Î»pambq â€œ
aÅ»mpÂ´1q Ä‘bbAmp0q for all m P M, a, b P A. Again, the category U-Comod of left
U-comodules (resp. the category Comod-U of right U-comodules) is a (strict)
monoidal category with monoidal product bA and unit object A.
A.2.4. A left-left Yetter Drinfelâ€™d (YD) module Z over a left bialgebroid pU, Aq
is simultaneously a left U-module (with action denoted by juxtaposition) and a
left U-comodule with coaction Î»: Z Ã‘ UÅ½ bA Z, z ÃÃ‘ zpÂ´1q bA zp0q such that the
two forgetful functors U-Mod Ã‘ Ae-Mod and U-Comod Ã‘ Ae-Mod induce
the same A-bimodule structure on Z, and such that
up1qzpÂ´1q bA up2qzp0q â€œ pup1qzqpÂ´1qup2q bA pup1qzqp0q
(A.5)
holds for all u P U and z P Z, the corresponding category of which is braided
monoidal (see below) with respect to bA, unit object given by the base algebra
A, and denoted by U
UYD.
A.2.5. Likewise, a left-right Yetter Drinfelâ€™d (YD) module X over a left bialge-
broid pU, Aq is simultaneously a left U-module (with action denoted by juxtapo-
sition) and a right U-comodule with coaction Ìº: X Ã‘ X bA Å»U , x ÃÃ‘ xr0s bA xr1s
such that the two forgetful functors U-Mod Ã‘ Ae-Mod and Comod-U Ã‘
Ae-Mod induce the same A-bimodule structure on X, and such that
up1qxr0s bA up2qxr1s â€œ pup2qxqr0s bA pup2qxqr1sup1q
(A.6)
holds for all u P U and x P X, the corresponding category of which is braided
monoidal (see below) with respect to bA, unit object given by the base algebra
A, and denoted by UYDU.

40
DOMENICO FIORENZA AND NIELS KOWALZIG
A.2.6. Observe that, in contrast to bialgebras, there are no right-left or right-
right YD modules over left bialgebroids.
A.2.7. Weak centres and commuting pairs for left bialgebroids. As mentioned
at the beginning of Â§2.1, a well-known fact [Sch, Prop. 4.4] establishes
an equivalence of braided monoidal categories between the left weak cen-
tre Z â„“pU-Modq of the monoidal category U-Mod in the sense of Deï¬nition
A.1, and the category U
UYD, and analogously between the right weak centre
Z rpU-Modq and UYDU: as for the ï¬rst case, assign to any Z P U
UYD its under-
lying left module Z P U-Mod along with the left braiding
Ïƒ â€œ ÏƒZ,M : Z bA M Ã‘ M bA Z,
z bA m ÃÃ‘ zpÂ´1qm bA zp0q
(A.7)
for any M P U-Mod, to form an object pZ, Ïƒq in Z â„“pU-Modq. Much the same
way, assign to any X P
UYDU its underlying left module X P U-Mod along
with the right braiding
Ï„ â€œ Ï„M,X : M bA X Ã‘ X bA M,
m bA x ÃÃ‘ xr0s bA xr1sm
(A.8)
for any M P U-Mod, to give an object pX, Ï„q in Z rpU-Modq.
A pair pX, Zq of objects in Z rpU-Modq Ë† Z â„“pU-Modq resp. UYDU Ë† U
UYD is
then called a commuting pair in the sense of Deï¬nition A.2 if
Ï„Z,X â€œ ÏƒZ,X
(A.9)
holds, or, if for all x P X and z P Z
xr0s bA xr1sz â€œ zpÂ´1qx bA zp0q
(A.10)
is true, using explicitly the braidings (A.8) and (A.7), respectively.
Remark A.4. If the braiding (A.7) is invertible, which happens if more struc-
ture is present as, for example, if a bialgebra is a Hopf algebra with invertible
antipode, one sets Ï„M,Z â€œ ÏƒÂ´1
M,Z, and left and right weak centres are equivalent
as braided monoidal categories, which we then refer to simply as the centre,
also called the Drinfelâ€™d centre and denoted here by Z1pU-Modq.
As a braided monoidal category this has a centre again (the centre of a cen-
tre, so to speak), sometimes referred to as MÃ¼ger or Rehren centre, deï¬ned
by those objects Z in Z1pU-Modq for which ÏƒZ,M â€œ ÏƒÂ´1
M,Z for all M P U-Mod,
and denoted Z2pU-Modq, see [MÃ¼, Def. 5.12] or [Reh] for more information.
The category Z2pU-Modq is obviously symmetric monoidal (and can be de-
ï¬ned for any monoidal category C ). By mere deï¬nition, each pair of objects
in Z2pU-Modq yields a commuting pair in the sense of (A.9) but at least for
C â€œ U-Mod not very interesting ones: these are essentially A-modules (or
direct sums thereof) as is the case if U were a Hopf algebra over A â€œ k.
However, the notion of commuting pairs is more general: for example, both
pM, Aq and pA, Nq for arbitrary M, N P Z1pU-Modq obviously are commuting
pairs, but not necessarily in Z2pU-Modq. Slightly less trivial, for a cocom-
mutative left bialgebroid, each M P U-Mod can be made into a (left-left) YD
module by means of the trivial left coaction and hence each pair pM, Nq of left
U-modules yields a pair of commuting objects.
A.2.8. Braided commutative monoids in U
UYD. A braided commutative monoid
in U
UYD is, roughly speaking, an object Z that has four properties: it is a (left-
left) YD module, it is a left U-module algebra, a left U-comodule algebra, and
ï¬nally it is braided commutative.
More in detail, writing the action and coaction of an object Z P U
UYD as in
Â§A.2.4, assume that pZ, Âµ, 1Zq with multiplication z Â¨Z z1 â€“ Âµpz, z1q and unit 1Z

BRACKETS AND PRODUCTS FROM CENTRES IN EXTENSION CATEGORIES
41
is an A-ring. Being a left U-module algebra then explicitly means
upz Â¨Z z1q â€œ pup1qzq Â¨Z pup2qz1q,
(A.11)
along with
u1Z â€œ Îµpuq Å» 1Z.
(A.12)
On the other hand, pZ, Âµ, 1Zq also being a left U-comodule algebra implies
Î»Zpz Â¨Z z1q â€œ Î»ZpzqÎ»Zpz1q â€œ zpÂ´1qz1
pÂ´1q bA zp0q Â¨Z z1
p0q,
along with Î»Zp1Zq â€œ 1U bA 1Z. Moreover,
Âµ Ë Ïƒ â€œ Âµ,
(A.13)
which says that pZ, Âµ, 1Zq is supposed to be braided commutative; explicitly,
z Â¨Z z1 â€œ pzpÂ´1qz1q Â¨Z zp0q.
(A.14)
Observe that it is precisely (and tautologically) the YD condition (A.5) on Z
that guarantees (A.14) to be well-deï¬ned, even when thinking of U-modules:
upz Â¨Z z1q â€œ up1qz Â¨Z up2qz1 (A.14)
â€œ pup1qzqpÂ´1qup2qz1 Â¨Z pup1qzqp0q
(A.5)
â€œ up1qzpÂ´1qz1 Â¨Z up2qzp0q â€œ u
`
pzpÂ´1qz1q Â¨Z zp0q
Ë˜
.
(A.15)
Note that there is no relation whatsoever to whether the multiplication Âµ
in Z itself is commutative or not: for example, the base algebra A in a left
bialgebroid itself is a braided commutative monoid in U
UYD but not necessarily
commutative as a k-algebra.
A.2.9. Braided cocommutative comonoids in UYDU. In much the same way as
in Â§A.2.8, a braided cocommutative comonoid in UYDU (equivalently, a braided
commutative monoid in pUYDUqop) is again an object equipped with four prop-
erties: it is a (left-right) YD module, it is a left U-module coalgebra as well as
a left U-comodule coalgebra, and ï¬nally it is braided cocommutative.
More precisely, writing the action and coaction on an object X P
UYDU as
in Â§A.2.5, assume that pX, âˆ†X, ÎµXq is an A-coring with coproduct âˆ†X : X Ã‘
X bA X, x ÃÃ‘ xp1q bA xp2q and counit ÎµX : X Ã‘ A.
Being a left U-module
coalgebra then explicitly means
âˆ†Xpuxq â€œ âˆ†Xpuqâˆ†Xpxq â€œ up1qxp1q bA up2qxp2q,
(A.16)
along with
ÎµXpuxq â€œ Îµpu Ä‘ ÎµXpxqq.
(A.17)
On the other hand, pX, âˆ†X, ÎµXq is also a left U-comodule coalgebra, which reads
xr0sp1q bA xr0sp2q bA xr1s â€œ xp1qr0s bA xp2qr0s bA xp2qr1sxp1qr1s,
for any x P X, along with
t
`
ÎµXpxq
Ë˜
â€œ ÎµXpxr0sq Å» xr1s.
(A.18)
Finally, braided cocommutativity manifests as
Ï„ Ë âˆ†X â€œ âˆ†X,
(A.19)
or, explicitly,
xp2qr0s bA xp2qr1sxp1q â€œ xp1q bA xp2q.
(A.20)
A.3. Operads and Gerstenhaber algebras. A (non-Î£) operad O in the cate-
gory of k-modules is a family tOpnqunÄ›0 of k-modules with k-bilinear operations

42
DOMENICO FIORENZA AND NIELS KOWALZIG
Ëi : Oppq b Opqq Ã‘ Opp ` q Â´ 1q, i â€œ 1, . . . , p, subject to
Ï• Ëi Ïˆ
â€œ
0
if p Äƒ i
or
p â€œ 0,
pÏ• Ëi Ïˆq Ëj Ï‡
â€œ
$
â€™
&
â€™
%
pÏ• Ëj Ï‡q Ëi`rÂ´1 Ïˆ
if j Äƒ i,
Ï• Ëi pÏˆ ËjÂ´i`1 Ï‡q
if i Ä j Äƒ q ` i,
pÏ• ËjÂ´q`1 Ï‡q Ëi Ïˆ
if j Ä› q ` i.
(A.21)
In the main text, especially in Â§2.4.1, these operations are referred to as in-
ternal operadic composition, in contrast to the external one dealt with in Â§2.2.
Call an operad unital if there is an identity 1 P Op1q such that Ï•Ëi1 â€œ 1Ë1Ï• â€œ Ï•
for all Ï• P Oppq and i Ä p, and call it with multiplication if there exists a mul-
tiplication Âµ P Op2q and a unit e P Op0q such that Âµ Ë1 Âµ â€œ Âµ Ë2 Âµ as well as
Âµ Ë1 e â€œ Âµ Ë2 e â€œ 1. Such an object will be denoted by the triple pO, Âµ, eq. It is
then a standard result (see [GeSch]) that pO, Âµ, eq deï¬nes a cocyclic k-module
the cohomology H â€špOq of which yields a Gerstenhaber algebra.
REFERENCES
[Bae] J. Baez, Hochschild homology in a braided tensor category, Trans. Amer. Math. Soc. 344
(1994), no. 2, 885â€“906.
[BrWi] T. BrzeziÂ´nski and R. Wisbauer, Corings and comodules, London Mathematical Society Lec-
ture Note Series, vol. 309, Cambridge University Press, Cambridge, 2003.
[EtGeNiOs] P. Etingof, S. Gelaki, D. Nikshych, and V. Ostrik, Tensor categories, vol. 205, Amer.
Math. Soc., Providence, RI, 2015.
[Ge] M. Gerstenhaber, The cohomology structure of an associative ring, Ann. of Math. (2) 78 (1963),
no. 2, 267â€“288.
[GeSch] M. Gerstenhaber and S. Schack, Algebras, bialgebras, quantum groups, and algebraic
deformations, Deformation theory and quantum groups with applications to mathematical
physics (Amherst, MA, 1990), Contemp. Math., vol. 134, Amer. Math. Soc., Providence, RI,
1992, pp. 51â€“92.
[He] R. Hermann, Monoidal categories and the Gerstenhaber bracket in Hochschild cohomology,
Mem. Amer. Math. Soc. 243 (2016), no. 1151, v+146pp.
[MacL] S. Mac Lane, Homology, Classics in Mathematics, Springer-Verlag, Berlin, 1995, Reprint
of the 1975 edition.
[MÃ¼] M. MÃ¼ger, From subfactors to categories and topology. II: The quantum double of tensor cat-
egories and subfactors, J. Pure Appl. Algebra 180 (2003), no. 1â€“2, 159â€“219.
[NeRe] A. Neeman and V. Retakh, Extension categories and their homotopy, Compositio Math. 102
(1996), no. 2, 203â€“242.
[Reh] K.-H. Rehren, Braid group statistics and their superselection rules, The Algebraic Theory
of Superselection Sectors, Introduction and Recent Results (Palermo, 1989), World Sci. Publ.,
River Edge, NJ, 1990, pp. 333â€“355.
[Re] V. Retakh, Homotopy properties of categories of extensions, Uspekhi Mat. Nauk 41 (1986),
no. 6 (252), 179â€“180.
[Sch] P. Schauenburg, Duals and doubles of quantum groupoids (Ë†R-Hopf algebras), New trends
in Hopf algebra theory (La Falda, 1999), Contemp. Math., vol. 267, Amer. Math. Soc., Provi-
dence, RI, 2000, pp. 273â€“299.
[Schw] S. Schwede, An exact sequence interpretation of the Lie bracket in Hochschild cohomology,
J. Reine Angew. Math. 498 (1998), 153â€“172
[Sh1] B. Shoikhet, Hopf algebras, tetramodules, and n-fold monoidal categories, preprint (2009),
arxiv.org/abs/0907.3335v2.
[Sh2] B. Shoikhet, Differential graded categories and Deligne conjecture, Adv. Math. 289 (2016),
797â€“843.
[Ta] M. Takeuchi, Groups of algebras over A b A, J. Math. Soc. Japan 29 (1977), no. 3, 459â€“492.
DIPARTIMENTO DI MATEMATICA, UNIVERSITÃ€ DEGLI STUDI DI ROMA LA SAPIENZA, P.LE
ALDO MORO 5, 00185 ROMA, ITALIA
Email address: fiorenza@mat.uniroma1.it
DIPARTIMENTO DI MATEMATICA, UNIVERSITÃ€ DEGLI STUDI DI NAPOLI FEDERICO II, VIA
CINTIA, 80126 NAPOLI, ITALIA
Email address: niels.kowalzig@unina.it

