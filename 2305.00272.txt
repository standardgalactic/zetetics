The semibicategory of Moore automata
Guido Boccali1, Bojana Femi´c2, Andrea Laretto3, Fosco Loregian3, and
Stefano Luneia4
1Universit`a di Torino, Torino, Italy
guidoboccali@gmail.com
2Serbian Academy of Sciences and Arts, Belgrade, Serbia
femicenelsur@gmail.com
3Tallinn University of Technology, Tallinn, Estonia
anlare@ttu.ee,folore@ttu.ee
4Universit`a di Bologna, Bologna, Italy
stefano.luneia@gmail.com
May 2, 2023
Abstract
We study the semibicategory Mre of Moore automata: an arrangement of objects, 1- and 2-cells
which is inherently and irredeemably nonunital in dimension one.
Between the semibicategory of Moore automata and the better behaved bicategory Mly of
Mealy automata a plethora of adjunctions insist: the well-known essential equivalence between
the two kinds of state machines that model the deﬁnitions of Mre and Mly is appreciated at
the categorical level, as the equivalence induced between the ﬁxpoints of an adjunction, in fact
exhibiting Mre(A, B) as a coreﬂective subcategory of Mly(A, B); the comodality induced by this
adjunction is but the 0th step of a ‘level-like’ ﬁltration of the bicategory Mre in a countable family
of essential bi-localizations snMre ⊆Mre. We outline a way to generate intrinsically meaningful
adjunctions of this form. We mechanize some of our main results using the proof assistant Agda.
1
Introduction
Any arrangement of sets and functions E
d
←−A × E, E
s−→B can be interpreted as follows:
• E as a set of ‘states’, and A, B are sets of ‘inputs’ and ‘outputs’;
• the function d : E × A →E is a transition function (specifying a dynamics), and the function
s : E →B provides an output given an initial state (specifying a ﬁnal state).
Altogether, (d, s) form a Moore automaton or Moore ‘machine’.
This deﬁnition extends to the case where E, A, B are objects of the same monoidal category (K, ⊗)
[Ehr+74]; the situation is of particular interest when K is Cartesian or semiCartesian: for example
K = (Top, ×) (and then d, s are continuous, and in particular we can think of f as an action over E of
1
arXiv:2305.00272v1  [math.CT]  29 Apr 2023

the free topological monoid A∗on A, cf. [Reu79]),1 but also K = (Cat, ×) (and then f, g are functors,
cf. [Boc+23a; Gui74; Gui78]), K = Par (the category of sets and partial functions; in this case, f, g are
‘partially deﬁned’ functions that can fail on certain inputs), or a category of smooth manifolds [Spi16].
For ﬁxed input and output A, B the structure of the class Mre(A, B) of Moore automata can be
described as the strict pullback
Mre(A, B)
V ′
/
U ′

K/B
V

Alg(A ⊗
)
U
/ K
(1.1)
where U : Alg(A ⊗
) →K is the forgetful functor from the category of endofunctor algebras for
A ⊗
: K →K, or –which is equivalent if K has countable colimits– actions of A∗, and V : K/B →K
is the usual ‘domain’ ﬁbration [Jac99, p. 30], [LR20] from the slice over B. Universal constructions are
induced from the underlying category K (in particular, all colimits and connected limits are created
by V ′, a result we survey in [Boc+23b]).
As clean as it may seem, this characterisation leaves something out of the story; thinking of objects
of Mre(A, B) as processes from A to B, it is natural to compose them sequentially, as follows:
(E, f, g)
(E′, f′, g′)
(E × E′, f ′ ⋄f, g′ ⋄g)
A
B
C
(1.2)
Given (E, f, g) ∈Mre(A, B) and (E′, f ′, g′) ∈Mre(B, C), we can consider the Moore automaton
(E × E′, f ′ ⋄f, g′ ⋄g) ∈Mre(A, C), deﬁned as
(
f ′ ⋄f : E × E′ × A →E × E′ : (e, e′, a) 7→(f(e, a), f ′(e′, ge))
g′ ⋄g : E × E′ →C : (e, e′) 7→g′(e′)
(1.3)
This binary composition law is easily seen to be associative up to isomorphism. Now, do the various
Mre(A, B) in (1.1) arrange as the hom-categories of a bicategory Mre of Moore automata? This would
be the best situation to be in.
However, the composition
⋄
looks irredeemably nonunital, as there is no hope of ﬁnding a
common section A 7→idA for the domain and codomain endofunctors sending (E, f, g) ∈Mre(A, B) to
A and B respectively. Indeed, to ﬁnd such identity arrows, one should ﬁx a triple (UA, x, y) : UA
x
←−
A × UA, UA
y−→A such that, at the very least, the compositions (E × UB,
,
) and (UA × E,
,
)
are isomorphic to (E, f, g) in Mre(A, B). So in particular, the carrier UA must be the terminal object
/ monoidal unit, which is easily seen to not work.
Confronted with this problem, two approaches are possible: one can forget about the composition
law in (1.3), and ﬁnd one that underlies a bicategory structure; or, one can forget about the absence
of identity 1-cells, and study the structure exhibited by Mre ‘as it is’.
1It is worth to remark that here ‘topological’ can –and should– be intended broadly as follows: let E be a Grothendieck
topos; we can consider Moore automata in E, and then E is an object of EM, the category of E-objects with an action
of M = A∗, the free monoid on A. Cf. also [Rog21] for a thorough study of ‘toposes of monoid actions’ when E = Set.
2

Leaning towards the ﬁrst approach is not recommendable, as the composition law outlined above
arises by restricting an existing bicategory structure. If we consider more general spans like
E
A × E
g
/
f
o
B,
(1.4)
arranged in the class Mly(A, B), all the nice properties expounded above remain true, while at the
same time addressing the problem: now that the g is sensitive to the input, the identity 1-cell of an
object A is given by the span 1
!←−A×1
πA
−−→A, given by the two projections. Moreover, this deﬁnition
‘makes sense’, because when K = Set (or for that matter, any Cartesian category) the bicategory Mly
so determined is just the category of Mealy automata, which is known to be not just a bicategory, but
the bicategory [KSW97; KSW02; Lav+21] of pseudofunctors and lax natural transformations from N
(the monoid of natural numbers) to (K, ⊗): a bicategory of ‘lax dynamical systems’, borrowing the
analogy from [Tie69]. Our choice of composition of 1-cells is then constrained by the fact that
⋄
in Mly enjoys a certain universal property, and that in it composing 1-cells restricts to the subcategory
of spans like (1.4) with g mute in the input variable.
We are thus led to follow the second path, and recognise that Mre is a semibicategory: a structure
that is precisely like a bicategory, except that it lacks identity 1-cells.
The purpose of this note is to initiate the study of Mre qua semibicategory, embracing its (lack of)
identity and trying to uncover its properties, both regarded as an object of the category of semibicat-
egories, and related the ‘true’ bicategory Mly where it embeds through a canonical functor J (Deﬁni-
tion 2.9).
In particular, assuming K is Cartesian closed, we focus on the precise sense in which the semibicat-
egory Mre and the bicategory Mly, linked by J, ﬁt into adjoint situations, and we provide a generic way
of generating such adjunctions; leveraging on the pullback (1.1), and given a similar characterisation
of Mly(A, B) as a strict pullback in Cat, in Deﬁnition 2.1.cf, all adjunctions
K/B
/
⊥
Alg(A ×
) ∼= K/BA
o
(1.5)
between slice categories pull back to Mre(A, B) and Mly(A, B).
Now categorical algebra provides
‘standard’ natural ways to obtain such adjunctions, when K is rich enough (e.g., it is locally Cartesian
closed): pulling back along a morphism or computing direct/inverse images [Joh02, A1.5.3], using
the 2-functoriality of comma objects in Cat [Kel89], or the structure induced by the whole functor
Mre(A, B) →K/B × K/BA obtained from the pullback span (1.1). Each of these constructions yields
a diﬀerent adjunction, each of which is of some interest when translating 1-cells of Mre(A, B) and
Mly(A, B) into ‘machines’ that accept an input of type A and produce an output of type B.
In
particular, we provide J with a right adjoint, just to discover a moment later that J = D0 is the 0th
term of a countable sequence of functors Dn, each of which is a fully faithful left adjoint Dn ⊣Kn (cf.
(3.6)): this way, we obtain a rather intrinsic description for a classical equivalence theorem between
Moore and Mealy machines [Sha08, pp. 3.1.4, 3.1.5], embedding Mre(A, B) in Mly(A, B) as a coreﬂective
subcategory; in Deﬁnition 3.9, Theorem 3.10 we give a very explicit description of the coreﬂector as
post-composition with a universal Moore cell uX. Adopting a similar point of view in Theorem 3.19
we prove that a similar adjunction colocalises Mly(A, B) onto the subcategory of what we call soft
Moore machines (Deﬁnition 3.14); again, the coreﬂector in Theorem 3.19 is post-composition with a
universal soft automaton pX, that can be characterised (Construction 3.12, Remark 3.16) as a certain
pullback, or as the image of yet another functor (Remark 3.5) obtained by a change of base/direct
image adjoint situation (3.7). This situation generalises: it is possible to deﬁne a whole hierarchy of
3

subcategories snMre for n ≥1, each of which is the category of DnKn-coalgebras, thus arranged in a
ﬁltered diagram of coreﬂective inclusions
sMre  
/ s2Mre  
/ s3Mre  
/ . . .  
/ Mre
(1.6)
analogous in some regards to the ‘level’ ﬁltration of a topos [KL89; MM19], although the localisations
in study here are not essential.
Unsurprisingly, a well-known and ‘solid’ procedure like [Sha08, pp. 3.1.4, 3.1.5] is just a universal
construction in disguise. However, the interest in such a ﬁnding is also pedagogical: if hypothetical
readers journeyed automata theory in any direction, armed only with bicategory theory, they would be
able to rediscover natural constructions on state machines by just enacting what they know about more
familiar universal constructions (composition of 1-cells, bicategorical limits [Kel89; Str76; Bir+89],
especially of of Kan type,2 [Str81] the fundamental calculus of a Cartesian closed category, base
change adjunctions. . . ). The importance of such serendipity is hard to overestimate.
2
The semibicategory of Moore machines
Let’s start by recording a precise deﬁnition of the categories of Moore and Mealy machines. Fix a
monoidal category (K, ⊗) in the background, which we will call the ‘base category’.
Deﬁnition 2.1 (The hom-categories of Mly and Mre). (
) Fix two objects A, B ∈K0; A is to be
thought of as the ‘input’ object, and B as the ‘output’ object.
Denote with Alg(A ⊗
) the category of endofunctor algebras for the functor X 7→A ⊗X (or acts,
cf. [KKM00]), and (A ⊗
/B) the comma category of morphisms A ⊗X →B. Then,
cf) the category Mly(A, B) of Mealy machines with input A and output B is the strict pullback
square
Mly(A, B)
U ′
/
V ′

(A ⊗
/B)
V

Alg(A ⊗
)
U
/ K
(2.1)
cf) the category Mre(A, B) of Moore machines with input A and output B is the strict pullback
square
Mre(A, B)
U ′
/
V ′

K/B
V

Alg(A ⊗
) U
/ K
(2.2)
if K/B is the comma category of the identity functor id : K →K, and of the constant functor at
B ∈K0.3
2Loosely speaking, a ‘bicategorical limit of a Kan type’ is a left or right Kan extension, or a left/right Kan lifting,
possibly pointwise or absolute.
3It is worth noting three things: the deﬁnition of Mly(A, B) and Mre(A, B) depends on K; every lax monoidal functor
F : H →K induces base changes pseudofunctors F∗: MlyH(A, B) →MlyK(FA, FB) –and similarly for Moore; under
suitable assumptions, this can be extended to a 3-functor from (Cartesian monoidal categories, product-preserving
functors, Cartesian natural transformations). This is the content of [Boc+23a, Remark 2.6], but it can be deduced in
one fell sweep from the characterization in [KSW97].
4

Remark 2.2. (
) Unwinding the deﬁnition, an object of Mly(A, B) is a span
d,s
E
: E
d
←−A⊗E
s−→B,
and a morpism f from
d,s
E
to
d′,s′
F
is an f : E →F in the base category such that f ◦d = d′ ◦(A⊗f)
and s′ ◦(A ⊗f) = s. Similarly, an object of Mre(A, B) is a span
d,s
E
: E
d
←−A ⊗E, E
s−→B, and a
morphism f from
d,s
E
to
d′,s′
F
is an f : E →F in the base category such that f ◦d = d′ ◦(A ⊗f)
and s′ ◦f = s.
Corollary 2.3. (
) An immediate consequence of this deﬁnition (cf. [Boc+23b] for the details) is
that when K is closed and
⊗
separately commutes with small colimits (e.g., when K is closed),
each category Mly(A, B) and Mre(A, B) is complete and cocomplete:
• the category Mre(A, B) has a terminal object, the internal hom [A∗, B];
• the category Mly(A, B) has a terminal object, the internal hom [A+, B].4
From now on, we assume (K, ×) is a Cartesian category (more than often, Cartesian closed). Then,
a bicategory Mly = MlyK can be deﬁned as follows (cf. [RSW98] where this is called ‘Circ’, and a more
general structure is studied, in case the base category has a non-Cartesian monoidal structure –but
then a clear analogy with Mealy machines is lost):
Deﬁnition 2.4 (The bicategory Mly, [RSW98]). (
) In the bicategory Mly
• 0-cells A, B, C, . . . are the same objects of K;
• 1-cells A _ B are the Mealy machines (E, d, s), i.e. the objects of the category Mly(A, B) in
Equation 2.1, thought as morphisms ⟨s, d⟩: E × A →B × E in K;
• 2-cells are Mealy machine morphisms as in Equation 2.1;
• the composition of 1-cells
⋄
is deﬁned as follows: given 1-cells ⟨s, d⟩: E × A →B × E and
⟨s′, d′⟩: F ×B →C ×F their composition is the 1-cell ⟨s′ ⋄s, d′ ⋄d⟩: (F ×E)×A →C ×(F ×E),
obtained as
F × E × A
F ×⟨s,d⟩/ F × B × E
⟨s′,d′⟩×E / C × F × E;
(2.3)
• the vertical composition of 2-cells is the composition of Mealy machine morphisms f : E →F
as in Equation 2.1;
• the horizontal composition of 2-cells is the operation deﬁned thanks to bifunctoriality of
⋄
:
Mly(B, C) × Mly(A, B) →Mly(A, C);
• the associator and the unitors are inherited from the monoidal structure of K.
Remark 2.5 (The universal property of Mly). Regard K as a bicategory with a single 0-cell, and let
ΩB be the bicategory of pseudofunctors N →B, lax natural transformations, and modiﬁcations; then
(cf. [KSW97; KSW02]) there is an equivalence of bicategories MlyK ∼= ΩK.
4Assuming countable coproducts in K, the free monoid A∗on A is the object P
n≥0 An; the free semigroup A+ on
A is the object P
≥1 An; clearly, if 1 is the monoidal unit of ⊗, A∗∼
= 1 + A+, and the two objects satisfy ‘recurrence
equations’ A+ ∼
= A ⊗A+ and A∗∼
= 1 + A ⊗A∗.
5

Remark 2.6 (Composition of 1-cells ﬂeshed out). (
) The composition of 1-cells in Mly happens as
follows (where we freely employ λ-notation available in any Cartesian closed category):
d2 ⋄d1 : λefa.⟨d2(f, s1(e, a)), d1(e, a)⟩
s2 ⋄s1 : λefa.s2(f, s1(e, a))
Deﬁnition 2.7 (Terminal extensions of machines). (
)
• Every Moore machine
d,s
E
can be extended as E
E × A∗
s∆/
d∆
o
B where d∆is obtained
from the universal property of A∗, and s∆is deﬁned inductively using the distributivity of
products over coproducts: s1 = s and for each n ≥2,
sn :=
 E × An
d×An−1
−−−−−→E × An−1 →· · ·
d×A
−−−→E × A
d−→E
s−→B

.
(2.4)
• Similarly, every Mealy machine
d,s
E
has an extension E
E × A+
s∆/
d∆
o
B .
Remark 2.8. The above procedure deﬁnes functors (
)e∗: Mre(A, B) →Mly(A∗, B) and (
)e+ :
Mly(A, B) →Mly(A+, B). We call these the terminal extensions of the Moore/Mealy machines at
study (due to their link with the terminal morphism in Mre(A, B) and Mly(A, B), cf. [Ehr+74, Ch.
11] and [Boc+23b]).
Deﬁnition 2.9 (Embedding Mre in Mly). (
) There is a 2-functor J : Mre →Mly from the category
of Moore machines to the category of Mealy machines, regarding each Moore machine (E, d, s) as a
Mealy machine
E
E × A
d
o
πE / E
s
/ B
(2.5)
Notation 2.10. Graphical notation is very useful in bookkeeping the structure of a Mealy or Moore
machine and invaluable in simplifying computations: so, let us depict the generic Mealy (red) and
Moore (blue) machines with input and output A, B as follows:
E
A
B
E
A
B
(2.6)
Instead, when we need to look closer at the structure of a given automaton, we might use the following
string-diagrammatic notation: the diagrams
d
E
s
B
A
E
(2.7)
denote the same span of (2.2) forming a Mealy 1-cell (E, d, s) (and d is oriented right-to-left!), and if
the machine lies in the image of the functor J above, the picture simpliﬁes to
d
E
s
B
A
E
(2.8)
(In such a situation, we say that s is ‘Moore’ or ‘of Moore type’.) Adopting this notation the
composition of (E, d1, s1) : A _ B and (F, d2, s2) : B _ C is written
s1
E
A
F
s2
C
s1
d1
d2
F
E
E
F
A
s2 ⋄s1
d2 ⋄d1
(2.9)
6

and in case s2 (resp., s1) is Moore, it suitably simpliﬁes.
From this we deduce at once the following lemma.
Lemma 2.11 (Moore overrides Mealy, on both sides). (
) The composition of a Mealy 1-cell
d,s
E
with a Moore 1-cell
d′,s′
F
is a Moore 1-cell
#,#
F ×E . Conversely, the composition of a Moore 1-cell
d,s
E
with a Mealy 1-cell
d′,s′
F
is a Moore 1-cell
#,#
F ×E .
In algebraic terms, the statement reads as follows: the composition bifunctors given in (2.3) restrict
to bifunctors
J
⋄
: Mre(B, C) × Mly(A, B)
/ Mre(A, C)
⋄J
: Mly(B, C) × Mre(A, B)
/ Mre(A, C).
(2.10)
Proof. Immediate using graphical reasoning and the deﬁnition of composition in (2.9).
Remark 2.12. (
) Due to the tautological nature of J ‘virtually all’ ways to compose together a
Moore and a Mealy machine agree:
J(m ⋄n) = m ⋄Jn
J(m ⋄n) = Jm ⋄n
m ⋄Jn = Jm ⋄n
J(m ⋄n) = Jm ⋄Jn
m ∈Mly, n ∈Mre
m ∈Mre, n ∈Mly
m, n ∈Mre
m, n ∈Mre
(2.11)
(after the reduction of the involved λ-terms, we obtain a strict equality.)
Corollary 2.13 (Mooriﬁcation functors). For any two objects A, B ∈Mly there exist functors
⋊AB
: Mly(A, B) × Mre(A, A)
/ Mre(A, B)
⋉AB
: Mre(B, B) × Mly(A, B)
/ Mre(A, B)
(2.12)
Clearly then, given endo-1-cells m : A →A and n : B →B in Mre, we can deﬁne pre- and post-
composition operations as Rm =
⋊AB m and Ln = n ⋉AB
, which we will use in Theorem 3.19,
Theorem 3.10 to characterize functors converting Mealy into Moore machines.
2.1
The semibicategory structure of Mre
Corollary 2.14 (Sometimes you have no identity, and that’s ok). The composition of a Moore 1-cell
[E, d, s] with a Moore 1-cell [F, d′, s′] is a Moore 1-cell [F ×E, d′ ⋄d, s′ ⋄s]. Hence, if we take as objects
the same of K, as 1-cells the Mealy machines of Moore type
d,s
E : A _ B, and considering 2-cells in the
sense of Remark 2.2, we obtain a sub-semibicategory of Mly, the semibicategory of Moore machines.
It is important to note that the composition law of Moore machines is inherently nonunital: given the
composition law deﬁned in Deﬁnition 2.4 there can be no other identity 1-cell than
π1,πA
1
: A _ A,
and this is not of Moore type.
It is worth recording the precise deﬁnition of what we denote as a semibicategory; loosely speaking,
we are considering a weakening of [MBCB02, Deﬁnition 1.1] in which we relax the requirement that
we have strictly associative composition; a semibicategory is then the semicategorical5 equivalent of
5Semicategories were introduced by Mitchell as ‘categories without identities’ and studied to some extent in [Mit72];
semigroupal categories are often studied in relation with their cognates the magmoidal ones (where a mere binary functor
⊙
: M×M →M is given, cf. [Dav17]); a semibicategory with a single object, is precisely a (nonstrict) semigroupal
category, cf. [LYH18] for a proof that semigroupal categories support graphical calculi.
7

a bicategory [B´en67], [Gra74, p. I.3], or again equivalently the multi-object version of semigroupal
categories (as deﬁned, e.g., in [Boy07, p. 3.3], [LYH18], although in a strict sense; for the weak version
cf. [Elg04, p. 4.1], or adapt [MBCB02] as we do). Cf. also [Koc08; Koc10].
Deﬁnition 2.15. (
) A semibicategory consists of
sc) a collection of objects or 0-cells S0;
sc) for all objects X, Y ∈S0 a category S(X, Y );
sc) for all objects X, Y, Z ∈S0 a composition bifunctor
◦
: S(Y, Z) × S(X, Y ) →S(X, Z);
sc) for all f : Z →W, g : Y →Z, h : X →Y , an associator isomorphism αfgh : f ◦(g◦h) ∼= (f ◦g)◦h
(cf. (A.1)).
The associator morphism must satisfy the usual pentagon equation for all f, g, h, k: the diagram of
(A.2) is commutative.
Now, a technical result of a general kind allows replacing the semibicategory of Moore machines
with a bicategory of ‘Moore machines’, which is identical to Mre in all respects, apart from the fact
that a class of symbols idA, one for each object A ∈K0, has been forcefully added in order to play the
rˆole of identity 1-cell.
Theorem 2.16. The obvious forgetful 2-functor MonCat →SgCat admits a left adjoint ( )u : SgCat →
MonCat.
Proof. The proof is deferred to the appendix, p. 18. Cf. also Construction A.1.
3
A plethora of adjoints between machines
The key observation guiding our intuition throughout the section is the following.
Lemma 3.1 (Pulling back ﬁbered adjunctions). (
) Given a commutative cube
M′
{
/

B′
~

M
;
/

B

>
A
/ K
A
/ K
(3.1)
assume the front and back vertical faces are strict pullbacks in Cat; then any adjunction F : B ⇆B′ : G
pulls back to an adjunction F ′ : M ⇆M′ : G′.6
Proof. Immediate, using the 2-dimensional universal property of the pullbacks involved.
6A similar result holds, when the bottom horizontal square is replaced by a commutative square of adjunctions in
the sense of [ML78, p. IV.7]; we will invoke the more general version as well: refer for this to the right part of (A.3).
8

Corollary 3.2. Any adjunction F : K/B
/
⊥
A ×
/B : G
o
ﬁbered over K induces an adjunction
F : Mre(A, B)
/
⊥
Mly(A, B) : G
o
(3.2)
ﬁbered over Alg(A ×
). (When there is no danger of confusion, we will keep denoting as F ⊣G the
pulled back adjunction. Refer to the left part of (A.3) for the diagram we have in mind.)
A blanket assumption for all that follows is that K is (locally) Cartesian closed. Then there is an
evident equivalence of categories (A ×
)/B ∼= K/BA; we deduce that:
Lemma 3.3. There are adjoint triples
Σf ⊣f ∗⊣Πf : K/BA
f ∗
/ K/B
o
o
(3.3)
ﬁbered over K, induced by a morphism f ′ : B →BA (or rather by its mate f : A × B →B) pulls back
to an adjoint triple ﬁbered over Alg(A ×
), between Mre(A, B) and Mly(A, B).
Example 3.4. Let K be locally Cartesian closed; let πB : A×B →B be the projection on the second
factor and ϖB : B →BA its mate; it is well-known that there is a triple of adjoints ϖB ◦
⊣ϖ∗
B ⊣
ΠϖB, acting respectively as composition, pullback, and direct image for ϖB [Joh02, A4.1.2]. As a
consequence, we obtain a triple of functors
ϖB ◦
⊣ϖ∗
B ⊣ΠϖB : Mly(A, B)
/ Mre(A, B)
o
o
(3.4)
This is not the only way to obtain adjoint situations between machines from adjoint situations
between comma categories: we can exploit the fact that Lemma 3.1 holds in slightly more generality,
also for adjunctions that are not ﬁbered over K; thus,
• any natural transformation α between A ×
and the identity functor of K induces, by the
2-dimensional part of the universal property of comma objects, a functor α∗between K/B and
(A ×
)/B ∼= K/BA. But the functor A ×
is a comonad on any Cartesian category, whence
it’s naturally copointed by the counit ϵ : A ×
⇒idK; from this, we get a functor
ϵ∗: K/B
/ (A ×
)/B ∼= K/BA
(3.5)
pulling back to a functor ¯ϵ∗: Mre(A, B) →Mly(A, B).
• All morphisms inductively deﬁned by the rule d(0) := πE, d(1) = d : A × E →E, d(n) :=
d ◦(A × d(n−1)) as in Deﬁnition 2.7 induce functors
D∗
n : K/B
/ (A ×
)/B ∼= K/BA : s 
/ s ◦d(n)
(3.6)
pulling back thanks to Lemma 3.1 to a functor ¯Dn : Mre(A, B) →Mly(A, B).
Adjoint situations like (3.4) however provide a nifty characterization for the precomposition functors
Mly(u, B) : Mly(A′, B) →Mly(A, B) induced by u : A →A′ in the base category. From u, using the
Cartesian closed structure of K, we get Bu : BA′ →BA, from which, applying Lemma 3.1 to the triple
of adjoints
Bu ◦
⊣(Bu)∗⊣Πu : K/BA
(Bu)∗
/ K/BA′
o
o
(3.7)
9

(same notation of Lemma 3.3) we get a triple of adjoints Mly(A, B)
/ Mly(A′, B)
o
o
and an identi-
ﬁcation of the leftmost adjoint Bu ◦
with Mly(u, B) : Mly(A′, B) →Mly(A, B).
As a direct consequence,
Remark 3.5. Let K be locally Cartesian closed; then each functor Mly(u, B) : Mly(A′, B) →Mly(A, B)
sits in a triple of adjoints Mly(u, B) ⊣(Bu)∗⊣Πu.
Remark 3.6 (Adjunctions between hom-categories). In case K is locally presentable (e.g., K = Set,
any Grothendieck topos, a docile category of spaces, etc.) AFTs in their classical form [Bor94b, Ch.
5], [Bor94a, pp. 3.3.3–3.3.8] applied to ϵ∗, D∗
n yield right adjoints R and Kn and thus, by virtue of
Lemma 3.1 above, we get
• An adjunction ¯ϵ∗: Mre(A, B) ⇄Mly(A, B) : ¯R;
• for evey n ≥1 an adjunction ¯Dn : Mre(A, B) ⇄Mly(A, B) : Kn, with Dn fully faithful –and thus
¯Kn is a coreﬂector.
Among these, especially the second bears some importance to automata theory. We will analyse
its structure, providing a clean explicit construction for K0, K1 in the rest of the present section; in
particular, we will completely characterise the coreﬂective subcategory of ¯Dn ¯Kn-coalgebras. A crucial
point of our discussion will be that ¯Kn arises as composition u ⋉
for a universal 1-cell u of Moore
type, following the notation of Corollary 2.13.
Remark 3.7 (Biadjunctions between Mly and Mre). The adjunctions in Remark 3.6 constitute the
action on hom-categories of biadjunctions (cf. [BK81] for an earlier reference, and the notion of a
left adjoint of a left lax transformation in [Str72, p. 8]. This is a weakening of [Fio06, Ch. 9] that
drops the request to have adjoint equivalences of hom-categories, replacing them with a family of
adjunctions indexed over the objects of the two bicategories) E ⊣R, {Dn ⊣Kn | n ≥0} between the
semibicategory Mre (or equivalently its bicategorical reﬂection Mreu in the sense of Theorem 2.16) and
the bicategory Mly of Mealy machines of Deﬁnition 2.4. Each of these (2-semi) functors is the identity
on 0-cells.
Deﬁnition 3.8. In the notation of Equation 3.6, the functors D0 and D1 are deﬁned respectively as
follows: a generic Moore machine
d,s
E goes to
d,sπE
E
and
d,sd
E
, and more in general, Dn is the upper
horizontal functor in
K/B
U

Dn / K/BA
U ′

K
An×
/ K
(3.8)
adapted from Lemma 3.1 (In the lower rows, the functors X 7→An × X are clearly left adjoints).
Deﬁnition 3.9 (The universal Moore machine). (
) Let X ∈K0 be an object. There exists a Moore
machine uX =
πX,idX
X
in Mre(X, X) where πX : X × X →X is the projection on the ﬁrst coordinate.
The machine uX can’t be the identity 1-cell in Mre(X, X) by Corollary 2.14 above, but it is ‘as
near to the identity as a Moore 1-cell can be’ to the identity in Mly(X, X), in a sense made precise
by the following result: post-composition with uX realizes the Moore machine associated to a Mealy
machine.
10

Theorem 3.10 (Mooriﬁcation is composition with a universal cell). (
) The functor K1 of Re-
mark 3.6 is naturally isomorphic to the functor LuB = uB ⋉
: Mly(A, B) →Mre(A, B) of Corol-
lary 2.13.
Remark 3.11. In layman’s terms, uB =
πB,idB
B
is the universal machine of Moore type, in the sense
that sequential composition with it turns every Mealy machine into an ‘equivalent’ Moore machine.
This is a clean-cut categorical counterpart for the extremely well-known fact that the two concepts
of Moore and Mealy machines are ‘essentially equivalent’ in a sense made precise by [Sha08, pp. 3.1.4,
3.1.5].
Construction 3.12. (
) Let X ∈K0 be an object. We deﬁne a Moore machine pX =
δX,σX
P∞X
in
Mre(X, X) as follows:
• its carrier results from the pullback in the base category K
P∞X
/

1
head

[X∗, X]
/ [X+, X]
(3.9)
where the lower horizontal map results from the obvious inclusion A+ ,→A∗= 1 + A+ and head
picks the element λ(a :: as).a.7
• the map δX : P∞X×X →P∞X is deﬁned by restriction to the dynamics of [X∗, X] as (f, a) 7→f;
• the map σX : P∞X →X is deﬁned as f 7→f[ ].
Remark 3.13. Informally speaking, the carrier of pX is the subobject H of [X∗, X]8 made of those
functions f : X∗→X that on nonempty lists coincide with the head function: f[ ] is free to assume
any value whatsoever, while f(a :: as) = a for every nonempty list a :: as.
Given this, σ : f 7→f[ ] is clearly a bijection. So, it might seem unnecessarily verbose to distinguish
uX and pX; yet, σ is not a Moore machine homomorphism, as the diagrams of (2.2) do not commute
when ﬁlled with σ.
A property that is stable under isomorphism, enjoyed by P∞A but not A∞is the following: the
diagram
X × P∞X
δX
/
πP∞X

P∞X
s

P∞X
s
/ X
(3.10)
commutes for P∞X but not for X; the same property enforced for uX would entail that ∀(x, x′) ∈
X.x = x′, a blatantly false statement.
7In every Cartesian closed category one obtains head : X+ →X from the family π1 : Xn →X of projections on the
ﬁrst coordinate, thanks to the universal property of X+ = P
n≥1 Xn.
8Indeed, the left vertical map is monic; for the sake of clarity we write as if K = Set, leaving the straightforward
element-free rephrasing to the conscientious readers.
11

Deﬁnition 3.14 (Soft machine, [Bur61]). (
) A Moore machine
d,s
E
is called soft if the following
square commutes:
A × E
d
/
πE

E
s

E
s
/ B
(3.11)
and in simple terms, it can be thought of as a Moore machine whose output map ‘skips a beat and then
starts computing’, as its terminal extension s∆(cf. Deﬁnition 2.7) is such that s∆(a::as, e) = s∆(as, e).
Clearly, soft Moore machines A _ B form a full subcategory sMre(A, B) of Mre(A, B); we denote
i : sMre →Mre the most obvious locally fully faithful inclusion 2-functor. More is true:
Lemma 3.15 (Soft machines cut other heads). (
) Let m : A _ B and n : B →C be a Mealy
machine and a Moore machine; if n is soft, then the composition Jn ⋄m is also soft.9 Translated in
graphical terms, the statement reads as follows, if we depict a soft Moore machine as
n
:
(3.12)
Proof. Immediate by inspection, using graphical reasoning (diagram (3.11) is easy to translate graph-
ically) and the deﬁnition of composition in Equation 2.9.
Remark 3.16. (
) The Moore machine
δX,σX
P∞X
in Construction 3.12 is soft.
Corollary 3.17. (
) Let
d,s
E
: A _ B be a generic Mealy machine; then, by virtue of Lemma 2.11,
the composition
δB,σB
P∞B
⋉AB
d,s
E
is a Moore machine, and by virtue of Lemma 3.15 it is soft. Hence,
the functor LpB : Mly(A, B) →Mre(A, B) factors through the obvious full inclusion iA : sMre →Mre.
Remark 3.18. Given that D1 is fully faithful, the unit of the adjunction D1 ⊣K1 is a natural
isomorphism; denote S1 := D1K1 the comodality (= idempotent comonad) obtained as a consequence.
Then the category of S1-coalgebras is isomorphic to the category of soft Moore machines.
An object of the form
δA,σA
P∞A is thus a universal soft Moore machine, in the sense speciﬁed by the
following coreﬂection theorem:
Theorem 3.19 (Decapitation as a right adjoint). (
) The coreﬂector of the comodality of Re-
mark 3.18 is naturally isomorphic to the postcomposition functor LpB = pB ⋉
.
Similarly, denote Sn = DnKn the comodality of the adjunction obtained from Equation 3.6. Then,
the category of S1-coalgebras is isomorphic to the full category snMre of n-soft Moore machines, if we
understand Deﬁnition 3.14 generalised as follows: the square
An × E
d(n) /
πE

E
s

E
s
/ B
(3.13)
9Warning: it is not true in general that the composition m ⋄Jn is soft.
12

commutes (cf. (3.6) for the deﬁnition of d(n)).
Evidently, sMre = s1Mre ⊆s2Mre and more in general, there is a chain of full inclusions
sMre  
/ s2Mre  
/ s3Mre  
/ . . .  
/ Mre
(3.14)
analogous to the ‘level’ ﬁltration of a topos (cf. [KL89; Ken+11; MM19; Roy21; Str00], especially in
the case of simplicial sets or geometric shape for higher structures indexed over the natural numbers).
As a ﬁnal remark, let’s record that the results of Remark 3.5 provide an extremely intrinsic char-
acterization for the object P∞X of Construction 3.12, and a comparison theorem for the operations
(
)e∗, (
)e+ of terminal extension of a Mealy machine and of a Moore machine expounded in Re-
mark 2.8.
Lemma 3.20. (
) The left square in (A.4) commutes (in the notation of (3.7), Mly(t, B) is the
obvious restriction functor induced by the ‘toList’ map t : A+ ,→A∗).
Proof. Immediate inspection.
Corollary 3.21 (Corollary of Remark 3.5). The functor Mly(t, B) sits in a triple of adjoints Mly(t, B) ⊣
(Bt)∗⊣Πt, where (Bt)∗is given pulling back a morphism

X
↓
BA+

along Bt : BA∗→BA+.
It follows from an easy inspection that Bt : [A∗, B] ∼= B × [A+, B] →[A+, B] coincides with the
projection map, and thus we can consider the right square in (A.4), obtained mating the left square,
and prove at once that
Proposition 3.22. The left square of (A.4) is exact, in the sense of [Gui80; Gui81; Pav91] or [Jac99,
1.8.9.(b)]. This is to say, θ in the right diagram ibid. is invertible.
Now let head : 1 →[A+, A] be the morphism in (3.9): from Remark 3.5 we get a functor head∗of
pullback along head (with both a left and a right adjoint), and an isomorphism between the Moore
machine pX and (At)∗(head).
4
Future plans
Among many, we are left with three questions:
• What is the ﬁltered colimit of the chain snMre →sn+1Mre, and are these inclusions coreﬂective
as well?
• Can we ﬁnd a representation for all Kn in terms of postcomposition with universal 1-cells? In
other words, can we ﬁnd the universal n-soft machine, perhaps adapting Construction 3.12?
• Theorem 3.10 and Theorem 3.19 characterize K0, K1 as postcomposition; but then D0, D1 are
left liftings in Mly: can we deduce something meaningful from this intrinsic characterization?10
10Observe that the existence of right liftings [Lor21, p. 2.1.3] can be ruled out by the fact that postcompositions do
not preserve colimits in general.
13

References
[B´en67]
J. B´enabou. “Introduction to bicategories”. In: Reports of the Midwest Category Seminar.
Berlin, Heidelberg: Springer Berlin Heidelberg, 1967, pp. 1–77. isbn: 978-3-540-35545-8.
[Bir+89]
G.J. Bird et al. “Flexible limits for 2-categories”. In: Journal of Pure and Applied Algebra
61.1 (1989), pp. 1–27.
[BK81]
R. Betti and S. Kasangian. “A quasi-universal realization of automata”. In: Universit`a
degli Studi di Trieste. Dipartimento di Scienze Matematiche (1981).
[Boc+23a]
G. Boccali et al. “Bicategories of automata, automata in bicategories”. 2023. arXiv: 2303.
03865 [math.CT].
[Boc+23b]
G. Boccali et al. “Completeness for categories of generalized automata”. 2023. arXiv:
2303.03867 [math.CT].
[Bor94a]
F. Borceux. Handbook of categorical algebra. 1. Vol. 50. Encyclopedia of Mathematics and
its Applications. Basic category theory. Cambridge University Press, Cambridge, 1994,
pp. xvi+345.
[Bor94b]
F. Borceux. Handbook of categorical algebra. 2. Vol. 51. Encyclopedia of Mathematics
and its Applications. Categories and structures. Cambridge University Press, Cambridge,
1994, pp. xviii+443.
[Boy07]
M. Boyarchenko. Associativity constraints in monoidal categories. 2007. url: http://
www.math.uchicago.edu/~may/TQFT/Boyarchenko%20on%20associativity.pdf.
[Bur61]
W. S. Burroughs. The Soft Machine. The Nova Trilogy. 182 pp. Olympia Press, 1961.
[Dav17]
A. Davydov. “Nuclei of categories with tensor products”. In: Theory Appl. Categ. 18.16
(2017), pp. 440–472. issn: 1201-561X.
[Ehr+74]
H. Ehrig et al. Universal theory of automata. A categorical approach. English. Teubner
Studienb¨ucher. Informatik. Stuttgart: B. G. Teubner., 1974. doi: 10.1007/978-3-322-
96644-5.
[Elg04]
J. Elgueta. “Cohomology and deformation theory of monoidal 2-categories I”. In: Advances
in Mathematics 182.2 (Mar. 2004), pp. 204–277. doi: 10.1016/s0001-8708(03)00078-1.
url: https://doi.org/10.1016/s0001-8708(03)00078-1.
[Fio06]
T.M. Fiore. Pseudo Limits, Biadjoints, And Pseudo Algebras: Categorical Foundations of
Conformal Field Theory. Memoirs AMS 860. American Mathematical Society, 2006. isbn:
0821839144; 9780821839140.
[Gra74]
J.W. Gray. Formal Category Theory: Adjointness for 2-Categories. Springer Berlin Hei-
delberg, 1974. doi: 10.1007/bfb0061280. url: https://doi.org/10.1007/bfb0061280.
[Gui74]
R. Guitart. “Remarques sur les machines et les structures”. In: Cahiers de Topologie et
G´eom´etrie Diﬀ´erentielle Cat´egoriques 15 (1974), pp. 113–144.
[Gui78]
R. Guitart. “Des machines aux bimodules”. Univ. Paris 7. 1978. url: http://rene.
guitart.pagesperso-orange.fr/textespublications/rg30.pdf.
[Gui80]
R. Guitart. “Relations et carr´es exacts”. In: Ann. Sci. Math. Qu´ebec 4.2 (1980), pp. 103–
125.
14

[Gui81]
R. Guitart. “Carr´es exacts et carr´es d´eductifs”. fre. In: Diagrammes 6 (1981), G1–G17.
url: http://eudml.org/doc/192983.
[Jac99]
B. Jacobs. Categorical Logic and Type Theory. SLFM 141. Elsevier, 1999. isbn: 9780444508539.
[Joh02]
P.T. Johnstone. Sketches of an Elephant: A Topos Theory Compendium. Vol. I. Oxford:
Oxford University Press, 2002. 1288 pp.
[Kel89]
G.M. Kelly. “Elementary observations on 2-categorical limits”. In: Bulletin of the Aus-
tralian Mathematical Society 39.2 (1989), 301–317. doi: 10.1017/S0004972700002781.
[Ken+11]
C. Kennett et al. “Levels in the toposes of simplicial sets and cubical sets”. In: Journal of
Pure and Applied Algebra 215.5 (May 2011), pp. 949–961. doi: 10.1016/j.jpaa.2010.
07.002. url: https://doi.org/10.1016/j.jpaa.2010.07.002.
[KKM00]
M. Kilp, U. Knauer, and A.V. Mikhalev. Monoids, Acts and Categories: With Applications
to Wreath Products and Graphs. A Handbook for Students and Researchers. de Gruyter,
2000.
[KL89]
G.M. Kelly and F.W. Lawvere. On the complete lattice of essential localizations. University
of Sydney. Department of Pure Mathematics, 1989.
[Koc08]
J. Kock. “Elementary remarks on units in monoidal categories”. In: Mathematical Pro-
ceedings of the Cambridge Philosophical Society 144.1 (Jan. 2008), pp. 53–76. doi: 10.
1017/s0305004107000679. url: https://doi.org/10.1017/s0305004107000679.
[Koc10]
J. Kock. “Weak identity arrows in higher categories”. In: International Mathematics Re-
search Papers (July 2010). doi: 10.1155/imrp/2006/69163. url: https://doi.org/
10.1155/imrp/2006/69163.
[KSW02]
P. Katis, N. Sabadini, and R.F.C. Walters. “Feedback, trace and ﬁxed-point semantics”.
en. In: RAIRO - Theoretical Informatics and Applications - Informatique Th´eorique et
Applications 36.2 (2002), pp. 181–194. doi: 10.1051/ita:2002009. url: http://www.
numdam.org/articles/10.1051/ita:2002009/.
[KSW97]
P. Katis, N. Sabadini, and R.F.C. Walters. “Bicategories of processes”. In: Journal of
Pure and Applied Algebra 115.2 (Feb. 1997), pp. 141–178. doi: 10.1016/s0022-4049(96)
00012-6. url: https://doi.org/10.1016/s0022-4049(96)00012-6.
[Lav+21]
E. Di Lavore et al. “A Canonical Algebra of Open Transition Systems”. In: Formal As-
pects of Component Software - 17th International Conference, FACS 2021, Virtual Event,
October 28-29, 2021, Proceedings. Ed. by Gwen Sala¨un and Anton Wijs. Vol. 13077. Lec-
ture Notes in Computer Science. Springer, 2021, pp. 63–81. doi: 10.1007/978-3-030-
90636-8\_4. url: https://doi.org/10.1007/978-3-030-90636-8\_4.
[Lor21]
F. Loregian. Coend Calculus. ﬁrst. Vol. 468. London Mathematical Society Lecture Note
Series. ISBN 9781108746120. Cambridge University Press, 2021.
[LR20]
F. Loregian and E. Riehl. “Categorical notions of ﬁbration”. In: Expositiones Mathe-
maticae 38.4 (Dec. 2020), pp. 496–514. doi: 10.1016/j.exmath.2019.02.004. url:
https://doi.org/10.1016/j.exmath.2019.02.004.
[LYH18]
Xuexing L., Yu Y., and Sen H. “A Graphical Calculus for Semi-Groupal Categories”. In:
Appl. Categor. Struct. 27.2 (2018), pp. 163–197. doi: 10.1007/s10485-018-9549-8.
15

[MBCB02]
M.-A. Moens, U. Berni-Canani, and F. Borceux. “On regular presheaves and regular semi-
categories”. en. In: Cahiers de Topologie et G´eom´etrie Diﬀ´erentielle Cat´egoriques 43.3
(2002), pp. 163–190. url: http://www.numdam.org/item/CTGDC_2002__43_3_163_0/.
[Mit72]
B. Mitchell. “The dominion of Isbell”. In: Transactions of the American Mathematical
Society 167.0 (1972), pp. 319–331. doi: 10.1090/s0002-9947-1972-0294441-0. url:
https://doi.org/10.1090/s0002-9947-1972-0294441-0.
[ML78]
S. Mac Lane. Categories for the Working Mathematician. Second. Vol. 5. Graduate Texts
in Mathematics. New York, NY: Springer-Verlag, New York, 1978, pp. xii+314. isbn:
0-387-98403-8. doi: 10.1007/978-1-4757-4721-8. (Visited on 05/05/2018).
[MM19]
M. Menni and F. Marmolejo. “Level ϵ”. In: Cahiers de Topologie et G´eom´etrie Dﬀ´erentielle
Cat´egoriques LX.4 (2019), pp. 450–477.
[Pav91]
D. Pavlovi´c. “Categorical interpolation: Descent and the Beck-Chevalley condition with-
out direct images”. In: Lecture Notes in Mathematics. Springer Berlin Heidelberg, 1991,
pp. 306–325. doi: 10.1007/bfb0084229. url: https://doi.org/10.1007/bfb0084229.
[Reu79]
C. Reutenauer. “Une topologie du mono¨ıde libre”. In: Semigroup Forum. Vol. 18. Springer.
1979, pp. 33–49.
[Rog21]
M. Rogers. Toposes of Monoid Actions. 2021. arXiv: 2112.10198 [math.CT].
[Roy21]
M. Roy. “The topos of ball complexes”. In: Reprints in Theoy and Applications of Cate-
gories 28 (2021), pp. 1–63.
[RSW98]
R. Rosebrugh, N. Sabadini, and R.F.C. Walters. “Minimal realization in bicategories of
automata”. In: Mathematical Structures in Computer Science 8.2 (1998), 93–116. doi:
10.1017/S0960129597002454.
[Sha08]
J. Shallit. A second course in formal languages and automata theory. en. Cambridge,
England: Cambridge University Press, Sept. 2008.
[Spi16]
D.I. Spivak. The steady states of coupled dynamical systems compose according to matrix
arithmetic. 2016. arXiv: 1512.00802 [math.DS].
[Str00]
R. Street. “The petit topos of globular sets”. In: Journal of Pure and Applied Algebra
154.1-3 (Dec. 2000), pp. 299–315. doi: 10.1016/s0022-4049(99)00183-8. url: https:
//doi.org/10.1016/s0022-4049(99)00183-8.
[Str72]
R. Street. “Two constructions on Lax functors”. en. In: Cahiers de topologie et g´eom´etrie
diﬀ´erentielle 13.3 (1972), pp. 217–264. url: http://www.numdam.org/item/CTGDC_
1972__13_3_217_0/.
[Str76]
R. Street. “Limits indexed by category-valued 2-functors”. In: Journal of Pure and Applied
Algebra 8.2 (1976), pp. 149–181. issn: 0022-4049. doi: http://dx.doi.org/10.1016/
0022-4049(76)90013-X. url: http://www.sciencedirect.com/science/article/
pii/002240497690013X.
[Str81]
R. Street. “Conspectus of variable categories”. In: Journal of Pure and Applied Algebra
21.3 (1981), pp. 307–338.
[Tie69]
M. Tierney. Categorical Constructions in Stable Homotopy Theory. Springer Berlin Hei-
delberg, 1969. doi: 10.1007/bfb0101425. url: https://doi.org/10.1007/bfb0101425.
16

A
Diagrams and Proofs
A.1
Diagrams
S0 × S0 × S0
⊗×S0

S0×⊗/
 α
S0 × S0
⊗

S0 × S0
⊗
/ S0
(A.1)
f ◦(g ◦(h ◦k)))
/
|
(f ◦g) ◦(h ◦k)
!
f ◦((g ◦h) ◦k)
(
((f ◦g) ◦h) ◦k
(f ◦(g ◦h)) ◦k
6
(A.2)
Mly(A, B)
u
/

A ×
/B
x

M
5
/

K/B

8
Alg(A ×
)
/ K
Alg(A ×
)
/ K
Mly(A, B)
u
/

A ×
/B
x

M
5
/

K/B

8
Alg(A ×
)
u
5
/ K
x
8
Alg(A ×
)
/ K
(A.3)
Mre(A, B)
(
)e∗/
D1

Mly(A∗, B)
Mly(t,B)

Mly(A, B)
(
)e+/ Mly(A+, B)
Mre(A, B)
(
)e∗/
O
K1
Mly(A∗, B)
O
(Bt)∗
T\
θ
Mly(A, B)
(
)e+/ Mly(A+, B)
(A.4)
A.2
Proofs
This is essentially the argument that appears in passing in [LYH18], extended from strict semigroupal/-
monoidal categories to non-strict ones.
Construction A.1. Let S be a semigroupal category with underlying category S0 and equipped with
a bifunctor
⊗
: S0 × S0 →S0 satisfying the associativity axiom. We deﬁne Su as follows:
• the underlying category (Su)0 is the coproduct S0 + 1, where 1 is the terminal category with
unique object ⊥;
• the ‘extended’ multiplication functor
⊗u
: (S0 + 1) × (S0 + 1) ∼= (S0 × S0) + (S0 × 1) + (1 × S0) + (1 × 1)
/ S0 + 1
(A.5)
17

is deﬁned piecewise as S ⊗u S′ = S ⊗S′ if S, S′ ∈S0 and ⊥⊗uS′ = S′, ⊥⊗u ⊥=⊥. (Notice in
particular that in case S had a monoidal unit, ⊥‘replaced’ it: we have added ⊥as a free unit.)
On morphisms we follow a similar strategy; there is only an identity in 1, and no morphism
⊥⇆S, so we just have to deﬁne f ⊗u g := f ⊗g and id⊥⊗u id⊥= id⊥, f ⊗u id⊥= f, id⊥⊗u g
are forced to be f and g respectively, if we want that ⊗u sends identities to identities, and that
is is bifunctorial. Thus, ⊥⊗u and ⊗u ⊥are strictly the identity functors of the category (Su)0.
Proof that the functor in Theorem 2.16 is a left adjoint. First of all let’s specify the last (straightfor-
ward) piece of structure needed to deﬁne the unitization.
• The associator has components αXY Z on objects of S0, and when either X, Y or Z is ⊥we
deﬁne it to be the appropriate identity morphism of the tensor of the remaining two objects.
Naturality of α is ensured by these choices. This also ensures that the pentagon axiom for 4
objects X, Y, Z, W trivially holds either because X, Y, Z, W are all in S0 (and thus the pentagon
axiom is true in the semigroupal structure of S0) or because the pentagon is made of identities.
• The last bit of structure that we have to assess is the ‘triangle axiom’ for a monoidal structure:
the triangle
X ⊗u (⊥⊗uY )
αX⊥Y
/
'
(X⊗u ⊥) ⊗u Y
w
X ⊗u Y
(A.6)
must commute as it is composed by identities, and reasoning with a similarly straightforward
case analysis, we conclude it does.
We have exhibited a construction for the unitization of a semigroupal category S; we still have to prove
that this is a functor (but this is obvious: each semigroupal functor H : S →S′ induces a monoidal
functor coinciding with H on S0 and sending ⊥S to ⊥S′), and its universal property. For the latter,
we have to check that there is an isomorphism
SgCat(S, U M) ∼= MonCat(Su, M)
(A.7)
between the category of strong semigroupal functors S →U M into a monoidal category, and the
category of strong monoidal functors Su →M, when both categories are equipped with semigroupal
and monoidal natural transformations respectively.
At the level of the underlying categories, ( )u acts as the ‘Maybe’ functor, and M0 is a pointed
object in Cat (by the monoidal unit, IM : 1 →M) so that H : S →U M induces a unique functor
ˆH : S0+1 →M0; this functor is now preserving the tensor product on S0 (because H was semigroupal
to start with), and it is forced by the universal property of ‘Maybe’ to send ⊥into IM, so strictly
speaking it becomes a normal strong monoidal functor (=strictly preserving the identity).
Proof of Theorem 2.16. Let S = (S0,
◦) be a semibicategory as in Deﬁnition 2.15; deﬁne F S as
follows:
• (F S)0 is the same class of objects of S;
• for each X ∈S0, we apply to the category S(X, X) the construction of A.1; thus, each semi-
groupal category S(X, X) is unitized into S(X, X)u.
18

• the composition functors are deﬁned as in S when X, Y, Z are such that neither Y = Z or X = Y ,
which means that in such case we take the same
◦XY Z
: S(Y, Z) × S(X, Y )
/ S(X, Z)
(A.8)
as composition maps. When X = Y instead we deﬁne
◦u,XXZ
: S(X, Z) × (S(X, X) + 1) ∼= S(X, Z) × S(X, X) + S(Y, Z) × 1
/ S(X, Z)
(A.9)
via the coproduct map of
◦XXZ
and the right unitor of (Cat, ×). We act similarly to deﬁne
◦u,XY Y
: (S(Y, Y ) + 1) × S(X, Y ) ∼= S(Y, Y ) × S(X, Y ) + 1 × S(X, Y )
/ S(X, Y )
(A.10)
using the coproduct map of
◦XY Y
and the left unitor of (Cat, ×).
Clearly, all
◦XY Z
so deﬁned are functors.
• The components of the associator αu when either f, g or h is the ‘dummy identity’ in a S(X, X)
reduce to the identity 2-cells of the remaining two objects, considering how we deﬁned the com-
position operation; on all other components, αu = α. Again, these choices ensure the naturality
of αu.
• Clearly, any strong semigroupal functor H : S →T induces a strong monoidal unctor Hu : Su →
Tu, that coincides with H on S ,→Su.
It remains to show the universal property. A pseudofunctor H : S →B from a semibicategory to a
bicategory must induce a pseudofunctor Su →T: at the level of objects nothing has changed; each
hom-functor
HXY : S(X, Y )
/ B(HX, HY )
(A.11)
with X ̸= Y is also unchanged, and since each B(HX, HX) is a monoidal category (hence, in particular,
a pointed category) the functor H extends to Hu
XX : S(X, X)u →B(HX, HX); it is easily seen that
this extension is to a strong monoidal functor.
19

