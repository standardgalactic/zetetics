THIS IS THE (CO)END, MY ONLY (CO)FRIEND
FOSCO LOREGIAN
Abstract. The present note is a recollection of the most important and useful
applications of co/end calculus. Ends and coends are particular universal
objects in a category, deﬁned for a functor T : Cop × C →D. These objects
behave in a similar way to limits and colimits of a functor, but they come
equipped with a richer calculus (this word informally denotes a series of rules
of manipulation that give theorems as formal consequences, similar to the
way one can formally prove the RAPL theorem in classical category theory
–the fact that right adjoints preserve limits). We put a considerable eﬀort in
making arguments and constructions rather explicit and elementary, asking
the reader only a minimal knowledge in basic category theory: after having
given a series of preliminary deﬁnitions, we characterize co/ends as particular
co/limits; then we derive a number of results directly from this characterization.
The subsequent sections discuss the most interesting examples where co/end
calculus serves as a powerful abstract way to do explicit computations in
diverse ﬁelds like Algebra, Algebraic Topology and Category Theory as well
as some generalizations to higher dimensional category theory. We mostly
re-enact a lot of classical results, inside and outside pure category theory, using
co/end-fu. The note is scattered with exercises; solving them, the reader will
become a master in co/end-fu (端楔術; literally “the art [of handling] terminal
wedges”).
Contents
Introduction.
1
1.
Dinaturality, extranaturality, co/wedges.
5
2.
Yoneda reduction, Kan extensions
16
3.
The nerve and realization paradigm.
20
4.
Weighted limits.
30
5.
The theory of relators.
40
6.
Operads using coends.
50
7.
Higher dimensional coend calculus.
57
References
81
Introduction.
The purpose of the present survey is to familiarize its readers with the part of
category theory that is called co/end calculus, and aims to be a fairly complete
Key words and phrases.
end, coend, dinatural transformation, operad, profunctor, relator,
Kan extension, weighted limit, nerve and realization, promonoidal category, Yoneda structure.
1
arXiv:1501.02503v4  [math.CT]  4 Dec 2017

2
FOSCO LOREGIAN
account of its numerous application; there is no claim of originality in the ideas
you’re about to see: we put a special care in acknowledging carefully, where possible,
each of the countless authors whose work was a source of inspiration in compiling
this note. Among these, every erroneous or missing attribution must be ascribed to
the mere ignorance of the author.
The original deﬁnition of a co/end for a functor T : Cop × C →D, as a universal
object
´
T(c, c) ∈D satisfying a certain property was apparently given by N. Yoneda
(who used an integral sign –see §1.2– to denote them for the ﬁrst time, even if his
notation for coends was reversed: today,
´
c T is an end for T, and
´ c T a coend,
whereas Yoneda writes
´
c T for the coend, and
´ ∗
c T for the end), and then reﬁned
by Mac Lane in his [ML70] with applications to the ‘tensor product’ of two functors,
that generalizes the well-known description of M ⊗R N as a coequalizer for MR
and RN right and left R-modules.
We brieﬂy outline the content of the note. The introductory material appearing
in section the ﬁrst section is the most classical and comes almost verbatim from the
standard reference “categories work”, [ML98]; the nerve-realization formalism is a
patchwork of various results, scattered in the (algebraic) topology literature: even if
the attitude is changing, few topology books mention the fact that the geometric
realization of a simplicial set is a coend. The formal approach that co/end calculus
permits reduces the complexity of many arguments that one is often forced to
check by hand. The reformulation of operads using coends comes verbatim from
[Kel05]; the content of this paper was recently (April 2017) analyzed in an episode
of the ‘Kan extension seminar ii’, and posted on the n-café. For what concerns the
chapter discussing the theory of relators (or profunctors, or distributors –following
J. Bénabou–, or correspondences, our choice is gently advised by A. Joyal) the
author immensely proﬁted from some notes taken by T. Streicher, [Béner]; during
May 2016 he had the pleasant opportunity to meet Thomas, and he fell in love
with his mathematical style, near to the craftsmanship of certain watchmakers,
but also vital and passionate.Chapter 4 on weighted co/limits is taken almost
verbatim from [Rie14, II.7]: the theory is however fairly classical, and became a
milestone of enriched category theory. Emily’s book is indisputably a complete
and modern account of how the theory of weighted co/limits innervates modern
homotopy theory: only a couple of implicit conceptual dependencies that appear as
exercises there have been promoted here to explicit computations; the fact that we
follow so faithfully her exposition must be interpreted not as an act of plagiarism,
but instead ad an implicit invitation to get acquainted with such a wonderful
book. A subsequent section discusses co/end calculus in higher category theory,
introducing lax co/ends in 2-categories [Boz77, Boz75, Boz80], homotopy co/ends
[DF78, Isa09] and (∞, 1)-co/ends in various models: ﬁrst –albeit very brieﬂy– in
Joyal-Lurie’s ∞-categories (following [GHN15]), and then in simplicially enriched
categories (mainly following [CP97] and the general theory for enriched co/ends
in [Dub70, Gra]). The relation between co/end calculus and homotopy co/limits
is discussed, and a(n already) classical result [Gam10] is presented to unify the
two constructions classically given for the homotopy co/limit of a diagram; the
compatibility of the co/end operation as a Quillen functor
´
: Cat(Cop × C, D) →D

ENDS
3
is discussed when D is a suﬃciently nice model category (our main reference to
prove 7.27, i.e. that
´
is often a Quillen functor, is [Lur09, A.2.9.28]). Hence, the
value –if any– of this work lies, rather than in the originality of the discussion, in
its strong will to be a simple and clear, yet exhaustive, account of the many reasons
why every mathematician (whose work has non-empty intersection with category
theory) should know what co/ends are and how well they work.
Our aim is then threefold:
• Fill a gap in the existing literature on category theory: the vast amount
of written and video-graphic material on category theory was lacking a
monographic account of this relatively big piece of basic theory; the author
hopes the present document serves (at least partly) this purpose.
• Serve as a starting point for beginners: the inexperienced reader (either the
beginner in the study of category theory, or the ones who exhausted the
“primary” topics of their education) can hopefully ﬁnd in this note a guide
to familiarize with an extraordinarily valuable tool-set producing a large
number of sterile1 proofs, most of which are “formally formal” (although
maybe not “trivially trivial”) strings of natural isomorphisms.
• Finally, it is the author’s ﬁrm opinion that to a master in co/end-fu category
theory seems easier and funnier: but even several people inside category
theory underestimate the descriptive power of this art.
We hope this
document could help even some experienced mathematicians working nearby
category theory, that are never been exposed to this beautiful machinery,
and despise it because they have never seen its beauty.
There are few technical points to keep in mind to become a master in co/end-fu.
After the ﬁrst examples, the keen reader will certainly prefer to re-write most of the
proofs in the silence of their room, and we warmly invite them to do so; martial
arts (or, if you refuse the analogy, integration rules) can be mastered only through
endless (!) imitation of a few basic techniques.Maybe it’s not a coincidence that
the one you are about to see is another integral calculus to be learned by means of
examples and exercises. The analogy between coends, denoted as
´
T(c, c), could be
pushed further, but we refrain to do it, lest you think we are arrogantly claiming to
be able to reduce the subtle art of integration to naive category theory. Nevertheless,
we can’t help but mention several insightful (formal and informal) analogies between
mathematical analysis and co/end calculus: these are scattered throughout all the
discussion, and we denote them with the special symbol
.2 Whenever it appears,
we advise the reader feeling uncomfortable with a certain dose of hand-waving and
categorical juggling to raise their eyes and skip the paragraph.
1We take the word sterile, from [Lei], as “Sterile doesn’t only mean infertile or unproductive.
It’s also what you want surgical instruments to be: clean, uncontaminated, disease-free.”
2The author learned this funny notation during his freshman year, when he was handed [DM96]
for the ﬁrst time; the “small-eyes” notation accompanied me throughout all my mathematical life
until today. In [DM96] this notation has the following meaning: various facial expressions explain
the diﬀerent ways the reader is supposed to behave when they meet them:
, abstract material;
, standard exercises;
, material that you are supposed to meditate a lot;
, shattering
exercises.

4
FOSCO LOREGIAN
Foundations.
The main foundational convention we adopt throughout the paper
is the assumption [GV72] that every set lies in a suitable Grothendieck universe.
We implicitly ﬁx such an universe
Ω
, whose elements are termed sets; categories are
hence always considered to be small with respect to some universe: in particular
we choose to adopt, whenever necessary, the so-called two-universe convention,
where we postulate the existence of a universe
Ω
+ ∋
Ω
in which all the non-
Ω
-small
categories live. This rather common choice has nevertheless subtle consequences: as
it is recorded in [Low13] the existence and good behaviour of some co/limits and Kan
extensions critically depends from the particular choice of a universe. We somehow
follow a common tradition in avoiding any kind of reference to these problems,
also because at least in some situations it is still possible to sweep this problem
under suﬃciently big a carpet, appealing suitable “boundedness” conditions. There
are in fact very few places where this remark could become a real issue (generally
speaking, a problem arises anytime you want to perform a Kan extension along a
functor deﬁned over a non small category).
Notation.
Having to deal with a large amount of diﬀerent sources, we abandoned
the hope to maintain a choice of notation which is at the same time expressive
and simple. Several kinds of categorical structures (categories, and often also 2-
categories and bicategories, as well as instances of higher categories) will be denoted
as boldface letters C, D, . . . ; the context, or mere common sense, always clariﬁes for
which value of n we are doing n-category theory. Functors between categories are
denoted as capital Latin letters like F, G, H, K and suchlike (although there can
be little deviations to this rule, like for example in §5); the category of functors
C →D between two categories is almost always denoted as [C, D] (or more rarely
Cat(C, D)); bC is a shorthand for the category [Cop, Sets] of presheaves on C; the
canonical hom-bifunctor of a category C sending (c, c′) to the set of all arrows
hom(c, c′) ⊆hom(C) is almost always denoted as C(
,
): Cop × C →Sets, and
the symbols
,
are used as placeholders for the “generic argument” of a functor
or bifunctor; morphisms in the category Cat(C, D) (i.e. natural transformations
between functors) are often written in Greek, or Latin lowercase alphabet, and
collected in the set Nat(F, G) = [C, D](F, G).
The simplex category ∆
∆
∆is the
topologist’s delta (opposed to the algebraist’s delta ∆
∆
∆+ which has an additional initial
object [−1] ≜∅), having objects nonempty ﬁnite ordinals [n] ≜{0 < 1 · · · < n};
we denote ∆[n] the representable presheaf on [n] ∈∆
∆
∆, i.e. the image of [n] under
the Yoneda embedding of ∆
∆
∆in the category sSet = b∆
∆
∆of simplicial sets. More
generally, we indicate the Yoneda embedding of a category C into its presheaf
category with よC –or simply よ–, i.e. with the hiragana symbol for “yo”; this
choice comes from [LB15], with which the author shares a similar taste for peculiar
notation. Whenever there is an adjunction F ⊣G between functors, the arrow
Fa →b in the codomain of F and the corresponding arrow a →Gb in its domain
are called mates or adjuncts; so, the notation “the mate/adjunct of f : Fa →b”
means “the unique arrow g: a →Gb determined by f”.
Prerequisites.
We ask the reader for a minimum knowledge of basic category
theory: in particular we feel free to assume that the reader is extremely ﬂuent

ENDS
5
with all the basic deﬁnitions (category, functor, natural transformation, the slice
category C/c of arrows x →c and its dual c/C, comma categories and their
basic properties, presheaves and their basic properties. . . ), the essential features of
co/limits, adjoint functors (especially the identities relating unit and counit of an
adjunction F ⊣G), the validity and the consequences of the Yoneda lemma, and
basic enriched category theory (the deﬁnition, and a few basic results on monoidal
categories). The less elementary results and theorems are always sketched or the
reader is precisely referred to precise pointers in the literature on the subject;
comprehensive monographs on category theory always suﬃce to cover any missing
spot we leave, and our choices for the basic terminology are standard enough to
facilitate the reader. Each section ﬁnishes with a set of exercises: some of them are
easy, while others assume much more meditation.
Acknowledgements.
In some sense, I am not the only author of this note, and
for sure the less entitled to survey on whatever topic. I would like to thank T.
Trimble, E. Rivas and A. Mazel-Gee, A. Joyal, the c&p colleagues and friends A.
Gagna, E. Lanari, G. Mossa, F. Genovese, M. Vergura, I. Di Liberti, S. Ariotta,
G. Ronchi, D. Fiorenza, a friend and an advisor I will never be able to refund
for his constant support, N. Gambino, that oﬀered me the opportunity to discuss
the content of this note in front of his students in Leeds; in just a few days I
realized years and years of meditation were still insuﬃcient to teach this subject. L.
accompanied me there, making me sure that she’s the best mate for a much longer
trip. S., P., G., C. opened me their doors when I was frail and broken-hearted.
Grazie.
1. Dinaturality, extranaturality, co/wedges.
Los idealistas arguyen que las salas hexagonales son una
forma necesaria del espacio absoluto o, por lo menos, de
nuestra intuición del espacio.
J.L. Borges, La biblioteca de Babel.
This ﬁrst section starts with a simple example. Let Sets denote the category
of sets and functions, considered with its natural cartesian closed structure: this
means we have a bijection of sets
Sets(A × B, C) ∼= Sets(A, CB)
(1)
natural in all three arguments, where CB is the set of all functions B →C, and
that this bijection is natural in each argument. The adjunction
× B ⊣(
)B has
a counit, which is a natural transformation
ϵX,(B) : XB × B →X
(2)
where the codomain can be considered “mutely depending on the variable B”.
The family of functions {ϵX : XB ×B →X | X ∈Sets} is natural in the classical
sense in the variable X; as for the variable B, the most we can say is that for each

6
FOSCO LOREGIAN
function f ∈Sets(B, B′) the following square is commutative:
XB′ × B
Xf ×B /
XB′×f 
XB × B
ϵ

XB′ × B′
ϵ
/ X
(3)
This relation however doesn’t remind naturality so much. We address the reader
also to Exercise 2 at the end of [ML98, IV.7] and our Exercise 1.E1: it is easy to
show that this commutativity is what remains when the naturality in B of the
adjunction Sets(A × B, C) ∼= Sets(A, CB) is imposed.
It would seem that there’s no way to frame the diagram above in the usual context
of naturality for a transformation of functors. Fortunately, a suitable generalization
of naturality (a “super-naturality” condition), encoding the above commutativity,
is available to describe this and other similar phenomena.
Deﬁnition 1.1 [Dinatural Transformation]: Given two functors P, Q: Cop×C →
D a dinatural transformation, depicted as an arrow α: P
..−→Q, consists of a family
of arrows {αc : P(c, c) →Q(c, c) | c ∈C} such that for any f : c →c′ the following
hexagonal diagram commutes
P(c′, c)
P (f,c) /
P (c′,f)

P(c, c)
αc
/ Q(c, c)
Q(c,f)

P(c′, c′)
αc′ / Q(c′, c′)
Q(f,c′)
/ Q(c, c′)
(4)
Deﬁnition 1.2 [Wedge for a functor]: Let P : Cop × C →D; a wedge for P is a
dinatural transformation ∆d
..−→P from the constant functor on the object d ∈D
(we often denote it simply by d: Cop × C →D), deﬁned by the rules (c, c′) 7→d,
(f, f ′) 7→idd.
Wedges for a given functor P form the class of objects of a category wd(P); see
Exercise 1.E6.
Deﬁnition 1.3 [End of a functor]: The end of a functor F : Cop ×C →D consists
of a terminal wedge end(F)
..−→F; the constant end(F) ∈D itself is often termed
the end of the functor.

ENDS
7
Spelled out explicitly, the universality requirement means that for any other
wedge β : d
..−→F the diagram
d
h
#
βc
#
βc′
#
end(F)
ωc
/
ωc′

F(c, c)
F (1,f)

c
f

F(c′, c′)
F (f,1)
/ F(c, c′)
c′
(5)
commutes for a unique arrow h: d →end(F), for any arrow f : c →c′.
Remark 1.4 [Functoriality of ends]: As it is well-known, uniqueness require-
ments imply functoriality: given a natural transformation η: F ⇒F ′ there is an
induced arrow end(η): end(F) →end(F ′) between their ends, as depicted in the
diagram
end(F ′)
/

F ′(c′, c′)

end(F)
8
/

F(c′, c′)

8
F ′(c, c)
/ F ′(c, c′)
F(c, c)
8
/ F(c, c′)
8
(6)
This implies that taking sending a functor T into its end end(T) is a (covariant)
functor [Cop × C, D] →D.
Remark 1.5 [Coends]: Exercise 1.E5 provides us with the dual notion of a coend
as an initial cowedge for P; the reader is invited to ﬁll in the details. As a general
rule, when dealing with dualizable statements we will not spell out explicitly such
dualizations, because they are almost always quite straightforward.
1.1. Extranaturality.
A slightly less general, but better behaved notion of super-
naturality (we say “better behaved” since it admits a graphical calculus translating
commutativity-checking into checking that certain string diagrams can be deformed
one into the other), that allows again to deﬁne co/wedges, is available: this notion
is called extra-naturality and it was introduced in [EK66].
Deﬁnition 1.6 [Extranatural transformation]: Let P, Q be functors
P : A × Bop × B →D
Q: A × Cop × C →D.
An extranatural transformation α: P
..−→Q consist of a collection of arrows

αabc : P(a, b, b) −→Q(a, c, c)
	
(7)

8
FOSCO LOREGIAN
indexed by triples of object in A × B × C such that the following hexagonal diagram
commutes for every f : a →a′, g: b →b′, h: c →c′, all taken in their suitable
domains:
P(a, b′, b)
P (f,b′,g) /
P (a,g,b)

P(a′, b′, b′)
αa′b′c
/ Q(a′, c, c)
Q(a′,c,h)

P(a, b, b)
αabc′
/ Q(a, c′, c′)
Q(f,h,c′)
/ Q(a′, c, c′);
(8)
Notice how this commutative hexagon can be equivalently described as the
juxtaposition of three distinguished commutative squares, depicted in [EK66]: the
three can be obtained letting respectively f and h, f and g, or g and h be identities
in the former diagram, which collapses to
P(a, b, b)
P (f,b,b)/
αabc

P(a′, b, b)
αa′bc

Q(a, c, c)
Q(f,c,c)
/ Q(a′, c, c)
P(a, b′, b)
P (a,b′,g)/
P (a,g,b)

P(a, b′, b′)
αab′c

P(a, b, b)
αabc / Q(a, c, c)
P(a, b, b)
αabc /
αabc′

Q(a, c, c)
Q(a,c,h)

Q(a, c′, c′)
Q(a,h,c′)
/ Q(a, c, c′)
(9)
Remark 1.7 : We can again deﬁne co/wedges in this setting: if B = C and in
P(a, b, b) →Q(a, c, c) the functor P is the constant functor on d ∈D, and
Q(a, c, c) = ¯Q(c, c) is mute in a, we get a wedge condition for d
..−→Q; dually
we obtain a cowedge condition for P(b, b) →Q(a, b, b) ≡d′ for all a, b, c.
It’s worth to notice that a extranatural transformation contains strictly more
information than a dinatural, since in Def. 1.6 we are given arrows F(b, b)
αbb′
−−→
G(b′, b′) that form a cowedge in b for each b′, and a wedge in b′ for all b ∈B.
Both notions give rise to the same notion of co/end, deﬁned as a universal
co/wedge for a bifunctor F : Cop × C →D. The main reason we should prefer
extranaturality is that being less general (see Exercise 1.E8) they give rise to a fairly
rich graphical calculus and behave better under composition(see Exercise 1.E7).
1.2. The integral notation for co/ends.
A suggestive and useful notation
alternative to the anonymous one “co/end(F)” is due to N. Yoneda, which in
[Yon60] introduces most of the notions we are dealing with, in the setting of Ab-
enriched functors Cop × C →Ab: the integral notation denotes the end of a functor
F ∈[Cop × C, D] as a “subscripted-integral”
´
c F(c, c), and the coend coend(F) as
the “superscripted-integral”
´ c F(c, c).
From now on we will systematically adopt this notation to denote the universal
co/wedge co/end(F) or, following a well-established abuse of notation, the object
itself; when the domain of c has to be made explicit, we will also employ more
pedantic variants of
´
c F and
´ c F like
ˆ
c∈C
F(c, c),
ˆ c∈C
F(c, c).
(10)

ENDS
9
Remark 1.8 : One should be aware that Yoneda reverses this deﬁnition since he
calls integrations our coends, which he denotes as
´
c∈C F(c, c), and cointegrations
our ends, which he denotes
´ ∗
c∈C F(c, c). Modern notation complies with the current
use.
Remark 1.9 : Properties of co/ends acquire a particularly suggestive ﬂavour when
written in this notation:
1) Functoriality (the B-rule for integrals or the freshman’s dream that the
integral of a product is the product of integrals): the unique arrow end(η)
induced by a natural transformation η: F ⇒G between F, G ∈[Cop ×C, D]
can be written as
´
η:
´
F →
´
G, and uniqueness of this induced arrow
entails that
´
(η ◦σ) =
´
η ◦
´
σ.
2) The Fubini theorem for ends, which ﬁrst appeared as equation (4.0.1)
of [Yon60]: given a functor F : Cop × C × Eop × E →D, we can form
the end
´
c F(c, c,
,
) obtaining a functor Eop × E →D whose end is
´
e
´
c F(c, c, e, e) ∈D; we can also form the ends
´
c
´
e F(c, c, e, e) ∈D and
´
(c,e) F(c, c, e, e) identifying Cop × C × Eop × E with (C × E)op × (C × E).
Fubini’s theorem for ends states that there is a canonical isomorphism
between the three:
ˆ
(c,e)
F(c, c, e, e) ∼=
ˆ
e
ˆ
c
F(c, c, e, e) ∼=
ˆ
c
ˆ
e
F(c, c, e, e)
(11)
Remark 1.10 : In some sense, the Fubini rule for coends seems a rather weak analogy
allowing to compare integrals and coends; there is no doubt that the following
passage ([ML98, IX.5])
[. . . ] the “variable of integration” c [in
´
c F] appears twice under
the integral sign (once contravariant, once covariant) and is “bound”
by the integral sign, in that the result no longer depends on c and
so is unchanged if c is replaced by any other letter standing for an
object of the category C.
motivates this notation, and yet the analogy itself seems to be too elusive to justify.
Although the author prefers to abstain from any further investigation, having no
chance to give a valid (or rather, formal) explanation of the integral notation, it
is nevertheless impossible to underestimate the evocative power of this convenient
shorthand. The subsequent sections collect several examples of this: among many,
the eager reader can see Exercise 1.E11 or 2.6.
1.3. Co/ends as co/limits.
A general tenet of elementary category theory is
that you can always characterize a universal construction as an element of the triad
universal object - limit - adjoint - representative of a functor
and there are simple explicit ways to translate between these descriptions. The
formalism of co/ends makes no exception: the scope of the following subsection is to
characterize, if it exists, the co/end of a functor F : Cop × C →D as a co/limit over
a suitable diagram F (hopefully obtained from a universal construction F 7→F),
and consequently as the co/equalizer of a single pair of arrows.

10
FOSCO LOREGIAN
Remark 1.11 : Given F : Cop × C →D and a wedge τ : d
..−→F, we can build the
following commutative diagram
F(c, c)
F (c,f)
/ F(c, c′)
F (c,g)

d
τc
8
τgf
0
τc′
/
τc′′

F(c′, c′)

F (f,c′)
7
F(c, c′′)
F(c′′, c′′)
F (g,c′′)
/ F(c′, c′′)
F (f,c′′)
7
(12)
where c
f−→c′
g−→c′′ are two arbitrarily chosen, but ﬁxed, arrows in C. From this
commutativity we deduce the following relations:
τgf = F(gf, c′′) ◦τc′′ = F(c, gf) ◦τc
= F(f, c′′) ◦F(g, c′′) ◦τc′′ = F(f, c′′) ◦τg
= F(c, g) ◦F(c, f) ◦τc = F(c, g) ◦τf.
where τf, τg are the common values F(f, c′)τc′ = F(c, f)τc and F(c′, g)τc′ =
F(g, c′′)τc′′ respectively, τgf is the common value F(c, g)τf = F(f, c′′)τg.
These relations imply that there is a link between co/wedges and co/cones,
encoded in the following deﬁnition.
Deﬁnition 1.12 [The twisted arrow category of C]: For every category C we
deﬁne tw(C), the category of twisted arrows in C as follows:
• Ob(tw(C)) = hom(C) (of course, this will not be
Ω
-small if C was only
Ω
+-small);
• Given f : c →c′, g: d →d′ a morphism f →g is given by a pair of arrows
(h: d →c, k: c′ →d′), such that the obvious square commutes (asking that
the arrow between domains is reversed is not a mistake).
Endowed with the obvious rules for composition and identity, tw(C) is easily
seen to be a category, and now we can ﬁnd a functor
Fun(Cop × C, D)
/ Fun(tw(C), D)
(13)
deﬁned sending F to the functor F : tw(C) →D: f 7→F(src(f), trg(f)); it is
extremely easy now to check that bifunctoriality for F exactly corresponds to
functoriality for F, but there is more.
Remark 1.13 : The family {τf}f∈hom(C) constructed before is a cone for the functor
F, and conversely any such cone determines a wedge for F, given by {τc ≜τidc}c∈C.
Again, a morphism of cones maps to a morphism between the corresponding wedges,
and conversely any morphism between wedges induces a morphism between the
corresponding cones; these operations are mutually inverse and form an equivalence
between the category cn(F) of cones for F and the category wd(F) of wedges for
F (see Exercise 1.E6).

ENDS
11
Equivalences of categories obviously respect initial/terminal objects, and since
co/limits are initial/terminal objects in the category of co/cones, and co/ends are
initial/terminal objects in the category of co/wedges, we obtain that3
ˆ
c
F ∼= lim
←−
tw(C)
F;
ˆ c
F ∼=
lim
−→
tw(Cop)op
F
(14)
Remark 1.14 : Co/limits in a category exist whenever the category has co/products
and equalizers. So we would expect a characterization of co/ends in terms of these
simpler pieces; such a characterization exists, and it turns out to be extremely
useful in explicit computations (see for example our Remark 5.11 and the argument
therein).
In fact it is rather easy to extract from the bare universal property that
´
c F(c, c) ∼= eq
 Y
c∈C
F(c, c)
F ∗/
F∗
/
Y
ϕ: c→c′
F(c, c′)


(15)
must be an equalizer, where the product over ϕ: c →c′ can be expressed as a
double product (over the objects c, c′ ∈C, and over the arrows ϕ between these two
ﬁxed objects), and the arrows F ∗, F∗are easily obtained from the arrows whose
(ϕ, c, c′)-components are (respectively) F(ϕ, c′) and F(c, ϕ).
It is useful to stress that this characterization is compatible with the description
of a co/limit as a co/equalizer, when F is mute in one variable. From this we deduce
a diﬀerent argument showing that the co/end of a mute functor coincides with its
co/limit.
Deﬁnition 1.15 : There is an obvious deﬁnition of preservation of co/ends from their
description as co/limits, which reduces to the preservation of the particular kind of
co/limit involved in the deﬁnition of end(F) and coend(F).
This remark entails easily that
Theorem 1.16 : Every co/continuous functor F : D →E preserves every co/end that
exists in D: if T : Cop × C →D has a co/end
´ /c
c
T(c, c), then
F
 ´ /c
c
T(c, c)

∼=
´ /c
c
FT(c, c)
(16)
in the obvious meaning that the two objects are canonically isomorphic, since they
have the same universal property.
As a particular example of this, we have
Corollary 1.17 [The hom functor commutes with integrals]: Continuity of
the hom bifunctor C(
,
): Cop×C →Sets gives its co/end preservation properties:
3Notice that the colimit is taken over the category twop(C), the opposite of tw(Cop): an
object of twop(C) is an arrow f : c′ →c in Cop, and a morphism from f : c →c′ to g : d →d′ is a
commutative square (u, v) such that vgu = f.

12
FOSCO LOREGIAN
for every c ∈C and F : Xop × X →C we have canonical isomorphisms
C
 ˆ x
F(x, x), c

∼=
ˆ
x
C(F(x, x), c)
C

c,
ˆ
x
F(x, x)

∼=
ˆ
x
C(c, F(x, x))
1.4. Natural transformations as ends.
A basic example exploiting the whole
machinery introduced so far is the proof that the set of natural transformations
between two functors F, G: C →D can be characterized as an end:
Theorem 1.18 : Given functors F, G: C →D between small categories we have the
canonical isomorphism of sets
Nat(F, G) ∼=
ˆ
c
D(Fc, Gc).
(17)
Proof. Giving a wedge τc : Y →D(Fc, Gc) consists in giving a function y 7→
τc,y : Fc →Gc, which is natural in c ∈C (this is simply a rephrasing of the wedge
condition):
G(f) ◦τc,y = τc′,y ◦F(f)
(18)
for any f : c →c′; this means that there exists a unique way to close the diagram
Y
τc/
h
)
D(Fc, Gc)
Nat(F, G)
O
(19)
with a function sending y 7→τ
,y ∈Q
c∈C D(Fc, Gc), and where Nat(F, G) →
D(Fc, Gc) is the wedge sending a natural transformation to its c-component; the
diagram commutes for a single h: Y →Nat(F, G), and this is precisely the desired
universal property for Nat(F, G) to be
´
c D(Fc, Gc).
□
Remark 1.19 : A suggestive way to express naturality as a “closure” condition is
given in [Yon60, 4.1.1], where for an Ab-enriched functor F : Cop ×C →Ab between
suitably complete Ab-categories, one can prove that Nat(F, G) = ker δ, for a suitable
map δ deﬁned among Ab(Fx, Gx) ⊕Ab(Fy, Gy) and Ab(Fy, Gy). See Exercise
1.E16 for more on this.
After this, we can embark in more sophisticated and pervasive examples. In
particular, the following section is the gist of the paper, demonstrating the power
of co/end calculus to prove highly technical and involved results by means of
abstract-nonsense only.

ENDS
13
E1 Let {εX : XA × A →X | X, A ∈Sets} be the counit of the cartesian closed structure in
Sets. Show that for each f ∈Sets(B, B′) the following square is commutative:
XB′ × B
Xf ×B /
XB′ ×f 
XB × B
ϵ

XB′ × B′
ϵ
/ X
(20)
E2 A dinatural transformation serves to deﬁne natural transformations between functors
having the same co/domain but diﬀerent variance; try to do this.
E3 Show with an example that dinatural transformations α: P
..
−→Q, β : Q
..
−→R cannot
be composed in general.
Nevertheless, there exists a “composition” of a dinatural
α: P
..
−→Q with a natural η : P ′ →P which is again dinatural P ′
..
−→Q, as well as a
composition P
..
−→Q →Q′ (hint: the appropriate diagram results as the pasting of a
dinaturality hexagon and two naturality squares).
E4 What is the end of the constant functor d : Cop × C →D? What is its coend?
E5 State the deﬁnition of a cowedge for a functor F : Cop×C →D; a coend for F consists of a
universal cowedge coend(F) for P. Prove functoriality for coends. Show that coends are
ends in the dual category: the coend of F is the end of F op : C × Cop ∼
= Cop × C →Dop.
E6 Deﬁne a category wd(F) having objects the wedges for F : Cop × C →D and show that
the end of F is the terminal object of wd(F); dualize to coends (initial objects of a
category cwd(F) of cowedges).
E7 Show that extranatural transformations compose accordingly to these rules:
• (stalactites) Let F, G be functors of the form Cop × C →D. If αx,y : F(x, y) →
G(x, y) is natural in x, y and βx : G(x, x) →H is extranatural in x (for some
object H of D), then
βx ◦αx,x : F(x, x) →H
(21)
is extranatural in x.
• (stalagmites) Let G, H be functors of the form Cop × C →D. If αx : F →G(x, x)
is extranatural in x (for some object F of D) and βx,y : G(x, y) →H(x, y) is
natural in x, y, then
βx,x ◦αx : F →H(x, x)
(22)
is extranatural in x.
• (yanking) Let F, H be functors of the form C →D, and let G: C × Cop × C →D
be a functor. If αx,y : F(y) →G(x, x, y) is natural in y and extranatural in x, and
if βx,y : G(x, y, y) →H(x) is natural in x and extranatural in y, then
βx,x ◦αx,x : F(x) →H(x)
(23)
is natural in x.
Express these laws as equalities between suitable string diagrams (explaining also the
genesis of the names “stalactite” and “stalagmite”).
E8 Prove that extranatural transformations are particular kinds of dinatural transforma-
tions.
E9 Prove that dinaturality is strictly more general than extranaturality, following this plot.
Let ∆[1] = {0 →1} be the “walking arrow” category, and S, T : ∆[1]op × ∆[1] →Sets
Exercises for §1

14
FOSCO LOREGIAN
the functors respectively deﬁned by
{1}
S
c1 /

{1, 2}
σ

(0, 0)
/

(0, 1)

{1}
/

T
{1}
c2

{1}
c2 / {1, 2}
(1, 0)
/ (1, 1)
{1}
c2 / {1, 2}
(24)
where ci chooses element i ∈{1, 2}, and σ permutes the two elements. Show that there
exists a dinatural transformation T
..
−→S, whose components are identities, which is not
extranatural when in Def. 1.6 we choose A = ∗and B = Cop.
E10 Prove the Fubini theorem for ends, 1.9.(2) embarking in a long exercise in universality;
prove that if F : Cop × C →D is mute in one of the two variables (i.e. F(c′, c) = ¯F(c)
or ˆF(c′) for each c, c′ ∈C and suitable functors ¯F : C →D or ˆF : Cop →D), then the
co/end of F is canonically isomorphic to its co/limit. This gives an alternative proof of
a similar Fubini rule for co/limits: given a functor F : I × J →D we have
lim
−→I lim
−→J F ∼
= lim
−→J lim
−→I F ∼
= lim
−→I×J F
(25)
(and similarly for limits).
E11 Introduced to vector analysis in basic calculus courses, students learn that if (X, Ω, µ)
is a measure space, the integral of a vector function ⃗F : X →Rn such that each
Fi = πi ◦F : X →R is measurable and has ﬁnite integral, is the vector whose entries
are
 ´
X F1dµ, · · · ,
´
X Fndµ

.
Prove that category theory possesses a similar formula, i.e. that if F : Cop × C →
A1 × · · · × An is a functor towards a product of categories, such that for 1 ≤i ≤n
• each Ai has both an initial and a terminal object, respectively denoted ∅and 1;
• each co/end
´ /c
c
πi ◦F exists
then the “vector” of all these co/ends, as an object
 ´ /c
c
F1, . . . ,
´ /c
c
Fn) ∈A1×· · ·×An,
is the (base of a universal co/wedge forming the) co/end of F.
E12 Show that the end of a functor T : ∆[1]op ×∆[1] →Sets is the pullback of the morphisms
T(0, 0)
T (0,d0)
−−−−−→T(0, 1)
T (d0,1)
←−−−−−T(1, 1), i.e.
´
i∈∆[1] T(i, i)
/

T(0, 0)

T(1, 1)
/ T(0, 1)
(26)
is a pullback in Sets (of course there’s nothing special about sets here!).
E13 Let G be a topological group, and Sub(G) the partially ordered (with respect to inclusion)
set of its subgroups; let X be a G-space, i.e. a topological space with a continuous action
G × X →X.
We can deﬁne two functors Sub(G) →Top, sending (H ≤G) 7→G/H (this is a covariant
functor, and G/H has the induced quotient topology) and (H ≤G) 7→XH (the subset
of H-ﬁxed points for the action; this is a contravariant functor).
(1) Compute the coend
ˆ H≤G
XG × G/H
(27)
in Top if G = Z/2 has the discrete topology;
(2) Give a general rule for
´ H≤G XG × G/H when H is cyclic with n elements;
(3) Let instead Orb(G) be the orbit category of subgroups of G, whose objects are
subgroups but hom(H, K) contains G-equivariant maps G/H →G/K. Let again

ENDS
15
X
and G/
deﬁne the same functors, now with diﬀerent action on arrows.
Prove that
´ H∈Orb(G) XH × G/H ∼
= X (Elmendorf reconstruction, [Elm83]).
(4) Let E|F be a ﬁeld extension, and {H ⊆Gal(E|F)} the partially ordered set of
subgroups of the Galois group of the extension. Compute (in the category of rings)
ˆ H
EH × Gal(H|F)
(28)
E14 Dualize the above construction, to obtain a similar characterization for the coend
´ c F(c, c), characterized as the coequalizer of a similar pair (F ∗, F∗).
E15 Prove again Theorem 1.18, using the characterization of
´
c D(Fc, Gc) as an equalizer:
the subset of Q
c∈C D(Fc, Gc) you will have to consider is precisely the subset of natural
transformations {τc : Fc →Gc | Gf ◦τc = τc′ ◦Ff, ∀f : c →c′}. This yields the
evocative formula
Nat(1C, 1C) = End(1C) ∼
=
ˆ
c
C(c, c).
(29)
Is it possible to give an explicit meaning to the dual construction
´ c C(c, c) (start with
simple examples: C discrete, C a ﬁnite group, C a ﬁnite groupoid. . . )? Compare also
Example 2.10.
E16 Deﬁne the map δ in 1.19, and show that ker δ ∼
=
´
y Ab(Fy, Gy) in the above notation;
dualize to express a coend as a suitable coequalizer.
E17 What is the co/end of the identity functor 1Cop×C : Cop × C →Cop × C? Use the
bare deﬁnition; use the characterization of co/ends as co/limits; feel free to invoke
Exercise E11.
E18 A set of objects S ⊂C ﬁnitely generates a category C if for each object X ∈C and each
arrow f : s →c from s ∈S there is a factorization
s
g−→
n
a
i=1
si
hc
−−→c
(30)
where hc is an epimorphism and {s1, . . . , sn} ⊂S (n depends on c and f).
Suppose T : Cop × C →Sets is a functor, ﬁnitely continuous in both variables, and C is
ﬁnitely generated by S. Then, considering S as a full subcategory S ⊆C, and calling
T ′ := T|S : Sop × S →Sets, we have an isomorphism
ˆ c∈S
T ′(c, c) ∼
=
ˆ c∈C
T(c, c)
(31)
induced by a canonical arrow
´ c∈S T ′(c, c) →
´ c∈C T(c, c).
E19 Let F ⊣U : C ⇆D be an adjunction, and G: Dop × C →E a functor; then there is an
isomorphism
ˆ c
G(Fc, c) ∼
=
ˆ d
G(d, Ud).
(32)
Show that a converse of this result is true: if the above isomorphism is true for any G
and natural therein, then there is an adjunction F ⊣U.
E20 [Cam], the Stokes’ theorem is about coends. Let N be the poset of natural numbers in
the usual ordering, and Vect be the category of real vector spaces.
Fix a manifold X (or some other sort of smooth space). Then we have functors
• C : Nop →Vect where Cn is the vector space freely generated by smooth maps
Y →X where Y is a compact, n-dimensional, oriented manifold with boundary,
and the induced map ∂: Cn+1 →Cn is the boundary map.
• Ω: N →Vect is the de Rham complex; Ωn = Ωn(X) is the space of n-forms on X
and the induced map d : Ωn →Ωn+1 is the exterior derivative.
Assuming that Vect has a suitable tensor product deﬁned, we obtain a functor C ⊗Ω:
Nop × N →Vect, while there is also the constant functor R : Nop × N →Vect

16
FOSCO LOREGIAN
Then Stokes’ theorem says that we have an extranatural transformation
ˆ
: C ⊗Ω→R
(33)
which, given a map Y →X and a form ω on X, pulls the form back to Y and
integrates it (returning 0 if it’s the wrong dimension). What is the natural induced map
´ n∈N Cn ⊗Ωn →R?
2. Yoneda reduction, Kan extensions
One of the most famous and useful results about the category Cat(Cop, Sets)
of presheaves on a small category C is that every object in it can be canonically
presented as a colimit of representable functors, or more precisely images of the
Yoneda embedding よC : C →Cat(Cop, Sets); we invite the reader to read [ML98,
Theorem III.7.1] for a description of this classical result (and its analogue holding
in Cat(C, Sets)). Of course, this result is linked (if not equivalent) to one of the
pillars of elementary category theory, the Yoneda lemma that says that the set of
natural transformations よC(c) ⇒F is a set in bijective correspondence with the
set Fc, for each F : Cop →Sets.
Now, co/end calculus allows us to rephrase the latter result in an extremely
compact way, that we choose to call Yoneda reduction or ninja Yoneda lemma; in
a few words, it says that every functor F : Cop →Sets or G : C →Sets can be
expressed as a co/end4.
Proposition 2.1 [ninja Yoneda Lemma]: For every functor K : Cop →Sets and
H : C →Sets, we have the following isomorphisms (natural equivalences of functors):
(i) K ∼=
ˆ c
Kc × C(
, c)
(ii) K ∼=
ˆ
c
KcC(c,
)
(iii) H ∼=
ˆ c
Hc × C(c,
)
(iv) H ∼=
ˆ
c
HcC(
,c)
Remark 2.2 : The name ninja Yoneda lemma is a pun coming from a mathoverﬂow
comment by T. Leinster, whose content is basically the proof of the above statement:
Th[e above one is] often called the Density Formula, [. . . ] or (by Aus-
tralian ninja category theorists) simply the Yoneda Lemma. (but Aus-
tralian ninja category theorists call everything the Yoneda Lemma. . . ).
Undoubtedly, there is a link between the above result and the Yoneda Lemma we
all know: in fact, the proof heavily relies on the Yoneda isomorphism, and in enriched
setting (see [Dub70, §I.5]) the ninja Yoneda lemma, interpreted as a theorem about
Kan extensions, is equivalent to the one from the Northern hemisphere.
We must admit to feel somewhat unqualiﬁed to properly discuss the topic, as
we live in the wrong hemisphere of the planet to claim any authority on it, and to
be acquainted with the rather unique taste of Australian practitioners in choosing
4The reader looking for a nifty explanation of this result should wait for a more thorough
discussion, which can be deduced from the material in §4, thanks to the machinery of weighted
co/limits.

ENDS
17
evocative (or obscure) terminology. Nevertheless, along the whole note, we keep
the name “ninja Yoneda Lemma” as a (somewhat witty) nickname for the above
isomorphisms.
Proof. We prove only case (i), all the others being totally analogous. We put a
certain emphasis on the style of this proof, as it is the ﬁrst real new argument in
this note and a paradigm of the calculus we are building. Consider the chain of
isomorphisms
Sets
 ˆ c∈C
Kc × C(x, c), y

∼=
ˆ
c∈C
Sets
 Kc × C(x, c), y

∼=
ˆ
c∈C
Sets(C(x, c), Sets(Kc, y))
∼= Nat(C(x,
), Sets(K−, y))
∼= Sets(Kx, y)
where the ﬁrst step is motivated by the coend-preservation property of the hom
functor 1.17, the second follows from the fact that Sets is a cartesian closed category,
where
Sets(X × Y, Z) ∼= Sets(X, Sets(Y, Z))
(34)
for all three sets X, Y, Z (naturally in all arguments), and the ﬁnal step exploits
Theorem 1.18 and the classical Yoneda Lemma.
Every step of this chain of isomorphisms is natural in y; now we have only to
notice that the natural isomorphism of functors
Sets
 ´ c Kc × C(x, c), y

∼= Sets(Kx, y)
(35)
this, in turn, ensures that there exists a (natural) isomorphism
´ c Kc × C(x, c) ∼=
Kx.
□
From now one we will make frequent use of the notion of (Sets-)tensor and
(Sets-)cotensor in a category; these standard deﬁnitions are in the chapter of any
book about enriched category theory (see for example [Bor94b, Ch. 6], its references,
and in particular its Deﬁnition 6.5.1, which we report for the ease of the reader:
Deﬁnition 2.3 [Tensor and cotensor in a V-category]: In any V-enriched
category C (see [Bor94b, Def. 6.2.1]), the tensor ·: V× C →C (when it exists) is
a functor (V, c) 7→V · c such that there is the isomorphism
C(V · c, c′) ∼= V(V, C(c, c′)),
(36)
natural in all components; dually, the cotensor in an enriched category C (when
it exists) is a functor (V, c) 7→cV (contravariant in V ) such that there is the
isomorphism
C(c′, cV ) ∼= V(V, C(c′, c)),
(37)
natural in all components.
Example 2.4 : Every co/complete, locally small category C is naturally Sets-co/tensored
by choosing cV ∼= Q
v∈V c and V · c ∼= `
v∈V c.

18
FOSCO LOREGIAN
Remark 2.5 : The tensor, hom and cotensor functors are the prototype of a ‘two vari-
able adjunction’ (or more rarely thc situation [Gra80, §1.1]); given the hom-objects
of a V-category C, the tensor ·: V×C →C and the cotensor (
)(
) : Vop×C →C
can be characterized as adjoint functors to the internal hom: usual co/continuity
properties of the co/tensor functors are implicitly derived from this characterization.
Remark 2.6 [
, The Yoneda embedding is a Dirac delta]: In functional
analysis, the Dirac delta appears in the following convenient abuse of notation:
ˆ ∞
−∞
f(x)δ(x −y)dx = f(y)
(38)
(the integral sign, here, is not a co/end). Here δy(x) := δ(x −y) is the y-centered
delta-distribution, and f : R →R is a continuous, compactly supported function
on R.
It is really tempting to draw a parallel between this relation and the ninja
Yoneda lemma, conveying the intuition that representable functors on an object
c ∈C play the rôle of c-centered delta-distributions. If the relation above is written
as ⟨f, δy⟩= f(y), interpreting integration as an inner product between functions,
then the ninja Yoneda lemma says formally the same thing: for each presheaf
F : Cop →Sets, the “inner product” ⟨よc, F⟩=
´ x よc(x)×Fc equals Fc (obviously,
there’s nothing special about sets here).
2.1. Kan extensions as co/ends.
Deﬁnition 2.7 : Given a functor F : C →D, its left and right Kan extensions are
deﬁned5 to be, respectively, the left and right adjoint to the “precomposition”
functor
F ∗: Cat(D, Sets) →Cat(C, Sets)
(39)
given by H 7→F ∗(H) = H ◦F, in such a way that there are two isomorphisms
[D, Sets](LanF G, H) ∼= [C, Sets](G, H ◦F)
[C, Sets](H ◦F, G) ∼= [D, Sets](F, RanF G).
We say that LanF G is the left Kan extension of G along F; dually, we say that
RanF G is the right Kan extension of G along F.
Now, we want to show that in “nice” situations it is possible to describe Kan
extensions via co/ends: whenever the co/tensors (see Def. 2.3) involved in the
equations below exist (they do in the case of Sets, but the same can be stated
for every cocomplete D), then the left/right Kan extensions of G: C →E along
F : C →D exist and there are isomorphisms (natural in F and G)
LanF G ∼=
ˆ c
D(Fc,
) · Gc
RanF G ∼=
ˆ
c
GcD(
,F c).
(40)
5This is not true, strictly speaking. Nevertheless we prefer to cheat the reader with this useful
insight instead of obscuring the general idea keeping track of all possible pathologies. Furthermore,
we are interested only in the cases when Kan extensions can be written as co/ends, so we will not
consider any pathology whatsoever and we can safely assume that this is a proper deﬁnition.

ENDS
19
Proof. The proof consists of a string of canonical isomorphisms, exploiting simple
remarks and the results established so far: the same argument is oﬀered in [ML98,
Thm. X.4.1, 2].
Nat
 ˆ c
D(Fc,
) · Gc, H
 1.18
∼=
ˆ
x
D
 ˆ c
D(Fc, x) · Gc, Hx

1.17
∼=
ˆ
cx
D(D(Fc, x) · Gc, Hx)
(36)
∼=
ˆ
cx
Sets(D(Fc, x), E(Gc, Hx))
1.18
∼=
ˆ
c
Nat(D(Fc,
), E(Gc, H−))
Yon
∼=
ˆ
c
E(Gc, HFc) ∼= Nat(G, HF).
The case of RanF G is dually analogous and we leave it to the reader.
□
Proposition 2.8 : Left/right adjoint functors commute with left/right Kan extensions,
whenever they can be expressed as the coends above.
Proof. An immediate corollary of Theorem 1.16, once it has been proved that a left
adjoint commutes with tensors, i.e. F(X ·a) ∼= X ·Fa for any (X, a) ∈Sets×C.
□
Example 2.9 : Let T : C →C be a monad on the category C; the Kleisli category
Kl(T) of T is deﬁned having the same objects of C and morphisms Kl(T)(a, b) :=
C(a, Tb).
Given any functor F : A →C, the right Kan extension TF = RanF F is a monad
on C, the codensity monad of F; hom-sets in the Kleisli category Kl(TF ) can be
characterized as
Kl(TF )(c, c′) ∼=
ˆ
a
Sets(C(c′, Fa), C(c, Fa)).
(41)
The proof is an exercise in coend-juggling, recalling that TF (
)
(40)
∼=
´
c FcC(
,F c).
Example 2.10 : Let V be a ﬁnite dimensional vector space over the ﬁeld K; let V ∨
denote the dual vector space of linear maps V →K. Then there is a canonical
isomorphism
ˆ V
V ∨⊗V ∼= K.
(42)
The fastest way to see this is to notice that
ˆ V
hom(V,
) ⊗V ∼= Lanid(id) ∼= idVect
(43)
(compare this argument with any proof trying to explicitly evaluate the coend from
its bare deﬁnition).

20
FOSCO LOREGIAN
Remark 2.11 : Let again V be a ﬁnite dimensional vector space over the ﬁeld K.
The universal cowedge hom(V, V )
αV
−−→K sends an endomorphism f : V →V to its
trace τ(f) ∈K (which in this way acquires a universal property).
The above argument holds in fact in fair generality, adapting to the case where
V is an object of a compact closed monoidal category C.
E1 Show that presheaf categories are cartesian closed, via coends: if [Cop, Sets] is the
category of presheaves on a small C, then there exists an adjunction
[Cop, Sets](P × Q, R) ∼
= [Cop, Sets](P, RQ)
(44)
by showing that RQ(c) = [Cop, Sets](よc × Q, R) does the job (use the ninja Yoneda
lemma, as well as Thm. 1.18).
E2 Use equations (40) and the ninja Yoneda lemma that Lanid and Ranid are the identity
functors, as expected. Use again (40) and the ninja Yoneda lemma to complete the
proof that F 7→LanF is a pseudofunctor, by showing that for A
F
−→B, A
G
−→C
H
−→D
there is a uniquely determined laxity cell for composition
LanH(LanG(F)) ∼
= LanHG(F)
(45)
(hint: coend-juggle with LanH(LanG(F))d until you get
´ xy(D(Hx, d) × C(Gy, x)) · Fy;
now use the ninja Yoneda lemma plus co-continuity of the tensor, as suggested in Remark
2.5).
E3 Prove in a similar way isomorphisms (ii), (iii), (iv) in Thm. 2.1 (hint: for (ii) and (iv)
start from Sets

y,
´
c HcC(x,c)
and use again the end preservation property, cartesian
closure of Sets, and Thm. 1.18).
E4 Let C be a small compact closed monoidal category [Day77]; Show that the functor
y 7→
´ x x∨⊗y ⊗x carries the structure of a monad on C.
Exercises for §2
3. The nerve and realization paradigm.
3.1. The classical nerve and realization.
The most fruitful application of the
machinery of Kan extensions is the “Kan construction” for the geometric realization
of simplicial sets as a topological space, or more precisely as a cw-complex. It
is impossible to underestimate the value of this construction as a uniﬁcation tool
in algebra and algebraic topology; here, we brieﬂy sketch this construction. This
section assumes a certain acquaintance with the basic deﬁnition on simplicial
homotopy theory; in particular, we take for granted the ﬁrst chapter of [GJ09] and
the deﬁnition of a Quillen model category.
Consider the category ∆
∆
∆of ﬁnite nonempty ordinals and monotone functions, as
deﬁned in [GJ09], and let us consider the Yoneda embedding よ∆: ∆
∆
∆→[∆
∆
∆op, Sets] =
sSet; we can deﬁne two functors ρ: ∆
∆
∆→Top and i: ∆
∆
∆→Cat which “represent”
every object [n] ∈∆
∆
∆either as a topological space or as a small category:
• The category i[n] is {0 →1 →· · · →n} (there is a similar functor Pos →
Cat regarding any poset (P, ≤) as the category P where the composition
function is induced by the partial order relation ≤: i here coincides with
its restriction to ∆
∆
∆⊂Pos);

ENDS
21
• The topological space ρ[n] is deﬁned as the standard n-simplex ∆n embedded
in Rn+1,
ρ[n] =
n
(x0, . . . , xn) ∈Rn+1 | 0 ≤xi ≤1, Pn
i=0 xi = 1
o
.
(46)
In a few words, we are in the situation depicted by the following diagrams:
∆
∆
∆
i
/
よ∆
∆
∆
Cat
sSet
∆
∆
∆
ρ
/
よ∆
∆
∆
Top
sSet
(47)
The two functors i, ρ can be (left) Kan-extended along the Yoneda embedding
よ∆: ∆
∆
∆→sSet, and these extensions happen to be left adjoints (this can be proved
directly, but we will present in a while a completely general statement).
We denote these adjunctions
Lanよi ⊣Ni
and
Lanよρ ⊣Nρ;
(48)
these two right adjoint functors are called the nerves associated to i and ρ re-
spectively, and are deﬁned, respectively, sending a category C to the simplicial set
Ni(C): [n] 7→Cat(i[n], C) (the classical nerve of a category), and to the simplicial
set Nρ(X): [n] 7→Top(ρ[n], X) = Top(∆n, X) (the singular complex of a space X).6
The left adjoints to Nρ and Ni must be thought as “realizations” of a simplicial
set as an object of Top or Cat:
• The left Kan extension Lanよρ is called the geometric realization |X•| of a
simplicial set X•, and it can be characterized as the coend
ˆ n∈∆
∆
∆
∆n × Xn
(49)
which in turn coincides to a suitable coequalizer in Top in view of our 1.3
and 1.14 (and their duals).
The shape of this object is fairly easy to motivate, keeping open any
book in algebraic topology: the topological space |X•| is obtained choosing
a n-dimensional disk ∆n for each n-simplex x ∈Xn and gluing these
disks along the boundaries δi(∆n) according to the degeneracy maps of
X•. The resulting space is (almost by deﬁnition) a cw-complex, because
each standard n-simplex is homeomorphic to a closed disk: this means that
|X•| has the topology induced by a sequential colimit of pushouts of spaces
X(0) →X(1) →. . .
• The left Kan extensionLanよi is the categorical realization τ1(X•) of a
simplicial set X•, resulting as the coend
ˆ n∈∆
∆
∆
i[n] × Xn.
(50)
6The name is motivated by the fact that if we consider the free-abelian group on Nρ(X)n, the
various Cn = Z · Nρ(X)n = `
Nρ(X)n Z organize as a chain complex, whose homology is precisely
the singular homology of X.

22
FOSCO LOREGIAN
This is the category whose objects are 0-simplices of X•, arrows are 1-
simplices, and where composition is deﬁned asking that f, g ∈X1 compose
if there exists a 2-simplex σ having 0-th face g and 2-nd face f; identities
are witnessed by degenerate simplices.
We leave the reader think about why we only mention degeneracies here, leaving
out faces (they are necessary, aren’t they?).
It should now be evident that there is a pattern (we will call it the “nerve-
realization paradigm”) acting behind the scenes, and yielding the classical/singular
nerve as particular cases of a general construction interpreted from time to time in
diﬀerent settings; unraveling this machinery with the power of co/end calculus is
the scope of the following section.
3.2. Some famous realizations and their associated nerves.
Algebraic
topology, representation theory, and more generally every setting where a well-
behaved categorical structure is involved constitute natural factories for examples
of the nerve-realization paradigm. We now want to lay down an foundation for
a theory and a terminology that allows us to collect readable and enlightening
examples (leaving outside many interesting others!) of nerve-realizations pairs,
obtained varying the domain category of “geometric shapes” or the category where
this fundamental shapes are realized.
Deﬁnition 3.1 [context for nerve-realization]: Any functor ϕ: C →D from
a small category C to a (locally small) cocomplete category D is called a nerve-
realization context (a nr-context for short).
Given a nerve-realization context ϕ, we can prove the following result:
Proposition 3.2 [Nerve-realization paradigm]: The left Kan extension of ϕ along
the Yoneda embedding よ: C →[Cop, Sets], i.e. the functor Rϕ = Lanよϕ: [Cop, Sets] →
D is a left adjoint, Rϕ ⊣Nϕ. Rϕ is called the D-realization functor or the Yoneda
extension of ϕ, and its right adjoint the D-coherent nerve.
Proof. The cocomplete category D is Sets-tensored, and hence Lanよϕ can be
written as the coend in equation (40); so the claim follows from the chain of
isomorphisms
D
 Lanよϕ(P), d
 ∼= D
 ˆ c
[Cop, Sets](よc, P) · ϕc, d

∼=
ˆ
c
D
 [Cop, Sets](よc, P) · ϕc, d

∼=
ˆ
c
Sets
 [Cop, Sets](よc, P), D(ϕc, d)

∼=
ˆ
c
Sets
 Pc, D(ϕc, d)

.
If we deﬁne Nϕ(d) to be c 7→D(ϕc, d), this last set becomes canonically isomorphic
to [Cop, Sets](P, Nϕ(d)).
□
It is straightforward to recognize Nρ and Ni here.

ENDS
23
Remark 3.3 : The nerve-realization paradigm can be rewritten in the following
equivalent form: there is an equivalence of categories, induced by the universal
property of the Yoneda embedding よC : C →[Cop, Sets],
よ
∗
C : Cat(C, D) ∼= RAdj(bC, D)
(51)
whenever D is a cocomplete locally small category (in such a way that “the category
of nerve-realization contexts” is a high-sounding name for the category of functors
Cat(C, D)).
A famous result in Algebraic Topology [GZ67, GJ09] asserts that the geometric
realization functor R = |
|: sSet →Top commutes with ﬁnite products: coend
calculus gives a massive simpliﬁcation of this result reducing it to the veriﬁcation
of the statement on representables only, but unfortunately isn’t powerful enough
to provide an additional simpliﬁcation: formally, we can only deﬁne a bijection
between the sets |∆[n] × ∆[m]| ∼= ∆n × ∆m; a certain amount of dirty work is
necessary to show that this bijection is in fact a homeomorphism with respect to
the natural topologies on the two sets.
Proof. If we take the commutativity of R with ﬁnite products of representables for
granted, the proof that R(X × Y ) ∼= RX × RY is a simple computation:
R(X × Y ) ∼= R
 ´ m Xm · ∆[m]

×
 ´ n Yn · ∆[n]

∼= R
´ mn(Xm · ∆[m]) × (Yn · ∆[n])

∼= R
´ mn(Xm × Yn) · (∆[m] × ∆[n])

∼=
´ mn(Xm × Yn) · R(∆[m] × ∆[n])
∼=
´ mn(Xm × Yn) · ∆m × ∆n
∼=
´ mn(Xm · ∆m) × (Yn · ∆n)
∼=
 ´ m Xm · ∆m
×
 ´ n Yn · ∆n
∼= R(X) × R(Y )
where we applied, respectively, the ninja Yoneda lemma 2.1, the colimit preservation
property of R, its commutation with tensors, and its commutativity with ﬁnite
products of representables.
□
3.3. Examples of nerves and realizations.
A natural factory of nerve-real-
ization contexts is homotopical algebra, as such functors are often used to build
Quillen equivalences between model categories. This is somewhat related to the
fact that “transfer theorem” for model structures often apply to the well-behaved
nerve functor.
But Quillen adjunctions between model categories are certainly not the only
examples of nr-paradigms!
The following list attempts to gather important examples of nr-contexts: for
the sake of completeness, we repeat the description of the two above-mentioned
examples of the topological and categorical realizations.

24
FOSCO LOREGIAN
Example 3.4 [Categorical nerve and realization]: In the case of ϕ = i: ∆
∆
∆→
Cat, we obtain the classical nerve Ni of a (small) category C, whose left adjoint
is the categorical realization (the fundamental category τ1X of X described in
[Joy02b]). The nerve-realization adjunction
τ1 : sSet ⇆Cat: Ni
(52)
gives a Quillen adjunction between the Joyal model structure on sSet (see [Joy02b])
and the folk model structure on Cat.
Example 3.5 [Geometric nerve and realization]: If ϕ = ρ: ∆
∆
∆→Top is the
realization of a representable [n] in the standard topological simplex, we obtain
the adjunction between the geometric realization |X| of a simplicial set X and the
singular complex of a topological space Y , i.e. the simplicial set having as set of
n-simplices the continuous functions ∆n →Y . If we apply object-wise the free
abelian group functor to this simplicial set we obtain the simplicial abelian group
ZY , which under the Dold-Kan correspondence 3.9 gives rise to a (positive degree)
chain complex, the singular complex of Y . The homology of this chain complex
coincides with the singular homology of Y .
Example 3.6 [sSet-coherent nerve and realization]: If ϕ: ∆
∆
∆→Cat∆
∆
∆is the
functor which realizes every representable [n] as a simplicial category having objects
the same set [n] = {0, 1, . . . , n} and as hom(i, j) the simplicial set obtained as the
nerve of the poset P(i, j) of subsets of the interval [i, j] which contain both i and
j,7 we obtain the (Cordier) simplicially coherent nerve and realization, which sends
C into a simplicial set constructed “coherently remembering” that C is a simplicial
category. This adjunction establishes a Quillen adjunction sSet ⇆Cat∆
∆
∆which
restricts to an equivalence between quasicategories (ﬁbrant objects in the Joyal
model structure on sSet [Joy08]) and ﬁbrant simplicial categories (with respect to
the Bergner model structure on Cat∆
∆
∆[Ber07]).
Example 3.7 [Moerdijk generalized intervals]: The construction giving the
topological realization of ∆[n] extends to the case of any “interval” in the sense
of [Moe95, §III.1], i.e. any ordered topological space J having “endpoints” 0, 1;
indeed every such space J deﬁnes a “generalized” (in the sense of [Moe95, §III.1])
topological n-simplex ∆n(J): these data assemble into a nerve-realization context
ϕJ : ∆
∆
∆→Top.
Example 3.8 [Toposophic nerve and realization]: The correspondence δ: [n] 7→
Sh(∆n) deﬁnes a cosimplicial topos, i.e. a cosimplicial object in the category of
(spatial) toposes, which serves as a nr-context. Some geometric properties of this
nerve/realization are studied in [Moe95, §III]: we outline an instance of a problem
where this adjunction naturally arises: let X, Y be the categories of sheaves over
topological spaces X, Y . Let X ⋆Y be the join of the two toposes seen as categories:
this blatantly fails to be a topos, but there is a rather canonical “replacement”
procedure
7In particular if i > j then P(i, j) is empty and hence so is its nerve.

ENDS
25
Cat × Cat
Cat
sSet
Topos
(X, Y)
X ⋆Y
Cat(∆•, X ⋆Y)
X ⊛Y
⋆
N
Lanよ(δ)
Example 3.9 [The Dold-Kan correspondence]: The well-known Dold-Kan
correspondence [Dol58] asserts that there is an equivalence of categories between
simplicial abelian groups [∆
∆
∆op, Ab] and chain complexes Ch+(Ab) with no negative
homology, and it can be seen as an instance of the nerve-realization paradigm.
In this case, the functor ∆
∆
∆→Ch+(Ab) sending [n] to Z∆[n] (the free abelian
group on ∆[n]) and then to the Moore complex M(Z∆[n]) determined by any
simplicial group A ∈[∆
∆
∆op, Ab] as in [GJ09] is the nerve-realization context.
Example 3.10 [Étale spaces as Kan extensions]: Let X be a topological space,
and Opn(X) its poset of open subsets. There exists a natural functor
A: Opn(X) →Top/X
(53)
sending U ⊆X to the same morphism U →X; this works as a nr-context giving
the pair of adjoint functors
LanよA ⊣NA
(54)
where NA is deﬁned precisely taking the (pre)sheaf of sections of p ∈Top/X. The
resulting left adjoint is precisely the functor sending a presheaf F ∈[Opn(X), Sets]
to the space whose carrier is the disjoint union of stalks ˜F = `
x∈X Fx, endowed
with the ﬁnal topology turning all maps of the form ˜s: U →˜F sending y to the
equivalence class [s]y ∈Fy.
This adjunction restricts to an equivalence of categories between the subcategory
Sh(X) of sheaves on X and the subcategory Ét(X) of étale spaces over X, giving a
formal method to prove [MLM92, Thm. II.6.2]. A complete proof can be found at
[Car], lectures 3 and 4.
Example 3.11 [The tensor product of modules as a coend]: Any ring R can
be regarded as an Ab-category with a single object, whose set of endomorphisms
is the ring R itself; once noticed this, we obtain natural identiﬁcations for the
categories of modules over R:
ModR ∼= Fun(Rop, Ab)
RMod ∼= Fun(R, Ab).
Given A ∈ModR, B ∈RMod, we can deﬁne a functor TAB : Rop × R →Ab which
sends the unique object to the tensor product of abelian groups A ⊗Z B. The coend
of this functor can be computed as the coequalizer
coker
 `
r∈R A ⊗Z B
r⊗1
/
1⊗r
/ A ⊗Z B

,
(55)
or in other words, there is a canonical isomorphism
ˆ ∗∈R
TAB ∼= A ⊗R B. This
point of view on tensor products can be extremely generalized (see [ML98, §IX.6],
but more on this has been written in [Yon60, §4]): given functors F, G: Cop, C →V

26
FOSCO LOREGIAN
having values in a cocomplete monoidal category, we can deﬁne the tensor product
of F, G as the coend
F ⊠C G :=
ˆ c
Fc ⊗V Gc.
(56)
Remark 3.12 : This can be regarded as part of a general theory which deﬁnes a
thc situation (see [Gra80, §1.1]; these are also called adjunctions of two variables
in newer references) as a triple t = (⊗, ∧, [
,
]) of (bi)functors between three
categories S, A, B, deﬁned via the adjunctions
B(S ⊗A, B) ∼= S(S, [A, B]) ∼= A(A, S ∧B).
(57)
Such an isomorphism uniquely determines the domains ant the variance of the
three functors involved, in each variable; to be more clear, however, we notice that
⊗: S × A →B, and then ∧: Sop × B →A, and [
,
]: Aop × B →S. See Exercise
3.E1 to show that a given thc situation can be lifted to one on SIop×J, AI, BJ for
every I, J ∈Cat.
To appreciate the next example we need to recall the following
Proposition 3.13 : The following properties for a functor F : C →Sets are equivalent:
• F commutes with ﬁnite limits;
• LanよF commutes with ﬁnite limits;
• F is a ﬁltered colimit of representable functors;
• The category of elements C
´
F of F (see Def.
4.1 and Prop.
4.12) is
coﬁltered.
Example 3.14 [Giraud theorem using coends]: The gist of Giraud theorem is
the following statement: left exact localizations of presheaf categories [Cop, Sets]
classify Grothendieck toposes (i.e. categories of sheaves Sh(C, J) with respect to a
Grothendieck topology J).
An accessible proof of this classical representation theorem, intertwined with the
theory of locally presentable categories (see for example [Vit06]), is contained at
the end of [MLM92].
We now try to outline an argument giving the localization between a presheaf
category and a category E satisfying the axioms of Giraud, hence “realizing” E as
a full subcategory of [Cop, Sets]. presheaves on C = Ec ⊂E, the subcategory of
compact object of E.8
The trick in the proof is to choose C wisely: to do this we use the fact that there
is a small full subcategory C ⊆E of compact objects, E<ω, and a full embedding
ι: C ⊂E; this is a nerve-realization context (Def. 3.1), that activates coend calculus
to prove that
(1) The ι-nerve Nι is full and faithful and coincides with the inclusion of sheaves
into presheaves [Cop, Sets];
(2) Lanよι is the left exact reﬂection.
8An object X ∈E is compact or ﬁnitely presentable if the hom functor hom(X,
) commutes
with ﬁltered colimits. This essentially means that X can be presented with ﬁnitely many generators
and relations in the “theory” of E.

ENDS
27
Let then
Lanよ(ι): [Cop, Sets]
/ E: Nι
o
(58)
be the nerve-realization adjunction.
It is a matter of checking the deﬁnition, to see that the associated nerve Nι is
fully faithful, and this gives the ﬁrst point: it remains then only to prove that the
functor Lanよ(ι) behaves like sheaﬁﬁcation. This, in view of our characterization of
the unit and counit of the nerve-realization adjunction (Remark E4) means that we
have to manipulate the following chain of (iso)morphisms:
Lanよ(ι)(P) ∼=E(ιC, Lanよι(P))
∼=E
 ιC,
´ A PA × ιA

←
´ A E
 ιC, PA × ιA

∼=
´ A PA × E
 ιC, ιA

∼=
´ A PA × C
 C, A

∼=PC
It only remains to prove that this functor is left exact. To do this we invoke Prop.
3.13. It also remains to characterize sheaves as those P such that ηP is invertible.
Example 3.15 [Simplicial subdivision functor]: Let again ∆
∆
∆be the category
of nonempty ﬁnite ordinals. The Kan Ex∞functor is an endofunctor of sSet =
[∆
∆
∆op, Sets] turning every simplicial set X into a Kan complex9. This construction
is of fundamental importance in simplicial homotopy theory, and we now want
to organize the classical construction in the modern terms of a nerve-realization
paradigm on ∆
∆
∆.
First of all, recall ([GJ09]) that the nondegenerate m-simplices of ∆[n] are in
bijective correspondence with the subsets of {0, . . . , n} of cardinality m + 1; this
entails that the set of nondegenerate simplices of ∆[n] becomes a poset s[n] ordered
by inclusion when this partial order is tacitly transported along this bijection. We
can then consider the nerve Nρ(s[n]) ∈sSet (see Example 3.5). This organizes into
a functor sd: ∆
∆
∆→sSet, which forms a nerve-realization paradigm: using Prop. 3.2
we obtain the adjunction
sSet
sSet
Sd
Ex
⊥
where Ex is the nerve Nsd associated to the nr-paradigm sd: the set of m-simplices
Ex(X)n is sSet(sd(∆[n]), X).
There is a canonical map sd(∆[n]) →∆[n] which by precomposition and by the
Yoneda lemma, induces a map Xn = sSet(∆[n], X)
j∗
−→sSet(sd(∆[n]), X) = Ex(X),
natural in X ∈sSet. This gives to Ex(
) the structure of a pointed functor, and in
9As deﬁned in [GJ09], a Kan complex is a simplicial set Y such that the functor hom(
, X)
turns each horn inclusion Λk[n] →∆[n] into an epimorphism.

28
FOSCO LOREGIAN
fact a well-pointed functor in the sense of [Kel80]; this, ﬁnally, means that we can
deﬁne
Ex∞(X) ∼= lim
−→

X →Ex(X) →Ex2(X) →· · ·

(59)
as an endofunctor on sSet. The functor Ex∞enjoys a great deal of formal properties
useful in the study of simpicial homotopy theory (the most important of which is
that Ex∞(X) is a Kan complex for each X ∈sSet, see [GJ09]). A more intrinsic
characterization of this construction is contained in [EP08], and deﬁnes not only
Sd = Lanよsd is a Left Kan extension, but also sd: they consider the diagram of
2-cells
∆
∆
∆× ∆
∆
∆
sSet × sSet
sSet
∆
∆
∆
sSet
よ∆
∆
∆×よ∆
∆
∆
×
⊕
よ∆
∆
∆
Sd
sd
where ⊕: ∆
∆
∆× ∆
∆
∆→∆
∆
∆is the ordinal sum deﬁned by [m] ⊕[n] = [m + n + 1].
Example 3.16 [Isbell duality]: Isbell duality consists of the following statement:
let V be a co/complete symmetric monoidal category V (this will be called a
Bénabou cosmos in the subsequent sections), and C ∈V-Cat a V-enriched cate-
gory; if we denote, as always, [C, V] and [Cop, V] the categories of covariant and
contravariant functors C →V, then we have an adjunction
[C, V]op
[Cop, V].
O
Spec
⊥
This means that we ﬁnd a bijection of hom-sets
[C, V]op O(X), Y

= [C, V]
 Y, O(X)
 ∼= [Cop, V](X, Spec(Y ))
(60)
induced by the functors
O: X 7→

c 7→[C, V]
 X, よCop(c)

Spec: Y 7→

c 7→[C, V]op よCop(c), Y

Executed by an expert in coend-fu, this statement is almost a tautology thanks to
Thm. 1.18:
[C, V]
 Y, O(X)

=
ˆ
d
V

Y d,
ˆ
a
V(Xa, C(a, d))

∼=
ˆ
da
V
 Y d, V(Xa, C(a, d))

∼=
ˆ
a
V

Xa,
ˆ
d
V(Y d, C(a, d))


ENDS
29
= [Cop, V]
 X, Spec(Y )

.
E1 Use coend-fu to show that starting from a given thc-situation t = (⊗, ∧, [
,
]), we can
induce a new one t′ = (⊠, ⋏, ⟨
,
⟩), on the categories SIop×J, AI, BJ, for any I, J ∈Cat;
start deﬁning F ⊠G ∈BJ out of F ∈SIop×J, G ∈AI, as the coend
ˆ i
F(i,
) ⊗Gi
(61)
and show that there is an adjunction
BJ(F ⊠G, H) ∼
= SIop×J(F, ⟨G, H⟩) ∼
= AI(G, F ⋏H)
(62)
for suitable functors ⟨
,
⟩and
⋏
, developing BJ(F ⊠G, H) = . . . in two ways.
E2 In this exercise Top is a nice category for algebraic topology. Deﬁne the category Γ
having objects the power-sets of ﬁnite sets, and morphisms the functions f : 2n →2m
preserving unions and set-theoretical diﬀerences.
(1) Show that there is a functor ∆
∆
∆,→Γ, sending the chain {0 < 1 < · · · < n} in ∆
∆
∆to
{∅⊂{0} ⊂· · · ⊂{0, . . . , n}} in Γ.
(2) The category of presheaves of spaces Γop →Top is called the category of Γ-spaces;
a Γ-space is Segal if it turns pushout in Γ (describe them) into homotopy pullback
in Top.
More explicitly, let A: Γop →Top be a Γ-space, it is Segal if (a) A(0) is contractible;
(b) the canonical map A(n) →Qn
i=1 A(1) is a homotopy equivalence in Top.
(3) Let X ∈Top and A: Γop →Top; deﬁne X ⊗A to be the coend (in Top)
ˆ n∈Γ
Xn × A(n)
(63)
Show that this deﬁnes a bifunctor Γop × Γ →Top.
Show that S1 ⊗Γ A is
homeomorphic to the geometric realization of the simplicial space ∆
∆
∆op →Γop
A
−→
Top. If A is Segal, S1 ⊗Γ A ∼
= BA(1), where B(−) is the classifying space functor.
(4) Let C: Γop →Top-Cat; let X ⊗Γ C be the coend (in the category of topological
categories)
ˆ n∈Γ
Xn × C(n).
(64)
Show that X ⊗Γ (
): Top-Cat →Cat commutes with ﬁnite products, namely if
C, D are topological categories, then
X ⊗Γ (C × D) ∼
= (X ⊗Γ C) × (X ⊗Γ D).
(65)
E3 Compute the J-realization (see Example 3.7) of X ∈sSet in the case J is the Sierpiński
space {0 < 1} with topology {∅, J, {1}}.
E4 Write explicitly the unit and counit of the nerve and realization adjunction Lanよϕ ⊣Nϕ.
E5 Show that the nerve functor Nϕ is canonically isomorphic to Lanϕ よ, so that there is
an adjunction
Lanよϕ ⊣Lanϕ よ.
(66)
E6 [
] Example 3.8 can be expanded and studied more deeply:
• Is ⊙a monoidal structure on Topos?
• Under which conditions on X, Y is X ⊙Y equivalent to a topos of sheaves on a
topological space X ⊙Y ?
• What are the properties of the bifunctor (X, Y ) 7→X ⊙Y ? Does this operation
resemble or extend the topological join?
Exercises for §3

30
FOSCO LOREGIAN
E7 Generalize the nerve-realization paradigm to the setting of separately cocontinuous, or
multilinear functors. Given ϕ: C1 × · · · × Cn →D, where each Ci is small and D is
cocomplete, show that there exists an equivalence of categories
Cat(C1 × · · · × Cn, D) ∼
= Mult( b
C1 × · · · × c
Cn, D)
(67)
where Mult(
,
) is the category of all functors that are cocontinuous in each variable
once all the others have been ﬁxed (hint: show it ‘by induction’ composing multiple
Kan extensions). Given θ ∈Cat(C1 × · · · × Cn, D), describe the right adjoint of each
θ(c1, . . . , c◦
i , . . . , cn): b
Ci →D (c◦
i means that all the objects cj are ﬁxed for j ̸= i and
ci ∈C runs free). All these functors assemble to a ‘vector-nerve’ N : D →b
C1 × · · · × c
Cn.
E8 Let よC : C →[Cop, Sets] be the Yoneda embedding, and
よ
C : Cop →[C, Sets] its con-
travariant counterpart. Show that in Example 3.16 we can characterize O as LanよC(
よ
C).
4. Weighted limits.
The theory of weighted co/limits is a cornerstone of enriched category theory: it
can be easily formulated and understood in terms of co/end calculus.
The material presented in this chapter comes from [Rie14, II.7]; even the notation
is partly unchanged. A more classical reference for the subject is [Kel82, KS74]: we
do not make any attempt to recall the fundamental deﬁnitions of enriched category
theory, heavily relying on these classical references, together with [Bor94b].
It’s easy to motivate why co/limits are a fundamental entity of basic category
theory. Nevertheless, this notion becomes too strict when one deals with enriched
categories; the “conical” shape of a classical co/limit is not general enough to
encompass the fairly rich variety of shapes in which co/limits in enriched categories
arise (the reader has to keep in mind, here, that enriched categories constitute a
model for higher category theory; there bare co/limits are ill-behaved in several
respects, and they must be replaced by their derived counterpart. The relation
between the two concepts will become clearer along section 7); naïvely speaking,
one of these shapes gives rise to the notion of a cone for a functor F : J →C, having
as limit the well-known initial/terminal object in a suitable category of diagrams
to/from F. The theory of weighted co/limits is based on the idea that in its full
generality a co/limit takes two arguments: the diagram F of which we want to
compute the co/limit, and a presheaf W ∈bC along which we ‘weight’ the co/limit:
conical colimits arise when we choose the terminal presheaf that sends every object
of C on the singleton of Sets.
We cannot touch but the surface of this intricate topic: the interested reader
can consult [Kel89], a presentation of unmatched lucidity ﬁlled with enlightening
examples. We choose to follow a relatively more modern approach, for we are
interested in translating the fundamentals about weighted co/limits into a kata
of co/end-fu. Also, the focus in this section is not on proofs; this is why many
arguments, not relying on category theory, are only brieﬂy sketched.
Local notation.
Throughout this section, weight is a synonym of presheaf ; we
call ordinary a category which is enriched over Sets with its obvious cartesian closed
structure. All along the section, we assume that V denotes a Bénabou cosmos, i.e.
a symmetric monoidal closed, complete and cocomplete category which is the “base”
for our enriched category theory.

ENDS
31
4.1. A brief prelude: the category of elements of a presheaf.
Deﬁnition 4.1 : Let C be an ordinary category, and let W : C →Sets be a functor;
the category of elements C
´
W of W is the category having objects the pairs
(c ∈C, u ∈Wc), and morphisms (c, u) →(c′, v) those f ∈C(c, c′) such that
W(f)(u) = v.
Notation 4.2 : The somewhat exotic notation “C
´
W” for the category of elements
of W is inspired by the wondrous paper [Gra]. Other references call it
´
W (it is
obvious why we can’t stick to this more compact notation) or Elts(W).
Proposition 4.3 : The category C
´
W deﬁned in 4.1 can be equivalently characterized
as each of the following:
i) The category which results from the pullback
C
´
W
/

⌟
Sets∗
U

C
W
/ Sets
(68)
where U : Sets∗→Sets is the forgetful functor which sends a pointed set to
its underlying set;
ii) The comma category (∗↓W) of the cospan {∗} →Sets
W
←−C, where
{∗} →Sets chooses the terminal object of Sets;
iii) The opposite of the comma category (よC ↓⌈W⌉), where ⌈W⌉: {∗} →
[C, Sets] is the name of the functor W, i.e. the unique functor choosing the
presheaf W ∈[C, Sets]:
(C
´
W)op
∗
Cop
[C, Sets]
⌈W ⌉
よC
Proof. The proof that these categories are all canonically isomorphic to C
´
W is an
exercise in Yoneda lemma and universal properties that we leave to the reader.
□
Proposition 4.4 : The category of elements C
´
W of a functor W : C →Sets comes
equipped with a canonical discrete ﬁbration10 to the domain of W, which we denote
Σ: C
´
W →C, deﬁned forgetting the distinguished element u ∈Wc.
Proof. We only have to prove that Σ: C
´
W →C is an isoﬁbration; given an
isomorphism ϕ: x →c = Σ(c, u), we can deﬁne v ∈Wx to be W(ϕ−1)(u).
□
10Given a functor p: E →B, an arrow g : e′ →e in E is p-cartesian if for any g′ : e′′ →e such
that pg′ = pg · h in B, there is a unique lift k of h such that g′ = g · h. A functor p : E →B is a
ﬁbration if each f : b →pe in B has a p-cartesian lift with codomain e.

32
FOSCO LOREGIAN
Remark 4.5 [A less naive look at limits]: Let F : J →C be a functor be-
tween small ordinary categories. The limit lim
←−F of F can be characterized as the
representing object of a suitable presheaf: indeed, we have the natural isomorphism
C(c, lim
←−F) ∼= SetsJ(∗, C(c, F(
)))
(69)
where ∗is a shorthand to denote the terminal functor C →Sets: c 7→∗sending
every object to the terminal set, and C(a, F(
)) is the functor J →Sets sending j
to A(c, Fj).
Dually, the colimit lim
−→F of F : J →C can be characterized, in the same notation,
as the representing object in the natural isomorphism
J(lim
−→F, c) ∼= SetsJ(∗, J(F(
), c)).
(70)
SetsJ(∗, C(F, c)) is a set of natural transformations and c 7→SetsJ(∗, A(F, c)) is a
functor: the leading idea behind the deﬁnition of weighted co/limit is to generalize
this construction to admit shapes other than the terminal presheaf for the domain
functor. We can package this intuition in the following deﬁnition:
Deﬁnition 4.6 [Weighted limit and colimit]: Given functors F : J →C and
W : J →Sets, we deﬁne the weighted limit of F by W as a representative for the
functor sending c ∈C to SetsJ(W, C(c, F(
))), in other words the weighted limit of
F by W is an object lim
←−
W F ∈C such that
C
 c, lim
←−
W F
 ∼= SetsJ(W, C(c, F(
)))
(71)
naturally in c ∈C.
Dually we deﬁne the colimit of F : J →C weighted by
W : Jop →Sets to be an object lim
−→
W F ∈C such that
C
 lim
−→
W F, c
 ∼= SetsJop(W, C(F(
), c)).
(72)
Example 4.7 : Let f : ∆1 →C the functor choosing an arrow f : x →y in C, and
W : ∆1 →Sets the functor sending {0 < 1} to the single arrow {0, 1} →{0}; then
a natural transformation W ⇒C(c, f) consists of arrows W0 →C(c, x), W1 →
C(c′, y), namely on the choice of two arrows h, k: c →x such that fh = fk: the
universal property for lim
←−
W f implies that this is the kernel pair of the arrow f,
namely that h, k ﬁll in the pullback
c
h

k
$
"
lim
←−
W f
/

⌟
x
f

x
f
/ y
(73)
The next result is the awaited characterization of weighted co/limits as co/ends:
we employ the same notation of Def. 4.6

ENDS
33
Proposition 4.8 [Weighted co/limits as co/ends]: When the end below and
the Sets-cotensor (X, a) 7→aX exist, we can express the weighted limit lim
←−
W F for
F : J →C as an end using the chain of isomorphisms
SetsJ(W, C(c, F)) ∼=
ˆ
j∈J
Sets(Wc, C(c, Fj))
∼=
ˆ
j∈J
C
 c, FjW j
∼= C

c,
ˆ
j∈J
FjW j
and the uniqueness for a representing object. Indeed, the above string of natural
isomorphisms implies that there is a canonical isomorphism
lim
←−
W F ∼=
ˆ
j∈J
FjW j
(74)
Example 4.9 : Consider the particular case of two parallel functors W, F : C →Sets;
then we can easily see that lim
←−
W F coincides with the set of natural transformations
W ⇒F, since the cotensor FcW c is precisely the set Sets(Wc, Fc).
Example 4.10 [Kan extensions]: The ninja Yoneda lemma 2.1, rewritten in this
notation, says that lim
←−
C(c,
)F ∼= Fc (or, in case F is contravariant, lim
←−
C(
,c)F ∼=
Fc). This can be memorized as “representably-weighted co/limits are evaluation”
(see Remark 2.6 on the ‘Dirac delta’) and suggests that Kan extensions can be
expressed as suitable weighted co/limits, and more precisely that they can be
characterized as those weighted co/limits where the weight is a representable
functor:
RanK F(
) ∼=
ˆ
c∈C
FcD(
,Kc) ∼= lim
←−
D(
,K
)F.
(75)
The following Remark and Proposition constitute a central observation.
Remark 4.11 [
, The Grothendieck construction absorbs weights]:
Deﬁnition 4.6 can be extended in the case F : C →A is a V-enriched functor
between V-categories, and W : C →V is a V-co/presheaf; this is the setting
where the notion of a weighted co/limit acquires a supremacy over the “classical”
one (where the weight is the terminal presheaf). When V = Sets, indeed, the
Grothendieck construction sending a (co)presheaf into its category of elements
turns out to trivialize almost completely the theory of Sets-weighted limits: as the
following discussion shows, in such a situation every weighted limit can be expressed
as a classical (we call them conical, due to the shape of the weight) limit.
Proposition 4.12 [Sets-weighted limits are limits]: As shown in Prop. 4.4, the
category C
´
W comes equipped with a ﬁbration Σ: C
´
W →C, such that for any
functor F : C →A one has
lim
←−
W F ∼=
lim
←−
(c,x)∈C
´
W
F ◦Σ.
(76)

34
FOSCO LOREGIAN
Proof. The proof goes by inspection, using the characterization of the end
´
c∈C FcW c
as an equalizer (see Proposition 1.14), and the characterization of Sets-cotensors as
iterated products, showing that
ˆ
c∈C
FcW c ∼= eq
 Y
c∈C
FcW c ⇒
Y
c→c′
Fc′W c
∼= eq
 Y
c∈C
Y
x∈W c
Fc ⇒
Y
c→c′
Y
x∈W c
Fc′
(⋆) ∼= eq

Y
(c,x)∈C
´
W
Fc ⇒
Y
(c,x)→(c′,x′)∈C
´
W
Fc′
∼=
lim
←−
(c,x)∈C
´
W
F ◦Σ
(equation (⋆) is motivated by the fact that every arrow ϕ: Σ(c, x) →c′ has a unique
lift (c, x) →(c′, x′) since W(ϕ)(x) = x′m).
□
Remark 4.13 : When we consider Kan extensions as weighted co/limits, this result
agrees with the classical theory: if the weight has the form W = D(d, K−) for an
object d ∈D, and a functor K : C →D, then the category of elements C
´
W is
precisely the comma category (d ↓K): the right Kan extension of F along K can
be computed as the conical limit of the functor FU, where U : (d ↓K) →C is the
obvious forgetful functor.
Obviously, when every weighted limit exists in A, we can prove that the corre-
spondence (W, F) 7→lim
←−
W F is a bifunctor:
lim
←−
(
) (=):
 SetsCop × AC −→A.
(77)
A number of useful corollaries of this fact:
• The unique, terminal natural transformation W →∗induces a comparison
arrow between the weighted limit of any F : C →A and the classical
(conical) limit: lim
←−F →lim
←−
W F.11 As an example, the classical limit of
the functor f : ∆[1] →A described in Example 4.7 consists of the object
a = src(f); hence the comparison arrow consists of the unique factorization
of two copies of ida along the kernel pair of f.
• The functor lim
←−
(
)F is continuous, namely we can prove the suggestive
isomorphism
lim
←−
 lim
−→J Wj

F ∼= lim
←−J
 lim
←−
WjF

,
(78)
valid for any small diagram of weights J →[C, Sets]: j 7→Wj.
Example 4.14 : Ends can be computed as weighted limits: given H : Cop × C →D
we can take the hom functor C(
,
): Cop × C →Sets as a weight, and if the
11The existence of the map lim
←−F →lim
←−
W F reinforces the intuition of lim
←−
W F as a “fattened
up” version of lim
←−F. This intuition will become clearer along 7.

ENDS
35
weighted limit exists, we have the chain of isomorphisms
lim
←−
C(
,
)H ∼=
ˆ
(c,c′)∈Cop×C
H(c, c′)C(c,c′) ∼=
ˆ
c
 ˆ
c′ H(c, c′)C(c,c′) 2.1
∼=
ˆ
c
H(c, c).
(79)
Remark 4.15 : This characterization will turn out to be useful during our discussion
of simplicially coherent co/ends. See 7.38.
Weighted colimits are discussed in Exercise 4.E3 and stem from a straightforward
dualization process; we refer freely to both concepts from now on, leaving the details
to the reader.
Remark 4.16 : Aside from showing that “weighted limits are the true enriched-
categorical limits”, the above examples and the last characterization of ends as
weighted limits are fundamental steps towards a sensible deﬁnition of enriched ends:
given a Bénabou cosmos V and a V-functor H : Cop × C →V, we deﬁne
´
c H(c, c)
to be the limit of H weighted by C(
, =): Cop ⊠C →V (see Deﬁnition 4.22 for
the notation C ⊠D).
Remark 4.17 : Let F : C →A, W : C →V, U : Cop →V be V-functors and let A
be V-tensored. There are canonical isomorphisms
A(lim
−→
W F, x) ∼= lim
←−
W A(F, x)
(80)
A(y, lim
←−
UF) ∼= lim
←−
W A(y, F).
(81)
This can be recorded in the motto “the hom functor commutes with weighted limits”
(prove it as an exercise).
Example 4.18 [The cone construction as a weighted colimit]: Let K be a
ring, and V = Ch(K) the category of chain complexes of K-modules. Considering V
as a V-category in the obvious way, we aim to prove that the mapping cone C(f) =
X∗[1]⊕Y∗of a chain map f : X∗→Y∗[Wei94, 1.5.1] in Vcan be characterized as the
weighted colimit lim
−→
W f, where f : ∆[1] →V is the arrow f, and W : ∆[1]op →V
is the functor which chooses the map S1(K)∗→D2(K)∗, where Sn(K)∗= K[n]∗
is the chain complex with the only nonzero term K concentrated in degree −n, and
Dn(K)∗is the complex
· · ·
/ 0
/ K
K
/ 0
/ · · · ,
where the ﬁrst nonzero term is in degree −n.
There is an obvious inclusion
Sn
∗,→Dn+1
∗
:
· · ·
/ 0
/ 0

/ K
/ 0
/ · · ·
· · ·
/ 0
/ K
K
/ 0
/ · · · .
We now aim to prove that
C(f) ∼=
ˆ i∈∆1
W(i) ⊗f(i).
(82)

36
FOSCO LOREGIAN
In view of (the dual of) Exercise 1.E12, it is enough to show that there is a pushout
square
W(1) ⊗f(0)
⌜
/

W(1) ⊗f(1)

W(0) ⊗f(0)
/ C(f)
This is a rather simple exercise in universality, given the maps
B
( 0
1)
/ C(f)
A ⊕A[1].
  0 1
f 0

o
(83)
In addition to those of Def. 4.3 is a fourth characterization for the category of
elements of a presheaf that couches it as a particular weighted colimit which, using
the formalism exposed in this section, can be written as a coend. Example 4.19
below is a guided exercise in proving and clarifying this statement.
Example 4.19 [The category of elements of a presheaf]: The scope of
this example is to prove that the category of elements of a functor F : C →Sets
introduced in Def. 4.1 can be characterized as a Cat-weighted colimit: it is, in
particular, the category isomorphic to the colimit
C
´
W ∼=
ˆ c∈C
c/C × Wc
(84)
where Wc is the set, regarded as a discrete category; it is, in other words, isomorphic
to the weighted colimit lim
−→
JW, where J : Cop →Cat is the functor c 7→c/C (the
“coslice” category of arrows c →x).
To prove this statement, we verify that C
´
W has the universal property of the
coequalizer of the pair
a
f : a→b
b/C × Wa
α
/
β
/
a
c∈C
c/C × Wc
(85)
where α has components αf : b/C × Wa
1×F f
−−−−→b/C × Wb sending
h b
↓
x
i
, u

7→
h b
↓
x
i
, F(f)u

and β has components βf : b/C × Wa
f ∗×W a
−−−−−→a/C × Wa sending
h b
↓
x
i
, u

7→

a
f−→b
↓
x

, u

. Of course, these maps are composed with the suitable
coproduct injections.
It’s rather easy now to deﬁne a functor
θ:
a
a∈C
a/C × Wa −→C
´
W
(86)
having components θa : a/C×Wa →C
´
W sending
h a
f↓
b
i
, u ∈Fa

7→(b, F(f)(u) ∈Fb),
which coequalizes α and β. This functor θ has the universal property of the coequal-
izer: given any other ζ : `
a∈C a/C×Wa →K we can deﬁne a functor ζ : C
´
W →K
such that
ζ(a, u ∈Fa) = ζ(ida, u).
(87)

ENDS
37
Now notice that every map ζ′ that coequalizes (α, β) has the property that
ζ′ h b
g↓
x
i
, F(f)u

= ζ′

a
f−→b
↓
x

, u

(88)
It is now a routine veriﬁcation to see that ζ ◦θa = ζa, and every other functor with
this property must coincide with our ζ. This concludes the proof.
Remark 4.20 : The reader may have noticed that all the above discussion gives a
ﬁfth presentation for the category of elements C
´
W, as the image of W under the
Kan extension LanよJ: in the language of §3, J : Cop →Cat is the nr-context of
the paradigm
C
´
: [C, Sets]
/ Cat: NJ
o
(89)
where NJ : Cat →[C, Sets] is the “nerve” functor sending A to c 7→Cat(c/C, A).
Remark 4.21 : An alternative approach to characterize C
´
W is the following: the
category C
´
W is precisely the lax limit of W regarded as a Cat-valued presheaf
[Kel89, §4], [Gra, Str76].
A fundamental step to write the theory of weighted limits relies upon the above-
mentioned isomorphism
A
 m, lim
←−
W F
 ∼= VC(W, A(m, F(
)))
(90)
valid in a V-category A naturally in any object m ∈A; this isomorphism has to
be interpreted in the base-cosmos V, and this means that we have to ﬁnd a way
to interpret the category VC as an object [C, V] of V: to do this, we must endow
V Cat with a closed symmetric monoidal structure, such that
V-Cat(C ⊠E, D) ∼= V-Cat(E, [C, D]).
(91)
Deﬁnition 4.22 : Given two V-categories C, D we deﬁne the V-category C ⊠D
having
• as objects the set C × D, and
• as V-object of arrows (c, d) →(c′, d′) the object
C(c, c′) ⊗D(d, d′) ∈V.
(92)
The free V-category I associated to the terminal category is the unit object for this
monoidal structure.
Proposition 4.23 : (V-Cat, ⊠) is a closed monoidal structure, with internal hom
denoted [
,
]: V-Catop × V-Cat →V-Cat.
Proof. Given C, D ∈V-Cat we deﬁne a V-category whose objects are V-functors
F, G: C →D and where (‘abstracting’ Theorem 1.18 to the enriched setting) the
V-object of natural transformations F ⇒G is deﬁned via the end
[C, D](F, G) :=
ˆ
c∈C
D(Fc, Gc).
(93)

38
FOSCO LOREGIAN
Recall that in the unenriched case, the end was better understood as the equalizer
of a pair of arrows:
ˆ
c∈C
D(Fc, Gc) ∼= eq
 Y
c∈C
D(Fc, Gc) ⇒
Y
c,c′
Y
c→c′
D(Fc, Gc′)

(94)
In the enriched case, we can consider the same symbol, and re-interpret the product
Q
C(c,c′) as a suitable power in V:
ˆ
c∈C
D(Fc, Gc) ∼= eq
 Y
c∈C
D(Fc, Gc) ⇒
Y
c,c′
D(Fc, Gc′)C(c,c′)
(95)
(see also [Gra80, §2.3], [Dub70] for a more detailed discussion about co/ends in
enriched setting.)
It remains to prove, now, that the isomorphism (91) holds: this is rather easy,
since in the above notations, any functor F : C ⊠E →D deﬁnes a unique functor
ˆF : E →[C, D].12
□
The given deﬁnition for the enriched end allows us to state an elegant form of
the V-enriched Yoneda lemma:
Remark 4.24 [V-Yoneda lemma]: Let D be a small V-category, d ∈D an object,
and F : D →V a V-functor. Then the canonical map
Fd −→[D, V](D(d,
), F)
(96)
induced by the universal property of the involved end13 is a V-isomorphism.
Homotopy co/limits as weighted co/limits.
We can express the Bousﬁeld-
Kan construction for the homotopy co/limit functor using co/end calculus (see 7.2.1
for a crash course on what’s an homotopy co/limit). We condense Bousﬁeld-Kan
construction in the following series of examples.
Theorem 4.25 [The Bousfield-Kan formula for homotopy co/limits]: Let
F : J →Mbe a diagram in a model category (M, wk, cof, fib) which is tensored and
cotensored over the category sSet of simplicial sets by functors ⋔: sSetop × M →M
and ·: sSet × M →M. Then the homotopy limit holim
←−−−F of F can be computed as
the end
ˆ
j
N(J/j) ⋔F(j),
(97)
and the homotopy colimit holim
−−−→F of F can be computed as the coend
ˆ j
N(j/J) · F(j).
(98)
12Notice that for any two objects e, e′
∈
E, the collection of arrows hom(e, e′)
→
hom(F(c, e), F(c, e′)] is a wedge in c ∈C.
13Notice that this is an alternative point of view on the proof of the ninja Yoneda lemma 2.1;
this arrow is induced by a wedge {Fd →V(D(d, a), Fa)}a∈C, whose members are the mates of
the various D(d, a) →V(Fd, Fa) giving the action of F on arrows.

ENDS
39
Remark 4.26 : These two universal objects are weighted co/limits in an evident way:
it is possible to rewrite holim
←−−−F ∼= lim
←−
N(J/
)F and holim
−−−→F ∼= lim
−→
N(
/J)F.
The idea behind this characterization is that the co/limit functor results as the
weighted colimit over the terminal weight. When we want to pass to the homotopy
invariant version of the lim
−→
(
)(
) bifunctor we can choose to ‘replace’ the diagram
part F or the weight W with a more homotopically-well-behaved diagrams ˆF or
˜W. Bousﬁeld-Kan formula arises precisely when we derive the weight: N(j/J) and
N(J/j) are contractible categories, and they are linked to N(∗) by an homotopy
equivalence induced by the terminal functor.
Then, the categories N(J/
), N(
/J) must be thought as proper replacements
for the co/limit functor that correct its failure to preserve weak equivalences (see
[Str11, Ch. 6] for an extremely hands-on account of the theory of homotopy co/limits
in topology).
E1 Prove Equation (78) using the characterization of lim
←−
W F ∼
=
´
c FcW c, plus its universal
property.
E2 What is the category of elements of the hom functor? Compare with Deﬁnition 1.12.
E3 Every deﬁnition we gave until now can be dualized to obtain a theory of weighted
colimits: ﬁll in the details.
i) (weighted colimits as coends) If A is cocomplete, we can express the weighted
colimit lim
−→
W F as a coend: more precisely
lim
−→
W F ∼
=
ˆ c∈C
Wc · Fc
(99)
where we used, like everywhere else, the Sets-tensoring of A.
ii) (left Kan extensions as weighted colimits) Let F : C →A and K : C →D be
functors; then
LanK F(
) ∼
=
ˆ c∈C
D(Kc,
) · Fc ∼
= lim
−→
D(K
,
)F
(100)
iii) (coends as hom-weighted colimits) The coend of H : Cop × C →D can be written
as lim
−→
C(
,
)H.
iv) If the weight W is Sets-valued, the colimit of F weighted by W can be written as
a conical colimit over Cop´
W:
lim
−→
W F ∼
=
lim
−→
(c,x)∈Cop´
W
FΣ
(101)
v) (functoriality) If the W-colimit of F : C →A always exists, then the correspondence
(W, F) 7→lim
−→
W F is a functor, cocontinuous in its ﬁrst variable:
lim
−→
(
)(=): SetsCop × AC −→A,
lim
−→
 lim
−→J Wj

F ∼
= lim
−→J
 lim
−→
Wj F
(102)
vi) (comparison) There is a canonical natural transformation W →∗, inducing a
canonical comparison arrow from the W-colimit of any F : C →A to the conical
colimit.
Exercises for §4

40
FOSCO LOREGIAN
E4 Let w: S0 ,→D1 be the canonical inclusion of {0, 1} into [0, 1] ⊂R, with the usual
topology; prove that the mapping cone of a continuous map f : X →Y is precisely the
weighted colimit lim
−→
wf.
E5 Fill in the details of the above proof; for those who need a hint, show that E(e, e′) →
D(F(x, e), F(x, e′)) is a wedge in x ∈C.
E6 Show that there are canonical isomorphisms lim
←−
W FJ ∼
= lim
←−
LanJ W F, and dually
lim
−→
W JF ∼
= lim
−→
W LanJ F.
E7 Show that the functor
´
B : [Cop × C, D] →D has a left adjoint using Example 4.14.
5. The theory of relators.
The lucid presentation in the notes [Béner] and in [CP08, §4], [Bor94b] are
standard references to follow this section. We re-read these sources with the eye of
the coend-fu master: the arguments we employ are essentially unchanged, and yet
coend-fu is implicitly used in [Béner], and only partially spelled out in [Bor94b].
Deﬁnition 5.1 [The bicategory of relators]: There exists a bicategory Relt
having
• 0-cells (objects) those of Cat (small categories A, B, C, D, . . . );
• 1-cells p, q . . . , depicted as arrows A ⇝B, the functors Aop × B →Sets;
• 2-cells α: p ⇒q the natural transformations between these functors.
Given two contiguous 1-cells A
p⇝B
q⇝C we deﬁne their composition q ⋄p as the
coend
q ⋄p(a, c) :=
ˆ x∈B
p(a, x) × q(x, c)
(103)
Deﬁnition 5.2 : This deﬁnition works well also with Sets replaced by an arbitrary
Bénabou cosmos V, i.e. in any symmetric monoidal closed and bicomplete category:
in this case we speak of V-relators in the bicategory Relt(V).
Remark 5.3 [Naming a category]: The 1-cells of Relt are more often called
profunctors or distributors ([Béner] follows the equation functions : functors =
distributions : distributors), correspondences (consider the case when V = {0, 1}
i.e. where A, B are sets regarded as discrete categories), or bimodules (consider the
case where V = Ab and A, B are rings; see [Gen15] and several examples below).
As we will see during the present section, the bicategory Relt carries a fairly rich
structure: it is then quite diﬃcult to choose a name for its 1-cells able to convey
this richness or the main features thereof.
There are several reasons why most of the above choices are unsatisfying: naming
the 1-cells of Relt “profunctors” may generate confusion as the preﬁx pro-C denotes
the pro-completion of a category C, i.e. the collection of all “formal” coﬁltered
limits of objects of C; then a pro-functor, etymologically, should be an object
of the pro-completion of some functor category, which is not true; justifying the
name “distributor” would request a more strict analogy between p: A →B and
distributions in mathematical analysis; correspondence is too common a name to
convey any intuition at all.
Category theorists know well that an elephant can have diﬀerent names according
to the angle it is observed from; we accept this situation, but at the same time we

ENDS
41
decide to add a new term to this already vast zoology, and we call the 1-cells of
Relt “relators”, motivated by the analogy in the following example.
Example 5.4 [Relators as generalized relations]: Notice that the category
V = {0, 1} (or more precisely, the poset {0 < 1}) is a cosmos. A relator between
{0, 1}-categories is a function between sets Aop × B →{0, 1}, namely a function
A × B →{0, 1}, or in other words a relation regarded as a subset R ⊆A × B.
From this point of view, relators A ⇝B can be thought as generalized relations,
taking values in more complicated, or structured, enriching cosmoi. This point of
view is what Lawvere [Law73, §4,5] calls generalized logic, and it regards the coend
in Def. 5.1, and the product p(a, x) × q(x, b) therein, as a generalized existential
quantiﬁcation and a generalized conjunction respectively, giving a composition rule
for generalized relations: the coend stands as
(x, z) ∈R ◦S ⇐⇒∃y ∈Y :
 (x, y) ∈R

∧
 (y, z) ∈S

(104)
for two relations R ⊆X × Y, S ⊆Y × Z: we can depict this analogy as in Figure
5: this is valid for suitable relations R: X ⇝Y and S : Y ⇝Z or suitable relators
r: X ⇝Y and s: Y →Z.
(x, z) ∈S ◦R
⇐⇒
∃y ∈Y
 (x, y) ∈R

∧
 (y, z) ∈S

(s ⋄r)(x, z)
=
ˆ y∈Y
r(x, y)
×
s(y, z)
Figure 1. The analogy between the composition of relators be-
tween categories and the composition of relations between sets
gives rise to what lawvere calls generalized logic.
Example 5.5 : Let A, B be sets, considered as categories having only identity arrows
via the embedding Sets ⊂Cat. A relator A ⇝B is then simply a collection of sets
Pab, one for each a ∈A, b ∈B. Their composition then results in a “categoriﬁed”
matrix multiplication, in that the coend simpliﬁes to be a mere coproduct: given
p: A →B, q: B →C we have
(p ⋄q)ac =
a
b∈B
Pab × Qbc
(105)
if Pab = p(a, b) and Qbc = q(b, c).
Remark 5.6 : There is an alternative, but equivalent deﬁnition for q ⋄p which
exploits the universal property of bC as a free cocompletion: by deﬁnition, the
category of relators p: A ⇝B ﬁts into an isomorphism
Cat(Aop × B, Sets) ∼= Cat(B, [Aop, Sets])
(106)

42
FOSCO LOREGIAN
where p corresponds to a functor bp: B →bA obtained as b 7→p(
, b). Hence we can
deﬁne the composition A
p⇝B
q⇝C to be Lanよbp ◦bq:
B
よ
bp
/ bA
C
bq
/ bB
Lanよbp
@
(107)
This is equivalent to the previous deﬁnition, in view of the characterization of a left
Kan extension as a coend in bA, given in (40):
Lanよbp ∼=
ˆ b
bB(よb,
) · bp(b).
(108)
Since in Sets the copower functors coincides with product (as Sets(X · Y, B) ∼=
Sets(X, Sets(Y, B)) ∼= Sets(X × Y, B), naturally in B), we have
Lanよbp(bq(c)) ∼=
ˆ b
bB(よb, bq(c)) · bp(b)
∼=
ˆ b
bq(c)(b) · bp(b)
∼=
ˆ b
p(
, b) × q(b, c).
Remark 5.7 : The properties of (strong) associativity and unitality for the com-
position of relators follow directly from the associativity of cartesian product, its
cocontinuity as a functor of a ﬁxed variable, and from the ninja Yoneda lemma 2.1,
as shown by the following computation:
• Composition of relators is associative (up to isomorphism), giving the
associator of a bicategory structure:
p ⋄(q ⋄h) =
ˆ x
p(b, x) × (q ⋄h)(x, a)
=
ˆ x
p(b, x) ×
 ˆ y
q(x, y) × h(y, a)

∼=
ˆ xy
p(b, x) ×

q(x, y) × h(y, a)

(p ⋄q) ⋄h =
ˆ x
(p ⋄q)(b, x) × h(x, a)
∼=
ˆ xy 
p(b, y) × q(y, x)

× h(x, a)
and these results are clearly isomorphic, and naturally so, once we changed
name to “integration” variables (which are obviously “mute”). See Remark
5.8 below for a discussion on the coherence laws of this associator.

ENDS
43
• Any object A has an identity arrow, given by the “diagonal” relator
A(
,
) = homA : Aop × A →Sets: the fact that p ⋄hom ∼= p, hom ⋄q ∼= q
simply rewrites the ninja Yoneda lemma.
Remark 5.8 : The isomorphism above is part of the data turning Relt into a bicate-
gory; the associator realizes the identiﬁcation between diﬀerent parenthesizations
of 1-cells, and the unitor realizes the identiﬁcation between p ⋄hom ∼= p.
To ensure that “every” diagram which can be constructed from these data
commutes some coherence conditions have to be imposed. One of these is the
pentagon identity [ML98], encoded in the following diagram:
((wx)y)z
(w(xy))z
w((xy)z)
w(x(yz))
(wx)(yz)
This equality is natural in each argument (as a consequence of being a composition
of natural transformations).
It’s immediate to observe that the validity of the pentagon identity in the case of
the cartesian monoidal structure of Sets, and the naturality thereof, ensure that the
associator (whose components are) (p ⋄q) ⋄h ⇒p ⋄(q ⋄h) satisﬁes the pentagon
identity; a similar argument shows that the unitor satisﬁes similar (left and right)
triangular identities, as a consequence of the naturality of the ninja Yoneda lemma
2.1.
Deﬁnition 5.9 [Einstein notation]: There is a useful notation which can be implied
to shorten involved computations with coends, and which is particularly evocative
when dealing with relators; we choose to call it Einstein convention for evident
graphical reasons.14
Let p: A ⇝B, q: B ⇝C be two composable relators. If we adopt the notation
pa
b, qb
c to denote the images p(a, b), q(b, c) ∈Sets (keeping track that superscripts
are contravariant and subscripts are covariant components), then composition of
relators acquires again the form of a “matrix product”:
p ⋄q(a, c) =
´ b pa
b × qb
c =
´ b pa
bqb
c.
(109)
From now on, we feel free to adopt the Einstein summation convention during long
calculations.
14This notation has been adopted also in the beautiful [RV14], a valuable reading for several
reasons, last but not least the fact that its authors adopt some coend-fu to simplify the discussion
about “Reedy calculus”.

44
FOSCO LOREGIAN
Remark 5.10 [(Co)presheaves are relators]: Presheaves on C obviously cor-
respond to relators C ⇝1; copresheaves, i.e. functors C →Sets, correspond to
relators 1 ⇝C.
5.1. Embeddings and adjoints.
There are two identity-on-objects embeddings
Cat →Relt (respectively the covariant and the contravariant one, looking at the
behaviour on 2-cells), and send a diagram in Cat respectively to
C
F

G

Catop →Relt
C
D
pF
Z
pG
7→
D
D
α +3
pα +3
C
F

G

Catco →Relt
C
pF

pG

7→
D
D
α +3
ks pα
(110)
This clearly deﬁnes a (pseudo)functor, since it’s easy to see that
• pF G ∼= pF ⋄pG, and pF G ∼= pG ⋄pF ;
• pidA = pidA = A(
,
).
Natural transformations α: F ⇒G are obviously sent to 2-cells in Relt, and the
covariancy of this assignment is uniquely determined as in the diagram above.
Remark 5.11 : The 1-cells pF , pF are not independent: they are adjoint 1-cells in
the bicategory Relt. Indeed, for every F ∈Cat(A, B) we can deﬁne 2-cells
ϵ = ϵF : pF ⋄pF
+3 B(
,
)
(111)
η = ηF : A(
,
)
+3 pF ⋄pF
(112)
(counit and unit of the adjunction): here we unravel the coends involved in these
deﬁnitions.
• For what concerns the counit, we write the coend pF ⋄pF as the quotient
set
ˆ x
B(a, Fx) × B(Fx, b) =
 a
x∈A
B(a, Fx) × B(Fx, b)

/≃
(113)
where ≃is the equivalence relation generated by
 a
u−→Fx, Fx
v−→b

≃
 a
u′
−→Fy, Fy
v′
−→b

if there is t: x →y such that v′ = Ft ◦v e Ft ◦u = u′.
This can be visualized as the commutativity of the square
Fx
F t

v
&
a
u′
&
u
8
b
Fy
v′
9
(114)
Now it’s easily seen that sending
 a
u−→Fx, Fx
v−→b

in the composition
v ◦u descend to the quotient with respect to ≃, hence ϵ: pF ⋄pF →B(
,
)
is well deﬁned. All boils down to notice that the composition
c: B(a, Fx) × B(Fx, b) →B(a, b)
(115)

ENDS
45
deﬁnes a cowedge in the variable x.
• The unit of the adjunction is the 2-cell
η: A(
,
)
+3 pF ⋄pF
(116)
obtained when we noticed that pF ⋄pF (a, b) =
´ X B(Fa, x) × B(x, Fb) ∼=
B(Fa, Fb) (as a consequence of the ninja Yoneda lemma), is simply deter-
mined by the action of F on arrows, A(a, b) →B(Fa, Fb).
We now have to verify that the zig-zag identities (see [Bor94a, Thm.3.1.5.(2)]) hold:
(pF ⋄ϵ) ◦(η ⋄pF ) = idpF
(ϵ ⋄pF ) ◦(pF ⋄η) = idpF
As for the ﬁrst, we must verify that the diagram
pF
∼/ B(
,
) ⋄pF
η⋄pF
/ (pF ⋄pF ) ⋄pF
∼
=

pF
pF ⋄B(
,
)
∼
o
pF ⋄(pF ⋄pF )
pF ⋄ϵ
o
(117)
commutes. One has to send h ∈pF (u, v) = B(Fu, v) in the class [(idu, h)] ∈
´ x B(u, x) × B(Fx, v), which must go under η ⋄pF in the class [(F(idu), h)] ∈
´ xy B(Fa, x) × B(x, Fy) × B(Fy, b), canonically identiﬁed with
´ y B(Fa, Fy) ×
B(Fy, b). Now pF ⋄ϵ acts composing the two arrows, and one obtains F(idA)◦h = h
back.
Similarly, to prove the second identity, the diagram
pF
∼/ pF ⋄B(
,
)
pF ⋄η
/ pF ⋄(pF ⋄pF )
∼
=

pF
B(
,
) ⋄pF
∼
o
(pF ⋄pF ) ⋄pF
ϵ⋄pF
o
(118)
must commute (all the unlabeled isomorphisms are the canonical ones). This
translates into

a
u−→Fb
 
/ (u, idb)∼
/ (u, F(idb)) 
/ u ◦F(idb) = u,
(119)
which is what we want; hence pF ⊣pF .
□
Remark 5.12 : Two functors F : A ⇆B: G are adjoints if and only if pF ∼= pG (and
therewith G ⊣F) or pG ∼= pF (and therewith F ⊣G).
Remark 5.13 : It is a well-known fact (see [Bor94a, dual of Prop. 3.4.1]) that if
F ⊣G, then F is fully faithful if and only if the unit of the adjunction η: 1 →GF
is an isomorphism.
This criterion can be extended also to functors which do not admit a “real” right
adjoint, once noticed that F is fully faithful if and only if A(a, b) ∼= B(Fa, Fb) for
any two a, b ∈A, i.e. if and only if the unit η: homA ⇒pF ⋄pF is an isomorphism.

46
FOSCO LOREGIAN
Example 5.14 : Given a relator p: A ⇝B and a functor F : B →D we can deﬁne
p ⊗F to be the functor A →D given by Lany F ◦bp (provided this colimit exists),
where bp: B →bA is the adjunct of p.
More explicitly,
p ⊗F(a) =
ˆ b
Nat(よb, p(
, a)) · Fb ∼=
ˆ b
pb
a · Fb
(120)
Exploiting this deﬁnition, several things can be proved via coend-fu:
• homB ⊗F ∼= F as a consequence of the ninja Yoneda lemma;
• If C
q⇝A
p⇝B
F−→X, then (p ⋄q) ⊗F ∼= q ⊗(p ⊗F): indeed
[(p ⋄q) ⊗F]a =
ˆ b
(p ⋄q)b
a × Fb
∼=
ˆ bx
pb
x × qx
a × Fb
∼=
ˆ x
qx
a ×
 ˆ b
pb
x × Fb

∼=
ˆ x
qx
a × (F ⊗p)x = [q ⊗(p ⊗F)]a
Example 5.15 [Kan extensions in Relt]: Any relator p has a right Kan extension
Ranp in the sense that the notion has in any bicategory, where composition of
functors or natural transformations is replaced by composition of 1- or 2-cells.
One has the following chain of isomorphisms in Relt (see Deﬁnition 5.9 for the
Einstein convention):
Nat(g ⋄p, h) ∼=
ˆ
ab
Sets
 (g ⋄p)a
b, ha
b

∼=
ˆ
ab
Sets
 ˆ x
ga
x × px
b , ha
b

∼=
ˆ
abx
Sets
 ga
x, Sets(px
b , ha
b)

∼=
ˆ
ax
Sets

ga
x,
ˆ
b
Sets(px
b , ha
b)

∼=
ˆ
ax
Sets

ga
x, Ranp ha
x

∼= Nat(g, Ranp h)
when we deﬁne Ranp h(a, x) to be Nat
 p(x,
), h(a,
)

.
Remark 5.16 [The multibicategory of relators]: The bicategory of relators
can be promoted to a multibicategory in the sense of [CKS03, 1.4]; this means that
we exploit the (partial) monoidal structure on each Relt(C, D) to specify a class of

ENDS
47
multimorphisms η: p1, . . . , pn ⇝q, depicted as diagrams
X0

q
C
p1
/ X1
p2
/ . . .
pn / Xn
η

(121)
and composition, associativity and unitality thereof, follow at once from pasting
laws for 2-cells in 2-categories [Kel82] (try to outline them as a straightforward
exercise).
Remark 5.17 [exact squares and relators]: Let us consider Cat as a 2-category;
a square
S =
A
T
/
S

⇒
α
Y
V

X
U
/ B
(122)
ﬁlled by a 2-cell α will be called a carré (see [Gui80]). Any carré induces a 2-cell
A
⇒
α♭
_
pS

Y
pT
o
_pV

X
B

pU
o
(123)
deﬁned by the universal property of profunctor composition via the cowedge
˙α♭
(a),xy : X(x, Sa) × Y(Ta, y) −−−→B(Ux, V y)
(124)
sending the pair (f, g) =
h x
↓
Sa
i
,
h T a
↓
y
i
into V g ◦αa ◦Uf.
We say that a carré is exact if α♭is invertible, i.e. if
´ a X(x, Sa) × Y(Ta, y) ∼=
B(Ux, V y).
[Gui80] observes that there is a criterion for a carré to be exact that does not
involve profunctors: let S be as above, and let us consider the induced diagram
A
!
%
ϕ
#
(U ↓V )
d1
/
⇒
a
d0

Y
V

X
U
/ B
(125)
where (U ↓V ) is the comma category of the cospan X
U−→B
V
←−Y and ϕ is the
unique induced functor to (U ↓V ). For each pair of functors X
P−→Z
Q
←−Y we have

48
FOSCO LOREGIAN
the following identiﬁcations of sets:
Nat(Pd0, Qd1)

Relt(Y, X)(pd0 ⋄pd1, pP ⋄pQ)
Relt(Y, X)(pU ⋄pV , pP ⋄pQ)

Nat(PS, QT)
Relt(Y, X)(pA ⋄pT , pP ⋄pQ)
(126)
where the vertical arrows are induced by whiskering. Then we have that S is eact if
and only if for each P, Q there is a bijection
Nat(PS, QT) ∼= Nat(Pd0, Qd1).
(127)
E1 Describe relators between monoids, regarded as one-object categories; describe relators
between posets regarded as thin categories.
E2 Given relators k: C ⇝D and l: C ⇝E deﬁne
k ▷l =
ˆ
c
[k(c,
), l(c,
)]
Show that this operation is a right Kan extension (of l along k); dually, given h: D ⇝A
and l: E ⇝A we can deﬁne
l ◁h =
ˆ
a
[h(=, a), l(
, a)].
(128)
Show that this second operation is a right Kan lifting: given 1-cells p: B →C, f : A →
C in a 2-category K, a right Kan lift of f through p, denoted Riftp f, is a 1-cell
Riftp(f): A →B equipped with a 2-cell
ε : p ◦Riftp(f) ⇒f
(129)
satisfying the following universal property: given any pair (g : A →B, h: p ◦g ⇒f),
there exists a unique 2-cell
ζ : g ⇒Riftp(f)
(130)
such that the following diagram of 2-cells commutes for a unique ζ : g ⇒Riftp(f)
B
 
A
g
-
/ C
h

=
B
 
A
g
+
Riftp(f)
?
/ C
ϵ

ζ
#
(131)
i.e. there is a unique factorization ε ◦(p ∗ζ) = h.
E3 Show that the two operations above “behave like an action” on (Relt, ⋄, hom) on the
bicategory Relt:
i) (k ⋄h) ▷l ∼
= k ▷(h ▷l);
ii) l ◁(k ⋄h) ∼
= (l ◁k) ◁h;
iii) hom ▷l ∼
= l ∼
= l ◁hom.
This is a naïve way to see that the structure on Relt given by ⋄is biclosed (i.e., ⋄is a
bifunctor Relt(A, B) × Relt(B, C) →Relt(A, C) and each p ⋄
, as well as each
⋄q
have right adjoints).
Exercises for §5

ENDS
49
E4 The collage of two categories A, B along a relator p: A ⇝B is deﬁned to be the category
A ⊎p B with the same objects as A ⨿B and morphisms given by the rule
A ⊎p B(x, y) =



A(x, y)
if x, y ∈A
B(x, y)
if x, y ∈B
p(x, y)
if x ∈A, y ∈B
(132)
and empty in every other case. Show that A ⊎p B has the universal property of the
category of elements of p, regarded as a presheaf.
E5 Show that there is an equivalence between the category of relators A ⇝B and the
category of discrete ﬁbrationsa from B to A; this equivalence is induced by the collage
construction of Exerc. §5.E4.
E6 Show that the composition laws p(A, B) × B(B, B′) →p(A, B′), A(A, A′) × p(A′, B) →
p(A, B) of arrows in A ⊎p B are governed by the universal property of a coend.
E7 The cocomma object (F/G) of two functors X
F
←−A
G
−→Y is deﬁned to be the pushout
of
A ⨿A

/ A × ∆[1]
X ⨿Y
(133)
in Cat, where the horizontal arrow is the “cylinder” embedding. Show that (F/G) is
the collage of X and Y along the relator pG ⋄pF : X ⇝Y.
E8 Given relators A
p⇝B
q⇝C consider the categories A ⊎ϕ B and B ⊎ψ C. Describe the
pushout
B
/

A ⊎ϕ B

B ⊎ψ C
/ H
⌜
(134)
in Cat. Is there a relation between H and the collage A ⊎C along q ⋄p?
E9 Isbell duality (3.16) can be regarded as an adjunction between the categories
Relt(1, C)op ⇆Relt(C, 1).
(135)
where 1 is the terminal category. Is it possible to extend this result to an adjunction
Relt(D, C)op ⇆Relt(C, D)?
E10 Show that there is a canonical isomorphism
Cat(X, Y)(FG, HK) ∼
= Relt(W, Z)(pG ⋄pK, pF ⋄pH)
(136)
for each square
X
G
/
K

⇒
α
Z
F

W
H
/ Y
(137)
ﬁlled by a 2-cell α. This map sends α to a 2-cell α♯in Relt. Does this equivalence
restrict to strongly commutative squares, giving strongly commutative squares in Relt?
E11 A promonoidal category is what we obtain taking the deﬁnition of a monoidal category
and we replace every occurrence of the word functor with the word profunctor. A
monoid object in Relt is a category C, endowed with a bi-relator P : C × C ⇝C (the
multiplication) and a profunctor J : 1 ⇝C (the unit), such that P is associative and
(two-sided) unital. These data form what is called a promonoidal structure on the
category C, denoted P = (P, J, α, ρ, λ).

50
FOSCO LOREGIAN
• Write the relations
P ⋄(P × hom) ∼
= P ⋄(hom ×P)
(138)
P ⋄(J × hom) ∼
= hom ∼
= P ⋄(hom ×J)
(139)
in diagrammatic and equational form, respectively, expanding the composition of
profunctors.
• Let P = (P, J, α, ρ, λ) be a promonoidal structure on the category C; then we
can deﬁne a P-convolution on the category [C, Sets] (or more generally, on the
category [C, V]), via
[F ∗P G]c =
ˆ ab
P(a, b; c) × Fa × Gb
(140)
JP = J
(141)
and this turns out to be a monoidal structure on [C, Sets]. We denote the monoidal
structure ([C, Sets], ∗P, JP) shortly as [C, Sets]P.
• Outline the promonoidal structure P giving the Day convolution described in
Deﬁnition 6.2. If C is any small category, we deﬁne P(a, b; c) = C(a, c) × C(b, c)
and J to be the terminal functor C →Sets. Outline the convolution product on
[C, Sets], called the Cauchy convolution, obtained from this promonoidal structure.
aA functor p: E →B is a discrete ﬁbration if for each object e ∈E and arrow f : b′ →pe ∈B,
there exists a unique lift g : e′ →e.
6. Operads using coends.
Since they were introduced by P. May in his [May72] to solve a problem in
algebraic topology,15 it has been clear that operads are monoid-like objects in some
category of functors; making this analogy a precise statement, using the power of
coend-fu, is the content of Kelly’s [Kel05], which we follow here almost verbatim.
This section demonstrates the ability of coend-fu to be a perfect bookkeeping tool
in otherwise extremely involved combinatorial arguments.
A certain acquaintance with the machinery of operads is a fundamental pre-
requisite to follow the discussion; unfortunately, given the plethora of diﬀerent
interpretation of the theory, and diﬀerent areas of mathematics where the notion of
operad arises, the beginners (the author of the present note is undoubtedly among
them) may feel rather disoriented when approaching any book on the subject, so
it’s extremely diﬃcult to advise a single, comprehensive reference.
Among classical textbooks, we can’t help but mention the founder [May72], as
well as more recent monographies like [LV12, MSS02] written respectively from the
algebraist’s and topologist’s point of view. Among less classical and yet extremely
valid points of view, the author proﬁted a lot from a lucid, and unfortunately still
unﬁnished, online draft [Tri] written by T. Trimble.
Local conventions.
Along the whole section we will adopt the following notation
and conventions:
• P is the groupoid of natural numbers, i.e. the category having objects the
nonempty sets {1, . . . , n} (denoted as n for short, assuming that 0 = ∅)
15There are several reasons why algebraic topologists are interested in spaces Y which are
homotopy equivalent to ΩX; they are much more interested in spaces Y ≃ΩnX, and in spaces
such that “Y ≃Ω∞X”: these are called inﬁnite loop spaces. [May72] oﬀers a way to recognize
inﬁnite loop spaces among all spaces. See [Ada78] for more informations.

ENDS
51
where P(m, n) = ∅if n ̸= m and Sn (the group of bijections of n-element
sets) if n = m. It is evident that P is the disjoint union of groups `
n≥0 Sn
in the category Gpd of groupoids.
• like elsewhere, Vis a ﬁxed co/complete symmetric monoidal closed category.
Remark 6.1 : Notice that P has a symmetric monoidal structure, with tensor the
sum of natural numbers; the action on arrows is given by (σ, τ) 7→σ + τ deﬁned
acting as σ on the set {1, . . . , m} and as τ on the set {m + 1, . . . , m + n} (these
permutations are called shuﬄes).
6.1. Convolution product.
The rough idea behind the deﬁnition is the following:
in the same way the set of regular functions f : G →C on a topological group G
acquires a convolution product given by (f, g)(x) =
´
G f(xy−1)g(y)dy (the integral
sign here is not an end!), we can endow the category of co/presheaves F : C →V
with a monoidal structure induced by a monoidal structure on C, which is diﬀerent
from the pointwise one, induced by the monoidality of the codomain. This is called
the convolution product of functors; the last Exercises in §5 give a generalization of
this point of view.
Deﬁnition 6.2 [Day convolution]: If C is a symmetric monoidal category, then
the functor category [C, V] is itself a Bénabou cosmos with respect to the monoidal
structure given by Day convolution product: given F, G ∈[C, V] we deﬁne
F ∗G :=
ˆ cd
C(c ⊗d,
) · Fc ⊗Gd
(142)
where we recall that X · V for X ∈Sets, V ∈V is the copower (or tensor) X · V
such that
V(X · V, W) ∼= Sets(X, V(V, W)).
(143)
Notation 6.3 : In the following sections we will make use of the “Einstein notation”
for co/ends deﬁned in 5.9; this will compactify a lot the exposition. A fundamental
rule to avoid getting lost is the following, really akin to the Einstein convention for
tensor operations: variables of integration are paired as subscript-superscript, and
whenever they are paired a co/end operation is implicit.
Without smart ideas to specify the diﬀerence we are forced to maintain all integral
signs, to discern ends from coends. In Einstein notation we write the convolution as
F ∗G =
ˆ cd
Cc⊗d
(
)FcGd
(144)
Proof. We have to show that this really deﬁnes a monoidal structure:
• Associativity follows from the associativity of the tensor product on C and
the ninja Yoneda lemma (see the remark above for the Einstein convention;
it is also harmless to suppress the distinction between monoidal products
in V and Sets-tensors, since the distinction can be easily devised with a
“dimensionality check”):
[F ∗(G ∗H)]x =
ˆ ab
Ca⊗b
x
Fa(G ∗H)b

52
FOSCO LOREGIAN
∼=
ˆ ab
Ca⊗b
x
ˆ cd
Cc⊗d
b
FaGcHd
∼=
ˆ abcd
Ca⊗b
x
Cc⊗d
b
FaGcHd
∼=
ˆ acd
Ca⊗(c⊗d)
x
FaGcHd
[(F ∗G) ∗H]x ∼=
ˆ acd
C(a⊗c)⊗d
x
FaGcHd.
• (Right) unitality : choose J = よI = C(I,
) and notice that the ninja
Yoneda lemma implies that
[F ∗J]x ∼=
ˆ cd
Cc⊗d
x
FcJd
∼=
ˆ cd
Cc⊗d
x
CI
dFc
∼=
ˆ c
Cc⊗I
x
Fc ∼= Fx.
• Left unitality is totally analogous.
Example 6.4 [Subdivision and joins as convolutions]: Compare Example 3.15
and the deﬁnition of join of augmented16 simplicial sets given in [Joy08]: given
X, Y ∈sSet+ we deﬁne
X ⋆Y =
ˆ p,q
Xp × Yq × ∆
∆
∆(
, p ⊕q)
(145)
where ⊕is the ordinal sum operation (see again [Joy08] or rather our 3.15).
The category [C, V] is left and right closed with respect to this monoidal structure:
the exponential G/H (or rather the functor G/
which is right adjoint to
∗G)
is given by
G/H :=
ˆ
c
[Gc, H(c ⊗
)]
(146)
where [
,
] is the internal hom in V, and often denoted JG, HK. We can compute
directly that
Nat(F ∗G, H) ∼=
ˆ
c
V
 (F ∗G)c, Hc

∼=
ˆ
c
V
 ˆ ab
Ca⊗b
c
FaGb, Hc
!
16The category ∆
∆
∆lacks an initial object [−1] = ∅; if we add this colimit we get a category ∆
∆
∆+,
and an augmented simplicial set is a presheaf on ∆
∆
∆+; the category of augmented simplicial sets is
denoted sSet+. There is a triple of adjoints induced by the inclusion i: ∆
∆
∆⊂∆
∆
∆+ and linking the
categories of simplicial and augmented simplicial sets. The join operation is easily seen to restrict
to simplicial sets (identiﬁed with augmented simplicial sets with empty set of (−1)-simplices)
giving a monoidal structure on sSet.

ENDS
53
∼=
ˆ
abc
V
 Ca⊗b
c
FaGb, Hc

∼=
ˆ
abc
V
 Fa, [Ca⊗b
c
Gb, Hc]

∼=
ˆ
abc
V
 Fa,

Gb, [Ca⊗b
c
, Hc]

∼=
ˆ
ab
V
 Fa,

Gb,
ˆ
c
[Ca⊗b
c
, Hc]

∼=
ˆ
ab
V
 Fa, [Gb, Ha⊗b]

∼=
ˆ
a
V

Fa,
ˆ
b
[Gb, Ha⊗b]

∼=
ˆ
a
V(Fa, JG, HKa)
∼= Nat
 F, JG, HK

.
□
Remark 6.5 : In the particular case C = P this means that [P, V] is monoidal closed
if we deﬁne
(F ∗G)k :=
ˆ mn
P(m + n, k) · Fm ⊗Gn
JF, GKk :=
ˆ
n
[Fn, Gn+k]
In particular, we have the formula
F1 ∗· · · ∗Fn =
ˆ k1,...,kn
P
 X
ki,

· F1k1 ⊗· · · ⊗Fnkn.
(147)
for the iterated convolution of F1, . . . , Fn ∈[C, V], which will become useful in a
while.
The gist of the deﬁnition of a V-operad lies in an additional monoidal structure
on [P, V], deﬁned by means of the Day convolution:
Deﬁnition 6.6 [Diamond product on [P, V]]: Let F, G ∈[P, V]. Deﬁne
F ⋄G :=
ˆ m
Fm ⊗G∗m,
(148)
where G∗m := G ∗· · · ∗G.
Associativity exploits the following
Lemma 6.7 : There exists a natural equivalence (F ⋄G)∗m ∼= F ∗m ⋄G.
Proof. It’s a formal manipulation:
(F ⋄G)∗m =
ˆ ⃗ni
P
 X
ni,

· (F ⋄G)n1 ⊗· · · ⊗(F ⋄G)nm
∼=
ˆ ⃗ni,ki
P
 X
ni,

· Fk1 ⊗G∗k1n1 ⊗· · · ⊗Fkm ⊗G∗kmnm

54
FOSCO LOREGIAN
∼=
ˆ ⃗ni,⃗ki
Fk1 ⊗· · · ⊗Fkm ⊗P
 X
ni,

· G∗k1n1 ⊗. . . G∗kmnm
∼=
ˆ ⃗ki
Fk1 ⊗· · · ⊗Fkm ⊗
 G∗k1 ∗· · · ∗G∗km
∼=
ˆ ⃗ki
Fk1 ⊗· · · ⊗Fkm ⊗G∗P
ki
ninja ∼=
ˆ ⃗ki,r
P
 X
ki, r

⊗Fk1 ⊗· · · ⊗Fkm ⊗G∗r
∼=
ˆ r
F ∗mr ∗Gr = F ∗m ⋄G
(we used a compact notation for
´ ⃗ni =
´ n1,...,nm; the ninja Yoneda Lemma is
used in the form G∗n ∼=
ˆ r
P(n, t) · Gt = P(n,
) ⋄G, because (n, G) 7→G∗n is a
bifunctor P × [P, V] →[P, V]).
□
Associativity of the diamond product now follows at once: we have
(F ⋄(G ⋄H))(k) =
ˆ m
Fm ⊗(G ⋄H)∗mk
∼=
ˆ m
Fm ⊗(G∗m ⋄H)k
∼=
ˆ m,l
Fm ⊗G∗ml ⊗H∗lk
∼=
ˆ l
(F ⋄G)l ⊗H∗lk
= ((F ⋄G) ⋄H)(k).
A unit object for the ⋄-product is J = P(1,
) · I; indeed J(1) = I, J(n) = ∅V for
any n ̸= 1 and the ninja Yoneda lemma applies on both sides to show unitality
rules:
• On the left one has
J ⋄F =
ˆ m
Jm ⊗F ∗m =
ˆ m
P(1, m) · F ∗m ∼= F ∗1 = F.
(149)
• On the right, G ⋄J ∼= G once noticed that J∗m ∼= P(m,
) · I since
J∗m =
ˆ ⃗ni
P
 X
ni,

· P(1, n1) · · · · · P(1, nm) · I
ninja ∼= P(1 + · · · + 1,
) · I = P(m,
) · I
because
ˆ ⃗ni
P(n1+· · ·+nm,
)·P(1, ni) ∼= P(n1+· · ·+ni−1+1+ni+1+· · ·+nm,
), (150)

ENDS
55
for any 1 ≤i ≤m (it is again an instance of the ninja Yoneda Lemma).
One has
G ⋄J =
ˆ m
Gm ⊗J∗m ∼=
ˆ m
Gm ⊗P(m,
) · I ∼= G.
(151)
Theorem 6.8 : The ⋄-monoidal structure is left closed, but not right closed.
Proof. It is a formal manipulation:
Nat(F ⋄G, H) ∼= Nat
 ˆ m
Fm ⊗G∗m, H

∼=
ˆ
k
V
 ˆ m
Fm ⊗G∗m, H

∼=
ˆ
km
V(Fm, [G∗mk, Hk])
∼=
ˆ
m
V(Fm,
ˆ
k
[G∗mk, Hk])
which is equal to Nat(F, {G, H}) if we deﬁne {G, H}m =
ˆ
k
[G∗mk, Hk]. Hence the
functor (
) ⋄G has a right adjoint for any G.
The functor F ⋄(
) can’t have such an adjoint (Incidentally, this shows also
that the diamond product can’t come from a convolution product with respect to a
promonoidal structure in the sense of Exercises E11). We leave the reader think
about the reason.
□
Deﬁnition 6.9 : An operad in V consists of a monoid object in [P, V] endowed with
the (⋄, {
,
}) left-closed monoidal structure.
More explicitly, an operad is a functor T ∈[P, V] endowed with a natural
transformation called multiplication, µ: T ⋄T →T and a unit η: J →T such that
T ⋄T ⋄T
T ⋄T
T ⋄T
T
T ⋄µ
µ
µ⋄T
µ
J ⋄T
T ⋄T
T ⋄J
T
η⋄T
µ
∼
=
T ⋄η
∼
=
are commutative diagrams.
Deﬁnition 6.10 [Endomorphism operad]: For any F ∈[P, V] the object {F, F}
is an operad whose multiplication is the adjunct of the arrow
{F, F} ⋄{F, F} ⋄F
{F, F} ⋄F
F
1⋄ev
ev
and whose unit is the adjunct of the isomorphism J ⋄F ∼= F.
Unraveling the previous deﬁnition, we can notice that an operad in V consists of
• Giving a natural transformation η: J →T amounts to a map η1 : I →T(1),
since J(1) = I, J(n) = ∅for n ̸= 1;
• Giving a natural transformation µ: T ⋄T →T, in view of the universal
property of the two coends involved, amounts to give a cowedge

56
FOSCO LOREGIAN
Tm ⊗P(n1 + · · · + nm, k) · Tn1 ⊗· · · ⊗Tnm
Tk
τ
for any m, n1, . . . , nm, k ∈N, natural in k and the ni and such that the
following diagram commutes:
Tm ⊗P(⃗n, k) · T⃗n
Tm ⊗P(⃗n, k) · T⃗n
Tm ⊗P(⃗n, k) · T⃗n
Tk
σ∗
σ∗
(the notation is self-evident) for every morphism σ ∈P. This is equivalent
to a transformation
Tm ⊗Tn1 ⊗· · · ⊗Tnm
[P(n1 + · · · + nm,
), T(
)]
bτ
(considering the ni ﬁxed and the ﬁrst functor constant in k) i.e., by the
Yoneda Lemma a natural transformation
Tm ⊗Tn1 ⊗· · · ⊗Tnm
T(n1 + · · · + nm).
bτ
This concludes the discussion, as it is precisely the deﬁnition of operad given in
[May97]. It only remains to verify that all the axioms given there are satisﬁed. This
is a tedious but necessary exercise.
E1 Show that the convolution product on [C, V] results as the following left Kan extension:
C × C
⊙

F ×G / V× V
⊗V / V
C
=
(152)
E2 Deﬁne two functors
Φ: [P, V] →V
(evaluation at 0)
Ψ: V →[P, V]
(the left adjoint to Φ)
Prove that Ψ(a ⊗b) ∼
= Ψa ⊗Ψb and Φ ◦Ψ ∼
= 1; ﬁnally, if a ∈V is identiﬁed with the
constant functor in a, then [P, V](a ∗F, G) ∼
= V(a, [F, G]), where
[F, G] :=
ˆ
n
V(Fn, Gn).
(153)
E3 Read [CG13] and take it as an outstanding exercise in generalizing the topic of this
section.
Exercises for §6

ENDS
57
7. Higher dimensional coend calculus.
Entonces desaparecerán del planeta el inglés y el francés y
el mero español. El mundo será Tlön. Yo no hago caso, yo
sigo revisando en los quietos días del hotel de Adrogué una
indecisa traducción quevediana (que no pienso dar a la
imprenta) del Urn Burial de Browne.
J.L. Borges, Tlön, Uqbar, Orbis Tertius
Category theory was born in 1945 when Mac Lane and Eilenberg [EM45] isolated
the correct deﬁnition of natural transformation between functors.
By doing this, they introduced the paradigmatic example of a 2-category: in this
precise sense then category theory aims from its very beginning to become higher
category theory. And yet despite its age, basic questions, burdened by an intrinsic
computational diﬃculty, are still intricate, subtle and very challenging.
Even though for many years higher-dimensional category theory remained con-
ﬁned to well-deﬁned geographical areas, the last 15 years witnessed a super-
exponential growth of interest across several areas of mathematics: higher cat-
egorical structures have been recognized to lie at the heart of modern approaches
to geometry [TV05], [Lur09], [BZFN10], logic [Uni13], topology and mathematical
physics [Sch13]; after many years in which category theory struggled to gain the
respect of mathematicians.
The slow but constant diﬀusion of a dialect which is powerful enough to encompass
all these developments, and still suﬃciently simple to be studied, led to the present
situation. Higher category theory and the fundamental constructions therein are
now interpreted in a homotopy-invariant way.17
Co/end calculus, as a part of the categorical toolbox, makes no exception.The
scope of the present chapter is to give a compact but lucid presentation of this
“higher co/end-fu” (a possible translation could be 高端楔術). The struggle here is
on two separate and opposing ﬁelds: on one side, “ancient” higher category theory
[GPS95, Hof11] with its baroque equational approach to coherence conditions is a
true nightmare, both for the listener and the exposer. On the other side the “new”
approach to higher category theory based on homotopy theory (mainly of simplicial
sets) reinterprets those very coherence conditions allowing a precious bookkeeping
device, which is nevertheless often too far from the taste of some practitioners of
categorical algebra.
This simple observation does not distance the author from the current fashion
and the current belief: the “homotopical” approach to higher categories proved to be
a valid tool to actually do beautiful mathematics, and speaks a subtle and intricate
language, forbidden to the inhabitants of the 1-dimensional world. Nevertheless,
17One of the main tenets of higher category theory is that, whatever they are, these objects
live in the world of (abstract) homotopy theory. There are several ways to justify this apparently
strange remark, but this margin is too narrow to contain any of them: the starting point for
most of them is that the nerve functor Ni (as described in §3) provides a fully faithful embedding
Cat ⊆sSet; the wild variety of model structures on the category of simplicial sets becomes then a
tool to better understand category theory.

58
FOSCO LOREGIAN
we feel this is the right place to clarify our philosophical position. At the moment
of writing this note we (as a community) witness several attempts to acquire a
deeper understanding of the landscape of current mathematics at the level of its
fundamental architecture; category theory, with its indisputable uniﬁcation power,
can be encoded in homotopy theory, and this is part of a turnaround which takes
the notion of homotopy as a primitive idea interacting with the similarly primitive
notion of structure and operation on a space (seen from this perspective, sets are
discrete groupoids and hence particular cases of topological spaces): there is a
growing feeling that any attempt to rewrite a piece of “old” mathematics turning
it into an “homotopically meaningful” statement is, in a suitable sense, a piece of
higher category theory.
This is a peculiar, transitional moment in pure mathematics; several generations
used to think in terms of set theory resist the revolution, thinking that the homotopy
groups of spheres form too complicated an object to “lie at the foundation” of
current mathematics. This point of view in some sense indisputable, and yet the
author feels that it underlies a subtle epistemological problem (what is “simple
mathematics”? What has, and what has not, the right to be considered a primitive
entity? What is, in the end, the “right” primitive entity to choose for a foundation
of mathematics?) which has no hope to be solved ever (so a fortiori, not in the
space of this paragraph).
At the very least, this suggests that the extremely positive attitude towards the
outreach of category theory among the barbarians18 must be taken with a grain
of salt. Categorical jargon gets more and more acknowledged as more and more
applications for it are found, and yet it still suﬀers from a certain ostracism by
some parts of the mathematical community. This is not, or at least not completely,
their fault, and results in a generalized discomfort.
Together with the development of the language, nobody cared about a comple-
mentary development of self-contained presentations, designed to be as elementary
as possible; many people forgot how this is essential for a rapid and “ healthy ”
diﬀusion of good ideas. The canonical sources where higher category theory has
been distilled are diﬃcult and time-consuming readings; this leaves many people
behind. The technical subtleties, the intrinsic diﬃculty of simplicial homotopy
theory and the lack of a metatheory serving as intuition in natural language make
the big picture visible only to a handful of people, often the same creators of the
theory; this deters other people to collaborate.
In this age where categorical language is expanding, it is more necessary than ever
to write, to write well, and write simply, letting everyone in. It is a deep author’s
conviction that by doing this the overall health of mathematical practice signiﬁcantly
improves, as well as the prompt and faithful diﬀusion of profound ideas that would
otherwise be exclusively dedicated to an élite. Rather, it is the consequence of a
precise historical moment and ideology. This kind of commitment, carried out in the
past, allowed generations of totally unprepared students to appreciate the depth of
18The word here only means “the people living outside the polis of category theory”, without
any pejorative meaning.

ENDS
59
rich and complex deﬁnitions (now for real, undoubtedly, a root of the mathematical
language essential to every practitioner).
As in all critical moments –in which you carefully consider the risks and beneﬁts
of a language-shift– we should be oriented towards ideological openness and a
multilingual attitude: this simple pedagogical principle is unfortunately often
forgotten by innovators of all ages.
It is diﬃcult to foresee where the current landscape will lead us; eventually, the
world will become Tlön. All we can do until then is wait, and have fun learning
something beautiful.
7.1. 2-coends.
One of the most immediate generalization of co/end-fu lives in
the world of 2-categories, where 1-cells f, g : x →y admit “2-cells” alpha : f ⇒g.
In view of Prop. 1.3, to deﬁne 2-co/ends we must exploit some ﬂavour of limit
and colimit in 2-category theory: this calculus has a rather natural interpretation in
terms of enriched category theory ([KS74, Kel89], for example, oﬀer an invaluably
complete survey on this topic, but the reader should be aware that 2-category theory
is not the theory of Cat-enriched categories). Here the reader is also warned that
the following discussion has little or no hope to be a self-contained exposition, and
instead heavily relies on the existing literature, for example on classical sources like
[Kel82, Dub70].
Notation 7.1 : As always when dealing with higher dimensional cells and their com-
positions, there are several “ﬂavours” in which one can weaken strict commutativity:
besides this strictness (where every diagram commutes with an implicit identity
2-cell ﬁlling it), there is a notion of strong commutativity and universality, where
ﬁlling 2-cells are requested to be invertible, and lax commutativity/universality,
where 2-cells are possibly non-invertible.19
The deﬁnition of lax end of a 2-functor S (given in terms of a universal lax wedge
ω: b
..−→S) is the most general and less symmetric one can give: it specializes to
the notion of strong end, and strict end according to the terminology above (and of
course, it can still be dualized to deﬁne colax coends!); this subsection is designed
in such a way to reduce to the strong and strict cases as particular examples.
Local notation.
For the rest of the section we adopt some local conventions: ﬁrst
of all, we denote A 99K B a lax functor between two 2-categories A, B; as sketched
above, this means that we have a correspondence F0 : Ob(A) →Ob(B) and a
correspondence F1 : hom1(A) →hom1(B) at the level of 1-cells, such that there
exist “laxity cells” F(g)F(f) ⇒F(gf) and idF0a →F1(ida), satisfying “obvious”
coherence conditions.
This said, 2-category theory exists in many dialects: we mainly follow a natural
and auto-explicative notation based on the canonical reference [Kel89], but we feel
free to diverge from it from time to time: the operations of whiskering of an higher
cell with a lower cell is denoted with the symbol ∗, so that F ∗α: FH ⇒FK and
19Obviously there are two possible choices for a direction in which a non-invertible “laxity
cell” can go: a map endowed with a canonical 2-cell F(g)F(f) ⇒F(gf); the same correspondence,
with 2-cells F(gf) ⇒F(g)F(f) is called oplax functor.

60
FOSCO LOREGIAN
α ∗G: HG ⇒KG for natural transformation α: H ⇒K and suitable functors
F, G.
Deﬁnition 7.2 [lax wedge]: Let S : Aop × A →B be a strict 2-functor between
strict 2-categories. A lax wedge based at S consists of a triple {b, ωOb, ωhom}, where
b ∈Ob(B) (the tip of the wedge) and collections of 1-cells

ωa : b →S(a, a)
	
, one
for each a ∈Ob(A), and 2-cells

ωf : S(a, f) ◦ωa ⇒S(f, a′) ◦ωa′	
, in a diagram
B
S(a, a)
S(a′, a′)
S(a, a′)
ωa
S(a,f)
ωa′
S(f,a′)
ωf
These data must ﬁt together in such a way that the following coherence axioms,
expressed by the commutation and pasting of the following diagrams of 2-cells, are
satisﬁed:
(1) The diagram of 2-cells
B
S(a, a)
S(a′, a′)
S(a, a′)
ωa
S(a,f)
ωa′
S(f,a′)
S(f ′,a′)
ωf
B
S(a, a)
S(a′, a′)
S(a, a′)
ωa
S(a,f)
ωa′
S(f,a′)
S(a,f ′) S(a,λ)
ωf′
is commutative for any λ: f ⇒f ′, i.e. the equation
ωf ′ ◦(S(a, λ) ∗ωa) = (S(λ, a′) ∗ωa′) ◦ωf
(154)
holds.
(2) For each pair a
f−→a′
f ′
−→a′′ of composable arrows in A, the diagram of
2-cells
B
S(a′′, a′′)
S(a, a)
S(a′, a′)
S(a′, a′′)
S(a, a′)
S(a, a′′)
ωa′′
S(f ′,a′′)
S(f,a′′)
ωa
S(a,f)
S(a,f ′)
ωa′
ωf′
ωf
B
S(a′′, a′′)
S(a, a)
S(a′, a′′)
S(a, a′)
S(a, a′′)
ωa′′
S(f ′,a′′)
S(f,a′′)
ωa
S(a,f)
S(a,f ′)
ωf′f

ENDS
61
is commutative, i.e. the equation
(S(f, a′′) ∗ωf ′) ◦(S(a, f ′) ∗ωf) = ωf ′f
(155)
holds.
(3) For each a ∈A, ωida = idωa.
Notation 7.3 : We use the compact notation ω: b
..−→S for a lax wedge; this is
evidently reminiscent of our Def. 1.6 and [ML98].
Deﬁnition 7.4 [Modification]: A modiﬁcation Θ: ω ⇛σ between two lax wedges
ω, σ: b
..−→S for S : Aop × A →B consists of a collection of 2-cells {Θa : ωa ⇒
σa}a∈Ob(A) such that the diagram of 2-cells
B
S(a′, a′)
S(a, a)
S(a, a′)
σa
S(a,f)
ωa′
S(f,a′)
ωa
Θa
ωf
B
S(a′, a′)
S(a, a)
S(a, a′)
σa
S(a,f)
σa′
S(f,a′)
ωa′
Θa′
σf
is commutative, i.e.
(S(a, f) ∗Θa) ◦ωf = σf ◦(S(f, a′) ∗ωa′)
(156)
The deﬁnition of a modiﬁcation is modeled on the deﬁnition of modiﬁcation
between (lax) natural transformations; modiﬁcations [Bor94a] form the 3-cells of
the 3-category 2-Cat (2-Catlax), whose objects are 2-categories, 1-cells are (lax)
functors, 2-cells are (lax) natural transformations.
Modiﬁcations follow rules for “whiskering” which are similar to those for natural
transformations and 2-cells, only in higher dimension (and in a much complicated
web of relations between all the possible compositions: there are now three possible
directions in which 3-cells can be composed).
Remark 7.5 : There is another more general deﬁnition for a modiﬁcation Θ: ω ⇛σ
between lax wedges having diﬀerent domains, say {b, ω} and {b′, σ}: it consists of a
morphism ϕ: b →b′ and a 2-cell λa : σa ◦ϕ ⇒ωa such that
(σf ∗ϕ) ◦(S(a, f) ∗ma) = (S(f, a′) ∗ma′) ◦ωf
(157)
(draw the corresponding diagram of 2-cells). Nevertheless, we are not interested in
this alternative deﬁnition.
Def.
7.4 entails that the set LFun(b, S) of lax wedges b
..−→S is a category
having morphisms precisely the modiﬁcations Θ: ω ⇛σ, and the correspondence
βS : b 7→LFun(b, S) is functorial. The deﬁnition of lax end for S relies on the
representability of this 2-functor.
Deﬁnition 7.6 [Lax end of S]: Let S : Aop × A →B be a 2-functor; a lax wedge
ω: b
..−→S is called the lax end of S, and denoted
›
a S(a, a)
..−→S if for any other

62
FOSCO LOREGIAN
lax wedge σ: b′ →S there exists a unique 1-cell x: b′ →b between the tips of the
wedges such that
ωa ◦x = σa,
ωf ∗x = σf
i.e. the diagram of 2-cells
b
S(a, a)
S(a′, a′)
S(a, a′)
b′
σa
S(a,f)
σa′
S(f,a′)
x
ωa
ωa′
ωf
S(a, a)
S(a′, a′)
S(a, a′)
b′
σa
S(a,f)
σa′
S(f,a′)
σf
commutes, and if every modiﬁcation Θ: σ ⇛σ′ induces a unique 2-cell λ: x ⇒x′
(x′ is the arrow induced by σ′) in such a way that λ ∗ωa = Θa. This realizes the
isomorphism of categories between lax wedges b
..−→S and B(b,
›
a S(a, a)).
We denote, with an evident and harmless abuse of notation,
BS =
“
a
S(a, a).
(158)
Remark 7.7 : The notation chosen for
›
a S has a meaning: ideally, the n-co/end
operation is depicted by an integral symbol (accordingly super- or subscripted)
overlapped by an 2n-agon; in this way, a 2-end has the right to be denoted as a
“square-integral”
›
, and a ∞-end (see Def. 7.31) should be denoted as a
¸
symbol,
the circle being a polygon with an inﬁnite number of sides.
7.1.1. Lax co/end calculus.
Several kata of coend-fu proved in our §1 and §2
remain true after a proper “laxiﬁcation”, justifying the intuition of lax co/ends as
the right 2-categorical generalization of strict co/ends. We collect the most notable
examples of this phenomenon in the rest of the section; the content of 7.1.2 surely
deserves a special mention, as well as other remarks chosen to convey a sense of
continuity and analogy. In 7.1.2 we prove that the lax counterpart of the ninja
Yoneda lemma 2.1 provides a reﬂection (using coends) and a reﬂection (using ends)
of the category of strong presheaves into the category of lax presheaves.
Example 7.8 : The comma objects (f/g) [Gra74] of a 2-category B can be identiﬁed
with the lax end of functors 2op × 2 →B choosing the two 1-cells f, g; this is a
perfect analogy of Exercise 1.E12, also in view of the characterization of the comma
object (f/g) as a lax pullback in Cat.
Example 7.9 : If F, G: A →B are 2-functors, then the lax end of the functor
B(F, G): Aop × A →Cat
(159)
is given by the formula “
a
B(Fa, Ga) ∼= LFun(A, B)(F, G)
(160)

ENDS
63
where LFun(A, B)(F, G) is the set of lax natural transformations between lax functors
F, G: A →B deﬁned in [Gra74].
Proof. A lax wedge for the 2-functor (a, a′) 7→hom(Fa, Ga′) amounts to a square
a
a′
c.
h
u′
u
α
ﬁlled by a 2-cell τf : G(f)∗◦τa ⇒F(f)∗◦τa′. Each of the functors τa : E →
hom(Fa, Ga) sends e ∈E into an object τa(e) such that
G(f) ◦τa(e)
τf
=⇒τa′(e) ◦F(f)
(161)
which is precisely what is needed to show that the correspondence e 7→{τa(e)}a∈A
factors through LFun(A, B)(F, G) ⊆Q
a∈A hom(Fa, Ga).
□
Lax natural transformations η: F 99K G, described as the lax end above, can
also be characterized as lax limits in the enriched sense: this motivates the search
for a description of lax co/ends which is analogue to our 1.3, where instead of strict
co/equalizers we use [Kel89]’s notion of co/inserter.
For the ease of the reader, we recall now how these lax limits are deﬁned (see
[Kel89, §4]):
Deﬁnition 7.10 : Let f, g: x →y be two parallel 1-cells in the 2-category C; the
inserter Ist(f, g) is deﬁned as a pair (p, λ) where p: Ist(f, g) →x is a 1-cell in C
and λ: fp ⇒gp is a 2-cell, universal with respect to the property of connecting
fp, gp: this means that whenever we are given a diagram
x
b
y
x
q
f
q
g
µ
this can be split as the whiskering
x
b
Ist(f, g)
y
x
h
p
f
p
g
q
q
λ
for a unique 1-cell h: b →Ist(f, g) in C: this means, again, that ph = q and
λ ∗h = µ.

64
FOSCO LOREGIAN
This remark motivates the search for a description of lax co/ends as lax co/limits,
on the same lines of our Remark 1.13; this is the content of Prop. 7.19 in this
section.
Moreover, as an analogue of the claim for 1-dimensional co/ends, we will prove
that the lax co/end of a functor which is mute in a variable coincides with the lax
co/limit of the same functor restricted to the unmuted component:
Remark 7.11 [Commutation of lax limits]: Strict limits are obviously particular
cases of lax limits; since the classical argument, slightly modiﬁed to encompass the
presence of non trivial laxity cells, applies to show that lax limits commutes with
lax limits (in an obvious sense which we invite the keen reader to make precise), we
obtain that lax co/limits (and lax co/ends) commute with strict co/limits (and lax
co/ends).
This simple remark will be used all along the present section, and in a similar
way we can deduce the “lax Fubini rule” for iterated lax co/ends: here is an ordered
exposition for these results.
Proposition 7.12 [Co/ends of mute functors]: Suppose that the 2-functor
S : Aop×A →B is mute in the contravariant variable, i.e. that there is a factorization
S = S′ ◦p: Aop × A
p−→A
S′
−→B
“
a
S(a, a) ∼= q-lim
←−−S′
(162)
hence every lax co/limit can be computed as a lax co/end.
Example 7.13 : As a particular example of this, if A is locally discrete (i.e. identiﬁed
with a locally small 1-category) and if the functor S′ : A →B is constant, i.e.
S′(a) ≡b for each a ∈A, then
›
a S is called cotensor of b by A and is denoted
b ⋔A.
Theorem 7.14 [Parametric lax Ends]: Whenever a functor F : Aop × A × B →C
is deﬁned, and the lax end
›
a F(b, a, a) exists for every B ∈B, then b 7→
›
a F(b, a, a)
extends to a 2-functor B →C which has the universal property of the lax end of its
mate ˆF : Aop × A →CB under the obvious adjunction.
Theorem 7.15 [Fubini rule for lax co/ends]: If one among the following lax
ends exists, then so does the others, and the three are canonically isomorphic:
“
b,c
T(b, c, b, c)
“
b
“
c
T(b, c, b, c)

“
c
“
b
T(b, c, b, c)

(163)
Corollary 7.16 [Fubini rule for lax co/limits]: Lax limits commute: if T : B ×
C →D is a 2-functor, we have
q-lim
←−−
b∈B
q-lim
←−−
c∈C
T(b, c) ∼= q-lim
←−−
c∈C
q-lim
←−−
b∈B
T(b, c).
(164)

ENDS
65
7.1.2. The lax ninja Yoneda lemma.
The lax analogue of Prop. 2.1 acquires
a peculiar ﬂavour in this context, since it consists of an argument showing the
co/reﬂectivity of the category of strict presheaves Cop →Cat in the category of lax
presheaves Cop 99K Cat: there is a diagram of adjoint 2-functors
Fun(Cop, Cat)
LFun(Cop, Cat)
(
)♭
(
)♯
⊣
⊣
where the central arrow is the inclusion. This means that for each strict 2-functor
H ∈Cat(Cop, Cat) there are two natural isomorphisms
Cat(Cop, Cat)(H, F ♭) ∼= LFun(Cop, Cat)(H, F),
Cat(Cop, Cat)(F ♯, H) ∼= LFun(Cop, Cat)(F, H)
(165)
We want to show that the functors F ♭and F ♯are deﬁned by the lax coends
F ♯∼=
“ a
C(
, a) × Fa
F ♭∼=
“
a
FaC(a,
).
(166)
Proof. The proof exploits Example 7.9 as well as the commutation of co/ends and
lax co/ends, the preservation of lax co/ends by the hom functor, and the strict
ninja Yoneda lemma: it is a simple calculation, that we can write as
Cat(Cop, Cat)(H, F ♭) =
ˆ
c
Cat(Hc, F ♭c)
=
ˆ
c
Cat

Hc,
“
a
Cat(C(a, c), Fa)

∼=
ˆ
c
“
a
Cat(Hc, Cat(C(a, c), Fa))
∼=
“
a
ˆ
c
Cat(Hc × C(a, c), Fa)
∼=
“
a
Cat
ˆ c
Hc × C(a, c), Fa

∼=
“
a
Cat(Ha, Fa)
(7.9)
= LFun(Cop, Cat)(H, F).
The proof that Cat(Cop, Cat)(F ♯, H) ∼= LFun(Cop, Cat)(F, H) is done in a similar
fashion.
□
Example 7.17 : Let 1: Cop 99K Cat be the functor sending c ∈C into the terminal
category, regarded as a lax functor. Then the strict functor 1♯: Cop →Cat is the
lax coend
1♯(c) ∼=
“ a
1(a) × C(a, c) ∼=
“ a
C(a, c).
(167)

66
FOSCO LOREGIAN
Hence the category
› a C(a, c) coincides with the lax colimit of the strict presheaf
Cop →Cat, a 7→C(a, c), which is [Str76, p. 171] the lax slice category C//c of
commutative diagrams of 2-cells
a
a′
c.
h
u′
u
α
A long and straightforward unwinding of universal properties shows that the category
C//c enjoys the universal property of the lax colimit q-lim
−−→C(
, c).
Remark 7.18 [The twisted arrow category as a lax colimit]: This is an
interesting remark, as it came as a surprise to the author. It is possible to characterize
the (opposite of the) twisted arrow category of Def. 1.12 as the lax colimit of the
diagram a 7→A/a, i.e. as the lax coend
“ a
A/a.
(168)
This is another long and straightforward exercise in unwinding universal properties,
in a similar vein than Example 4.19, that we leave to the interested reader.
Proposition 7.19 : [Boz80, §2] There is a canonical isomorphism between the lax
end of a 2-functor T : Cop × C →B and the limit of T weighted by the bifunctor
C((
)♯,
), i.e.
lim
←−
C((
)♯,
)T ∼=
“
a
T(a, a)
(169)
where C((
)♯,
): (c, c′) 7→C(
, c′)♯(c) =
› a C(c, a)×C(a, c′) is the lax composition
of relators. A dual statement holds for lax coends.
Proof. The classical argument which exploits the conservativity of the Yoneda
embedding applies: we can compute
B

b, lim
←−
C((
)♯,
)T
 (4.17)
=
lim
←−
C((
)♯,
)B(b, T)
(4.8) ∼=
ˆ
c,d
B(b, T(c, d))C(c♯,d)
=
ˆ
c,d
B(b, T(c, d))
› a C(c,a)×C(a,d)
∼=
“
a
ˆ
c,d

B(b, T(c, d))C(a,d)C(c,a)
(7.15) ∼=
“
a
ˆ
c
Cat

C(c, a),
ˆ
d
B(b, T(c, d))C(a,d)

∼=
“
a
ˆ
c
Cat (C(c, a), B(b, T(c, a)))
∼=
“
a
B(b, T(a, a)) = B

b,
“
a
T(a, a)

.
□

ENDS
67
We can deﬁne the tensor of a category T with an object a ∈A, denoted T · a by
means of a lax coend; it is characterized by the natural isomorphism (in x)
Cat(T, A(a, x)) ∼= A(T · a, x).
(170)
Now, let S : Aop →Cat, T : A →B be two functors and suppose B has Cat-tensors;
then the lax coend of the 2-functor Aop × A
S×T
−−−→Cat × B
·−→B is called q-tensor
product of S and T, denoted
S ⊗T =:
“ a
Sa · Ta.
(171)
More fundamental and subtle results, like the reduction of co/ends to co/limits,
and the preservation of co/ends by the hom functors, remain valid for lax co/ends:
Theorem 7.20 : In a 2-category B, lax co/ends exist provided that B has co/comma
objects and Cat-co/limits.
Theorem 7.21 : The lax end of the functor T : Aop × A →B, if it exists, is uniquely
determined by the natural isomorphism
B

x,
“
a
T(a, a)

∼=
“
a
B(x, T(a, a))
(172)
for every object x ∈A. A dual statement holds for lax coends.
7.1.3. Applications: 2-distributors and lax Kan extensions.
A 2-distributor
ϕ: A ⇝B is a 2-functor ϕ: Bop × A →Cat. lax coends gives a method to compose
2-distributors, as in the 1-dimensional case: more precisely, let
A
ϕ⇝B
ψ⇝C
(173)
be a couple of composable 2-distributors, namely two 2-functors ϕ: Bop × A →Cat
and ψ: Cop × B →Cat; then the composition ψ ⋄ϕ is deﬁned by the coend
ψ ⋄ϕ(c, a) =
“ b
ϕ(b, a) × ψ(c, b)
(174)
The compatibility between lax colimits and products ensures that the expected
associativity holds up to a canonical identiﬁcation:
(ω ⋄ψ) ⋄ϕ ∼= ω ⋄(ψ ⋄ϕ)
(175)
for any three A
ϕ⇝B
ψ⇝C
ω⇝D.
Let T : A →B and ϕ: A →C be two 2-functors.
Deﬁnition 7.22 : We call (left) quasi-Kan extension of ϕ along T a 2-functor
LanT ϕ: B →C endowed with a quasi-natural transformation a: ϕ ⇒LanT ϕ ◦T
(a unit) such that, for each 2-functor S : B →C endowed with λ: ϕ ⇒S ◦T there
exists a unique Cat-natural transformation ζ : LanT ϕ ⇒S such that
(ζ ∗T) ◦α = λ
(176)
and moreover, if Σ: λ ⇛λ′ is a modiﬁcation between quasi-natural transformations,
there is a unique modiﬁcation Ω: ζ ⇛ζ′ (where ζ is induced by λ, and ζ′ by

68
FOSCO LOREGIAN
λ′) between Cat-natural transformations such that (Ω∗T) ◦α = Σ. This can be
expressed with the isomorphism
[A, C]
 ϕ, S ◦T
 ∼= [B, C]
 LanT ϕ, S

(177)
which is natural in S.
Example 7.23 : The quasi-Kan extension of a 2-functor ϕ: A →C along the trivial
2-functor A →1 is the lax colimit of ϕ.
Remark 7.24 : We can obtain diﬀerent notions of quasi-Kan extension by reversing
the directions of α, λ, ζ etc. The example above, as well as the following theorem,
shows that the choice of Cat-natural transformations instead of quasi-natural
transformations is the right choice (see also [Boz80] for a dual statement):
Theorem 7.25 : Notations as above. If C has at least tensors B(Ta, b) · ϕa′ for each
a, a′ ∈A, and the lax coends
“ a
B(Ta, b) · ϕa
(178)
then the quasi-Kan extension of ϕ along T exists, and it is given by the formula
above.
We can mimick also Exercise 2.E1 to obtain a lax analogue of it:
Proposition 7.26 : Let LNat(U, V ) denote the category of lax natural transformations
between two 2-functors U, V . Then
LNat(F × G, H) ∼= LNat(F, HG),
(179)
where HG(x) = LNat(よ(A) × G, H) =
›
y Sets(hom(y, x) × Gy, Hy)
Proof. It is a computation in coend-fu, and every step can be motivated by results
in the present section: calculemus.
LNat(F, HG) =
“
x
Sets(Fx, LNat(よ(A) × G, H))
∼=
“
x
“
y
Sets(Fx, Sets(hom(y, x) × Gy, Hy))
∼=
“
y
Sets
 “ x
Fx × hom(y, x)

× Gy, Hy

∼=
“
y
Sets
 Fy × Gy, Hy

= LNat(F × G, H).
□
7.2. Homotopy coends and ∞-coends.
Higher category theory is now living
a Renaissance, thanks to a massive collaboration of several people drawing from
various ﬁelds of research, and cooperating to re-analyze every feature of category
theory in the topos of simplicial sets.
Several reasons, and the urge to keep this chapter ﬁnite-dimensional force us to
take for granted a certain acquaintance with the language of ∞-categories à la Joyal-
Lurie, but we also try to oﬀer at least an intuition for what’s going on and why things

ENDS
69
are done that way. The reader seeking a deeper understanding of this topic is advised
to quit their job and move to Mojave desert with [Lur09, Joy08, Joy02a, JT07] and
a bag full of good weed.
Here we present the theory of homotopy co/ends 7.2.1 in model category theory,
and then we move to the theory of quasicategorical 7.2.2 co/end calculus and
simplicially coherent 7.3 coends. A ﬁnal paragraph explores the deﬁnition of a
co/end in a derivator E10, and this concludes the discussion of co/end calculus in
each of the most common models for higher categories (model categories, enriched
categories, simplicial sets, derivators). We leave aside a rather important question,
that is model dependence: for example, does an homotopy co/end correspond to an
∞-co/end if we pass from model categories to quasicategories? It is a subtle issue,
derailing us from our primary objective.
Sometimes we follow the unique references available, and surely we are leaving
out some other important sources: we take [CP97] for sSet-enriched co/ends, and
[GHN15] for quasicategorical ones. The deﬁnition of a coend in a derivator comes
from the extensive treatment of category theory in Grothendieck’s derivators started
by M. Groth [Gro13].
7.2.1. Co/ends in model categories.
One of the most important parts of model
category theory (the study of those structures that set homotopy theory in a purely
formal framework) is the study of homotopy co/limits.
It is a fact, inherent to the theory, that colimit functors lim
−→J : CJ →Care often
quite ill-behaved with respect to a homotopical structure: such a thing is determined
by the speciﬁcation of a distinguished class of arrows W⊆hom(C) (these are called
weak equivalences) which is the class of isomorphisms in a “localization” of C. If C
has such a structure, then every category CJ acquires an analogous structure WJ
where η: F ⇒G is in WJ if and only if each component ηj : Fj →Gj is in W.
It is a fact that the image of such a natural transformation η: F ⇒G under the
colimit functor, lim
−→η: lim
−→F →lim
−→G is not always a weak equivalence.20
This is an unavoidable feature of the colimit functor lim
−→J : CJ →C. One of the
main tenets of homotopy theory is, nevertheless, that it doesn’t matter if we replace
an object with another, as soon as the two yield equivalent results. There is hope,
then, that the category of functors CJ contains a better-behaved representative for
the functor lim
−→, and that the two are linked by some sort of weak- or homotopy
equivalence.
That’s what a homotopy colimit is: a deformation holim
−−−→of lim
−→that preserves
pointwise weak equivalences. And this is a general procedure in homotopy theory,
where most objects X are not “compatible” with the homotopical structures we
superimpose on our category of spaces, and yet one is often able to ﬁnd better-
behaved representatives ˜X in the same homotopy class.
20A minimal instructive example goes as follows: take J to be the generic span 1 ←0 →2 and
the functor sending it to ∗←Sn−1 →∗; the colimit of F is the terminal space ∗. We can replace
F with the diagram D2 ←Sn−1 →D2, and since disks are contractible there is a homotopy
equivalence ˜F ⇒F; unfortunately, the induced arrow lim
−→˜F = S2 →∗is not a weak equivalence.

70
FOSCO LOREGIAN
Remark 7.27 : Let ⊠: A × B →C be the t part of a thc situation (see 3.12), which
is moreover left Quillen, and let I be a Reedy category ([Hov99, Def. 5.2.1]). Then
the coend functor
ˆ
: Cat(Iop, A) × Cat(I, B) →C
(180)
is a left Quillen bifunctor if we regard the functor categories Cat(Iop, A) and
Cat(I, B) endowed with the Reedy model structure. The same is true if I is not
Reedy, but the categories A, B, C are all combinatorial, and there is the projective
model structure on Cat(I, B), and the injective on Cat(Iop, A).
7.2.2. Co/ends in quasicategories.
Remark 7.28 : As a rule of thumb, the translation procedure from category to
∞-category theory is based on the following meta-principle: ﬁrst you rephrase
the old deﬁnition in a “simplicially meaningful” way, so that the ∞-categorical
deﬁnition specializes to the old one for quasicategories N(C) which arise as nerves
of categories. Then you forget about the original gadget and keep the simplicial
one; this turns out to be the right deﬁnition.
The ﬁrst victim of this procedure is the twisted arrow category 1.12 of an
∞-category.
Deﬁnition 7.29 [Twisted arrow ∞-category]: Let ε: ∆
∆
∆→∆
∆
∆be the functor
[n] 7→[n] ⋆[n]op, where ⋆is the join of simplicial sets [Joy08, EP08]. Let C be a ∞-
category; the twisted arrow category tw(C) is deﬁned to be the simplicial set ε∗C,
where ε∗: sSet →sSet is the induced functor. More explicitly, and consequently,
the n-simplices of tw(C) are characterized by the relation
tw(C)n ∼= sSet(∆[n], tw(C)) ∼= sSet(∆[n] ⋆∆[n]op, C).
(181)
The most important feature of the twisted arrow category is that it admits a
ﬁbration over Cop × C (part of its essential properties can be deduced from this);
the machinery of left and right ﬁbrations exposed in [Lur09, Def. 2.0.0.3] gives that
• There is a canonical simplicial map Σ: tw(C) →Cop × C (induced by the
two join inclusions ∆[
], ∆[
]op →∆[
] ⋆∆[
]op);
• This ∞-functor is a right ﬁbration in the sense of [Lur09, Def. 2.0.0.3].
Remark 7.30 : It is rather easy to see that the above deﬁnition is reasonable: a
0-simplex in tw(C) is an edge f : ∆[1] →C, and a 1-simplex of tw(C) is a 3-simplex
thereof, that we can depict as a pair of edges (u, v), such that the square having
twisted edges
f

u
o
f ′

v
/
(182)
commutes. This suggest (as it must be) that the deﬁnition of tw(C) for a ∞-category
specializes to the 1-dimensional one and adds higher-dimensional informations to it.

ENDS
71
Deﬁnition 7.31 : Let C, D be two ∞-categories; the co/end of a simplicial map
F : Cop × C →D is the co/limit of the composition
tw(C)
Σ
−→Cop × C
F−→D
(183)
The main interest of the authors in [GHN15] is to formulate an analogue of 4.4,
which characterizes the Grothendieck construction of a Cat-valued functor as a
particular weighted colimit (see 4.19).
It is rather easy to formulate such an analogue deﬁnition: this appears as [GHN15,
Def. 2.8].
Deﬁnition 7.32 [op/lax colimit of F]: Let F : C →Cat∞be a functor between
∞-categories. We deﬁne
• the slice ﬁbration for C ∈QCat to be the functor of quasicategories χC : C →
QCat sending c ∈C to C/c, and dually the coslice ﬁbration to be χC : C →
QCat: c 7→Cc/;
• the lax colimit of F to be the coend
˛ c
Cc/ × Fc;
(184)
• the oplax colimit of F to be the coend
˛ c
C/c × Fc.
(185)
The Grothendieck construction associated to F, discussed in [Lur09] with the
formalism of un/straightening functors results precisely as the oplax colimit of F.
This is coherent with our 4.19 and 4.20.
7.3. Simplicially coherent co/ends.
All the material in the following subsection
comes from [CP97]. Since we are forced to divert from [CP97]’s notation by our
personal choices and a slight pedantry, we begin the exposition establishing a
convenient notation and a series of useful short-hands. We decided to keep this
introduction equally self-contained and simple, but we can’t help but admit that
• there is a sheer amount of (unavoidable, and yet annoying) sins of omissions
in this survey section, basically due to the ignorance of the author; moreover,
the price to pay to obtain a self-contained exposition is to deliberately ignore
several subtleties, exposing the theory to a certain naïvety.
• there are newer and more systematic approaches to this topic, owing a great
debt to [CP97] but capable to generalize sensibly their constructions; among
many, the reader should consult the exceptionally clear [Rie14, Shu06]. All
these references reduce the construction of a simplicially coherent co/end
to the “unreasonably eﬀective” co/bar construction [Rie14, Ch. 4]: this is
not the case, as it can be proved [Shu06, 21.4] that the coherent co/end of
T results as a suitable derived weighted co/limit of the functor T.
It is our sincere hope that this does not aﬀect the outreach of this elegant and
neglected piece of Mathematics, and the clumsy attempt to popularize an account
of [CP97] has to be seen as an attempt to communicate how beautiful we ﬁnd this
writing, as it is (one of) the beginner(s) of categorical homotopy theory.

72
FOSCO LOREGIAN
Local notation.
All categories A, B, . . . appearing in this subsection are enriched
over sSet = [∆
∆
∆op, Sets]. All of them possess the co/tensors (see Def. 2.3) needed
to state deﬁnitions and perform computations. These functors assemble into a
thc situation (see Remark 3.12) t = (·, hom, ⋔) where ·: sSet × A →B determines
the variance of the other two functors. A useful shorthand to denote the functor
⋔(K, A) = K ⋔A (especially when it is necessary to save space or invoke the
“exponential” behaviour of this operation) is AK. We switch rather freely among
these two notations.
Deﬁnition 7.33 [Totalization]: Let Y • : ∆
∆
∆op × ∆
∆
∆→B be a simplicial-cosimplicial
object; we deﬁne the totalization tot(Y •
• ) of Y • to be the end
 ˆ
n∈∆
∆
∆
∆[n] ⋔Y n•
(186)
(it is a cosimplicial object). The totalization of Y • is also denoted with the shorthand
∆
∆
∆• ⋔Y • or similar.
Deﬁnition 7.34 [Diagonalization]: Let X• : ∆
∆
∆op × ∆
∆
∆op →B be a bisimplicial
object; we deﬁne the diagonalization diag(X•) of X• to be the coend
 ˆ n∈∆
∆
∆
∆[n] · Xn

•
(187)
(it is a simplicial object) The diagonalization of X• is also denoted with the shorthand
∆
∆
∆• · X• or similar.
Notation 7.35 [Chain co/product]: Let A ∈sSet-Cat, and ⃗xn = (x0, . . . , xn)
the “generic n-tuple of objects” in A; given additional objects a, b ∈A deﬁne a
bisimplicial set ⨿A[a|⃗x|b]• whose simplicial set of n-simplices is
⨿A[a|⃗xn|b]• :=
a
x0,...,xn∈A
A(a, x0)• × A(x0, x1)• × · · · × A(xn, b)•.21
(188)
Faces and degeneracies are induced, respectively, by composition and identity-
insertion (see Exercise 7.E4).
Finally we deﬁne the simplicial set δA(a, b) to be diag(⨿A[a|⃗x•|b]•) = n 7→
⨿A[a|⃗xn|b]n. Couched as a coend, δA(a, b) is written
δA(a, b) ∼=
ˆ n∈∆
∆
∆
∆[n] × ⨿A[a|⃗xn|b]
=
ˆ n∈∆
∆
∆
∆[n] ×
a
x0,...,xn∈A
A(a, x0) × A(x0, x1) × · · · × A(xn, b)
∼=
ˆ n∈∆
∆
∆
a
x0,...,xn∈A
∆[n] × A(a, x0) × A(x0, x1) × · · · × A(xn, b)
21It is useful to extend this notation in a straightforward way: A[a|⃗x|b] denotes the product
A(a, x0) × A(x0, x1) × · · · × A(xn, b), and ΠA[a|⃗x|b], A[⃗x], ΠA[⃗x], ⨿A[⃗x] are deﬁned similarly. Note
that ⨿A[a|⃗xn|b]• does not depend on ⃗xn since the coproduct is quantiﬁed over all such ⃗xn’s.

ENDS
73
Deﬁnition 7.36 [The functors Y and W]: Let T : Aop × A →B be a functor; we
deﬁne Y(T)• to be the cosimplicial object (in B)
Y(T)n :=
Y
⃗x=(x0,...,xn)
A[⃗xn] ⋔T(x0, xn)
(189)
where A[⃗xn] = A(x,x1) × · · · × A(xn−1, xn). Dually, given the same T, we deﬁne
W(T)n to be the simplicial object (in B)
W(T)n :=
a
⃗x=(x0,...,xn)
A[⃗xn] · T(x0, xn).
(190)
Example 7.37 : If we consider A to be trivially enriched (or as someone says, a
discrete simplicial category), then the object A[a|⃗xn|b]• coincides with the nerve of
the category (a ↓A ↓b) of arrows “under a and above b”.
Deﬁnition 7.38 [Simplicially coherent co/end]: Let T : Aop × A →B be a
functor. We deﬁne
˛
a
T(a, a) :=
ˆ
a′,a′′ T(a′, a′′)δA(a′,a′′)
˛ a
T(a, a) :=
ˆ a′,a′′
δA(a′, a′′) · T(a′, a′′)
(191)
to be the simplicially coherent co/end of T.
In a few words, the deﬁnition of a sSet-coherent co/end involves the classical
construction but adds to the scene “fattened up” co/tensors A[a|⃗x|b] and suchlike,
organized as a functor Aop × A × Aop × A →B in such a way that the co/end is on
two variables a′, a′′ ∈A.
Remark 7.39 [
, coherent co/ends as deformations]: Example 4.14 gives
that co/end are weighted co/limits, and precisely weighted co/limits with the
hom weight. This perspective is useful here, since we write that
¸
a T is the end
´
(a′,a′′)∈Aop×A T(a′, a′′)hom(a′,a′′) where we applied a suitable “deformation” (or
“resolution”, or “replacement”) functor δ to the hom functor A(
,
), seen as the
identity relator (Remark 5.7). To some extent this point of view is explored in
[Gen15] in the particular case where V-Cat = dg-Cat; we have taken something
from, as well as given something to, that document.
This perspective is of great importance to encompass coherent co/ends into
a general theory “compatible” with some model structure on V-Cat, for some
monoidal model V and the Bousﬁeld-Kan model structure on V-Cat. Expanding
this point of view, will be, hopefully, the subject of [GL].
Homotopy coherent calculus.
Classical co/end calculus (in the triptych Fubini
- Yoneda - Kan) is an invaluable tool (in fact, the only and most natural one) to
prove several results even in the simplicial setting: as it is customary in the salons
of higher category theory, we will always reduce a computation involving a coherent,
and yet indirectly deﬁned object, to a computation involving a “concrete”, and
yet complicated object which takes into account the coherence introduced in the
deformation.

74
FOSCO LOREGIAN
[CP97] succeed in the indeed quite ambitious task to to rewrite all the most
important pieces of classical category theory in this “higher” model (the paper
contains a calculus for co/limits, mapping spaces, Yoneda, and Kan extensions).
The aim of the rest of this subsection is to sketch some of these original deﬁnitions,
hopefully helping an alternative formulation of (∞, 1)-category theory (the authors
of whom we owe a great debt, were it only for having proved –in 1997!– that the
“∞-categorical dogma” can be avoided22) to escape oblivion: we do not claim to
give a complete account of this theory here, and instead address the interested
reader to their beautiful original paper.
Proposition 7.40 : Let T : Aop ×A →B be a sSet-functor. Then there is a canonical
isomorphism
˛
a
T(a, a) ∼= tot(Y(T)•)
(192)
Proof. We use heavily the ninja Yoneda lemma 2.1 in its enriched form, where
ˆ
X
A(X, B) ⋔F(X) ∼= F(B)
(193)
and the fact that K ⋔(H ⋔A) ∼= (K ⊗H) ⋔A, naturally in all arguments.
With this remark in hand we can move to the real proof: ⃗x = (x0, . . . , xn) is a
generic tuples of objects of A, and to save some space we switch to the notation
AK to denote K ⋔A.
˛
a
T(a, a) :=
ˆ
a′,a′′ T(a′, a′′)δA(a′,a′′)
∼=
ˆ
a′,a′′ T(a′, a′′)
´
n ∆[n]×⨿A[a′|⃗x|a′′]
∼=
ˆ
a′,a′′,n
T(a′, a′′)∆[n]×⨿A[a′|⃗x|a′′]
∼=
ˆ
a′,a′′,n

T(a′, a′′)A(xn,a′′)∆[n]×⨿A[a′|⃗x]
∼=
ˆ
a′,a′′,n
Y
x0,...,xn

T(a′, a′′)A(xn,a′′)∆[n]×A[a′|⃗x]
∼=
ˆ
a′,n
Y
x0,...,xn
ˆ
a′′ T(a′, a′′)A(xn,a′′)
∆[n]×A[a′|⃗x]
∼=
ˆ
a′,n
Y
x0,...,xn
T(a′, xn)∆[n]×A[a′|⃗x]
∼=
ˆ
n
Y
x0,...,xn
ˆ
a′ T(a′, xn)A(a′,x0)
∆[n]×A[⃗x]
22The subtle monophysism called “∞-categorical dogma” asserts that ‘quasicategory’ and
‘∞-category’ are synonyms.

ENDS
75
∼=
ˆ
n

Y
x0,...,xn
T(x0, xn)A[⃗xn]∆[n] ∼= tot(Y(T)).
□
For the sake of completeness, we notice that the universal wedge testifying that
¸
a T(a, a) ∼= tot(Y(T)) is induced by the morphisms
˛
a
T(a, a) =
ˆ
a′,a′′ δA(a′, a′′) ⋔T(a′, a′′)
ˆ
a′,a′′,n
 ∆[n] × ⨿A[a′|⃗x|a′′]

⋔T(a′, a′′)
∆[n] ⋔Y(T)n.
≀
Prove the dual statement as an exercise (to ﬁnish the proof it is of vital importance
to exploit a good notation):
Proposition 7.41 : Let T : Aop ×A →B be a sSet-functor. Then there is a canonical
isomorphism
˛ a
T(a, a) ∼= diag(W(T)•)
(194)
7.3.1. Simplicially coherent natural transformations.
Remark 7.42 : The homotopy coherent co/ends admit “comparison” maps to the
classical co/ends; this is part of a general tenet of higher category theory, where
homotopically correct objects result as a deformation of classical ones, and this
deformations maps into/out of the classical object.
The comparison map
¸
T(a, a) →
´
T(a, a) arises, here, as an homotopy equiva-
lence between the simplicial set A(a, b) (seen as bisimplicial, and constant in one
direction) and the bisimplicial set δA(a, b) = diagA[a| • |b]•: this is [CP97, p. 15].
The map
d0 :
a
x0
A(a, x0) × A(x0, b) →A(a, b)
(195)
given by composition has an homotopy inverse given by
s−1 : A(a, b) →A(a, a) × A(a, b): g 7→(ida, g).
(196)
Indeed, the composition d0s−1 is the identity on A(a, b), whereas the composition
s−1d0 admits is homotopic to the identity on δA(a, b) (we use the same name for
the maps d0, s−1 and the induced maps ¯d0 : δA(a, b) →A(a, b), induced by the
universal property, and ¯s−1 : A(a, b) →δA(a, b)).
There is an important diﬀerence between these two maps, though: whilst d0 is
natural in both arguments, s1 is natural in B but not in A. This has an immediate
drawback: whilst d0 can be obtained canonically, as the universal arrow associated
to a certain natural isomorphism (see (200) below), s−1 can’t (the best we can do
is to characterize the natural argument of s−1 via [CP97, Example 2, p. 16]).

76
FOSCO LOREGIAN
As we have seen in 1.18, the set of natural transformations between two functors
F, G: C →D coincides with the end
´
x D(Fx, Gx), and (see 7.9) the category of
lax natural transformations between two 2-functors coincides with the lax end
›
x D(Fx, Gx). It comes as no surprise, then, that the following characterization of
homotopy coherent natural transformations between two simplicial functors hold:
Deﬁnition 7.43 [Coherent natural transformations]: Let F, G: C →D be
two simplicial functors; then the simplicial set of coherent transformations between
F and G is deﬁned to be
Coh(F, G) :=
˛
a
D(Fa, Ga).
(197)
Deﬁnition 7.44 [Mean tensor and cotensor]: Let F : A →B, G: A →sSet,
H : Aop →sSet. We deﬁne G ⋔F, H ⊗F respectively as
G ⋔F :=
˛
a
Ga ⋔Fa
H ⊗F :=
˛ a
Ha ⊗Fa.
(198)
Deﬁnition 7.45 [Standard resolutions]: Let F : A →B be a simplicial functor;
we deﬁne
Fa := A(a,
) ⋔F =
˛
x
A(a, x) ⋔Fx
Fa := A(
, a) ⊗F =
˛ x
A(x, a) ⊗Fx.
Example 7.46 : We specialize the above deﬁnition to compute the functors hom(a,
)
and hom(a,
): in particular we concentrate on the second case, since the ﬁrst is
completely dual. Calculemus:
hom(a, b) =
˛ a
A(a, x) × A(x, b)
∼=
ˆ xy
δA(x, y) × A(a, x) × A(y, b)
∼=
ˆ xy
A(a, x) × δA(x, y) × A(y, b)
∼=
ˆ xyn
a
x0,...,xn
A(a, x) × A(x, x0) × · · · × A(xn, y) × A(y, b) × ∆[n]
∼=
ˆ xyn
A[a|˜xn|b] × ∆[n] ∼= δA(a, b).
We leave as an easy exercise in co/end-fu the proof of the following result
(see Exercise E6), which shows that the standard resolutions (
), (
) ‘absorb the
coherence informations’:
Proposition 7.47 : Let F, G: C →D be two simplicial functors; then there are
canonical isomorphisms
Nat(F, G) ∼= Coh(F, G) ∼= Nat(F, G).
(199)

ENDS
77
This result has a number of pleasant consequences: the simplicially coherent
setting is powerful enough to retrieve several classical constructions.
• Example 7.46 above shows that hom(a,
)(b) ∼= δA(a, b); this entails that
there is an isomorphism
Nat(δA(a,
), A(a,
)) ∼= Coh(A(a,
), A(a,
))
(200)
and it is a matter of verifying some additional nonsense to see that the
sSet-natural transformation corresponding to the identity coherent trans-
formation is precisely d0.
• The map d0 deﬁnes additional universal maps ηF , ηF which “resolve” a
functor F : A →B whenever F, F exist (it is suﬃcient that B admits all
the relevant co/limits to perform the construction of F, F). From the chain
of isomorphisms
ηF : Fb =
˛
a
A(b, a) ⋔Fa
∼=
ˆ
a′,a′′ δA(a′, a′′) ⋔A(b, a′′) ⋔Fa′
←
ˆ
a′,a′′ A(a′, a′′) ⋔A(b, a′′) ⋔Fa′
(2.1) ∼= Fb;
ηF : Fb =
˛ a
Fa ⊗A(a, b)
∼=
ˆ a′,a′′
Fa′ ⊗A(a′′, b)δA(a′, a′′)
→
ˆ a′,a′′
Fa′ ⊗A(a′′, b)A(a′, a′′)
∼= Fb;
we obtain natural transformations corresponding to suitable coherent iden-
tities under the isomorphism of Prop. 7.47.
• The maps ηF , ηF behave like resolutions: [CP97, Prop. 3.4] shows that they
are level-wise homotopy equivalences (meaning that ηF : Fa →Fa induces
homotopy equivalences of simplicial sets B(b, Fa)
(ηF )∗
−−−→B(b, Fa) for each
b, naturally in b).23
7.3.2. Simplicially coherent Kan extensions.
The universal property charac-
terizing a Kan extension is inherently 2-dimensional: uniqueness is stated at the
level of 2-cells, and any sensible generalization of it to the higher world involves
a “space” of 2-cells between 1-cells. This entails that any reasonable deﬁnition of
a (left or right) Kan extension ultimately relies on a nice deﬁnition for a space of
coherent natural transformations between functors, which has been the subject of
23We decide to skip the proof of this proposition, as it is quite long, technical, and even though
it relies on co/end-fu it doesn’t add much to the present discussion.

78
FOSCO LOREGIAN
the previous subsection. There are, nevertheless, several subtleties as there are
many choices available for a deﬁnition: in the words of [CP97],
Clearly one can replace Nat by Coh [in the deﬁnition of a Kan exten-
sion], but should isomorphism be replaced by homotopy equivalence,
should this be natural, in which direction should this go. . . ?
As it turns out from [CP97], the right way to preserve a reasonably vast calculus
for Kan extensions is to ask that the isomorphisms
Nat(H, hoRanG K) ∼= Coh(HG, K)
Nat(hoLanG H, K) ∼= Coh(H, KG)
hold. This can be achieved deﬁning the left and right Kan extensions as follows:
Deﬁnition 7.48 [Coherent Kan extensions]: Let F : A →C and G: A →B be
a span of simplicial functors; we deﬁne
hoRanG F(
) =
˛
a
B(
, Ga) ⋔Fa
hoLanG F(
) =
˛ a
B(Ga,
) ⊗Fa
Remark 7.49 : This can be seen as a simplicially coherent analogue of our 7.25; it
is not a coincidence that lax and simplicially coherent co/end calculi mimick each
other: 2-co/ends correspond to suitable “truncated” simplicially coherent co/ends
(and this correspondence can be made functorial).
In the same spirit of [Boz80], a co/endy view on categorical homotopy theory
sheds a light on several geometric constructions (see [CP97] for more informations
and links with [CP90, Seg74]).
We would like to prove, now, that the isomorphisms deﬁning a Kan extension
hold with the deﬁnitions above. This is a computation in co/end-fu, which at this
point can be left as an exercise for the reader.
7.3.3. Co/ends in a derivator.
The theory of derivators serves as a purely
2-categorical model for higher category theory, where all the coherence informations
are encoded in coherence conditions for suitable diagrams of 2-cells. Here we only
sketch some of the basic deﬁnitions needed to pave the way to Def. 7.51 below.
Deﬁnition 7.50 [The 2-category of prederivators]: A prederivator is a strict
2-functor D: Catop →CAT (where CAT is the category of
Ω
+-categories, see the
two-universe convention in the introduction); a morphism of prederivators is a
pseudonatural transformation between pseudofunctors, η: D ⇒D′; a 2-cell between
morphisms of prederivators is a modiﬁcation (see Def. 7.4) Θ: η ⇛η′ between
pseudonatural transformations.
These data form the 2-category of prederivators.
The notion of a derivator arises as a reﬁnement of this; apart from some minor
(milder, but not less important) assumptions, a derivator is a prederivator D such

ENDS
79
that every D(u): D(J) →D(I), induced by u: I →J has both a left and a right
adjoint, ﬁtting into a triple
u! ⊣u∗⊣u∗: D(J)
u∗
/ D(I)
u∗
o
u!
o
(201)
(see [Gro13, Def. 1.10]). These functors are called respectively the homotopy left
and right Kan extensions along u: I →J. Axiom (Der4) in [Gro13, Def. 1.10] states
that these Kan extensions can always be computed with a pointwise formula; this
can be interpreted as a rephrasing of the theory exposed in our 2.1, in view of the
equivalence between all the following characterizations of LanG F(b)/RanG F(b):
• the (right or left) Kan extension of F : A →C along G: A →B computed
in b;
• the weighted co/limit of F with respect to the representable hom(G, b);
• the conical co/limit of F over the category of elements of hom(G, b);
• the conical colimit of the diagram (G ↓b) →A
F−→B.
Let Tw(K) be the category of elements (Def. 4.1) of homK, for a small category
K; then there exists a functor ΣK = (t, s): Tw(K) →Kop × K (Prop. 4.4).
Deﬁnition 7.51 [Homotopy coend in a derivator]: Let D be a derivator, and
K ∈Cat a category. The homotopy coend
´ K : D(J × Kop × K) →D(J) is deﬁned
as the composition
´ K : D(J × Kop × K)
Σ∗
K
−−→D(J × Tw(K))
p!
−→D(J)
(202)
Remark 7.52 : Let D(J|
): Catop →CAT be the shifted derivator of D, i.e. the
functor I
×J
7−→I × J
D(
)
7→D(I × J). Then the coend
´ K is a morphism between
the shifted derivators D(Kop × K|
) →D(
).
Remark 7.53 : There is obviously a similar notion of homotopy end in D: one only
has to replace p! with the right adjoint p∗in the deﬁnition above (taking the limit
over the twisted arrow category, instead of the colimit):
´
K : D(J × Kop × K)
Σ∗
K
−−→D(J × Tw(K))
p∗
−→D(J)
(203)
Lemma 7.54 : If F : D →D′ is a morphism of derivators, there is a canonical
“comparison” morphism
´ K ◦F →F ◦
´ K
(204)
obtained as the composition

80
FOSCO LOREGIAN
D(J × K × Kop)
D′(J)
pr!◦FJ×L×Tw(K)◦(t,s)∗
pr!◦(t,s)∗◦FJ×L×Kop×K
FJ×L◦pr!◦(t,s)∗
≀
where the second morphism results as the bc pasting
p!FJ
p!FJη(p!⊣p∗)
========⇒p!FJp∗p!
p!ϕJp!
====⇒p!p∗Fep!
ϵ(p!⊣p∗)Fep!
=======⇒Fep!
(205)
represented in the following diagram of 2-cells:
D′(e)
D′(J)
D(J)
D′(e)
D(e)
D(J)
FJ
p!
p!
Fe
id
p∗
p∗
id
η(pr!⊣pr∗)
ϵ(pr!⊣pr∗)
It is almost a triviality that a derivator morphism F preserves homotopy coends
(i.e. the above 2-cell is invertible) if it preserves colimits, or more generally Kan
extensions.
E1 A lax colimit for a diagram F : J →K in a 2-category K is an object L with a lax cocone
{Fj →L} satisfying a suitable universal property (state it, mimicking –the dual of– Def.
7.2). Show that the opposite of the twisted arrow category tw(C) of Def. 1.12 is the lax
colimit of the diagram C →Cat: c 7→C/c sending every object to its slice category.
E2 State the deﬁnition of lax cowedge S
..
−→d for a 2-functor S : Aop × A →B; state the
deﬁnition of lax coend for S as an initial cowedge, the representing object of the functor
d 7→LCwd(S, d).
E3 Show that Ist(f, g) share the universal property of the Cat-limit of the diagram {0 ⇒
1} →C choosing f, g weighted by the Cat-presheaf {0 ⇒1} →Cat choosing the
categories {0}
d0
⇒
d1
{0 < 1}.
E4 Deﬁne co/faces and co/degeneracies for the objects Y(T) and W(T) (hint: there is an
isomorphism τ : T(x0, xn)ΠA[⃗x] ∼
=

T(x0, xn)A(x0,x1)A[x1|⃗y|xn]n−1
, and you want to
assemble a map Y(T)n−1 →Y(T)n from its components ΠA[⃗x] ⋔T(x1, xn) →Y(T)n;
this deﬁnes d0. The map dn is deﬁned via an isomorphism σ and a similar argument).
E5 Prove the Fubini theorem for simplicially coherent co/ends: given a functor T : Aop ×
A × Bop × B →C, then
˛ a ˛ b
T(a, a, b, b)

∼
=
˛ (a,b)∈A×B
T(a, b, a, b) ∼
=
˛ b ˛ a
T(a, a, b, b)

(206)
(it is a simple theorem about the relation between δ(A × B) and δA × δB!).
E6 Prove that Nat(F, G) ∼
= Coh(F, G) ∼
= Nat(F, G), using Def. 7.38 and a formal argument.
Exercises for §7

ENDS
81
E7 Prove that the isomorphisms
Nat(H, hoRanG K) ∼
= Coh(HG, K)
Nat(hoLanG H, K) ∼
= Coh(H, KG)
hold deﬁning coherent Kan extensions as in 7.48.
E8 Prove that the standard resolutions “absorb coherence” in coherent Kan extensions,
showing that
RanG F ∼
= hoRanG F
LanG F ∼
= hoLanG F.
(207)
(a preliminary lemma: prove that F(
) ∼
=
´
a FaδA(
,a)).
E9 Deduce from the previous exercise that there is an isomorphism
hoRanH F . . .
(208)
for a cospan of functors bC
H
←−A
F
−→bB.
E10 Prove that
´ K : D(Kop × K|−) →D deﬁnes a morphism of derivators (you can either
prove that a functor u: K →L induces a morphism between the shifted derivators
D(L|−) →D(J|−), or prefer an explicit argument –both ways are considerably long).
E11 Prove that “coends in a derivator are pointwise”, i.e. that given an arrow j : e →J there
is a canonical isomorphism j∗  ´ K X ∼
=
´ K j∗X for each X ∈D(J × Kop × K).
E12 State and prove the Fubini theorem for homotopy coends in D: the diagram
D(J × Koo × Loo)
D(J × Tw(K) × Loo)
D(J × Koo × Tw(L))
D(J × Loo)
D(J × Koo)
D(J × Tw(L))
D(J × Tw(K))
D(J)
Σ∗
K
prK
!
Σ∗
L
prL
!
Σ∗
L
prL
!
Σ∗
K
prK
!
ΣK×L
α
β
commutes for canonically determined 2-cells α and β.
E13 State and prove an existence theorem for weighted colimits in a derivator: given a
bimorphism ⊞: (DSets, D) →D(I|−), we deﬁne the colimit of X ∈D(J), weighted by
W ∈DSets as the coend (in D)
´ J W ⊞X, i.e. as the image of the pair (W, X) under
the composition
DSets(Jop) × D(J)
·−
→D(I|Jop × J)
´ J
−−→D(I).
(209)
References
[Ada78]
John Frank Adams, Inﬁnite loop spaces, volume 90 of annals of mathematics studies,
Princeton University Press, Princeton, NJ 129 (1978), 247.
[Béner]
Jean Bénabou, Distributors at work, 2000. Lecture notes written by Thomas Streicher.
[Ber07]
Julia Bergner, A model category structure on the category of simplicial categories,
Transactions of the American Mathematical Society 359 (2007), no. 5, 2043–2058.
[Bor94a]
Francis Borceux, Handbook of categorical algebra. 1, Encyclopedia of Mathematics and
its Applications, vol. 50, Cambridge University Press, Cambridge, 1994, Basic category
theory.
[Bor94b]
, Handbook of categorical algebra. 2, Encyclopedia of Mathematics and its
Applications, vol. 51, Cambridge University Press, Cambridge, 1994, Categories and
structures.
[Boz75]
Syméon Bozapalides, Les ﬁns cartésiennes, C.R. Acad. Sci. Paris A 281 (1975), 597–600.

82
FOSCO LOREGIAN
[Boz77]
, Les ﬁns cartésiennes généralisées, Archivum Mathematicum 13 (1977), no. 2,
75–87.
[Boz80]
, Some remarks on lax-presheaves, Illinois Journal of Mathematics 24 (1980),
no. 4, 676–680.
[BZFN10] D. Ben-Zvi, J. Francis, and D. Nadler, Integral transforms and Drinfel’d centers in
derived algebraic geometry, J. Amer. Math. Soc. 23 (2010), no. 4, 909–966.
[Cam]
Tim Campion, Is stokes’ theorem natural in the sense of category theory?, Mathematics
Stack Exchange, URL:https://math.stackexchange.com/q/1229249 (version: 2015-04-
10).
[Car]
David Carchedi, Topos theory course.
[CG13]
Alexander S Corner and Nick Gurski, Operads with general groups of equivariance, and
some 2-categorical aspects of operads in cat, arXiv preprint arXiv:1312.5910 (2013).
[CKS03]
JRB Cockett, J Koslowski, and RAG Seely, Morphisms and modules for poly-bicategories,
Theory and Applications of Categories 11 (2003), no. 2, 15–74.
[CP90]
J.-M. Cordier and T. Porter, Fibrant diagrams, rectiﬁcations and a construction of
Loday, J. Pure Appl. Algebra 67 (1990), no. 2, 111–124.
[CP97]
Jean-Marc Cordier and Timothy Porter, Homotopy coherent category theory, Transac-
tions of the American Mathematical Society 349 (1997), no. 1, 1–54.
[CP08]
J.M. Cordier and T. Porter, Shape theory: Categorical methods of approximation, Dover
books on mathematics, Dover Publications, 2008.
[Day77]
B. J. Day, Note on compact closed categories, J. Austral. Math. Soc. Ser. A 24 (1977),
no. 3, 309–311.
[DF78]
W. Dwyer and E. Dror Farjoun, Homotopy coends, Online preprint: http://www.ma.
huji.ac.il/~landau/preprint98/preprint3.ps (1997/8).
[DM96]
G. De Marco, Analisi 1. primo corso di analisi matematica. teoria ed esercizi, Collana
di matematica. Testi e manuali, Zanichelli, 1996.
[Dol58]
Albrecht Dold, Homology of symmetric products and other functors of complexes,
Annals of Mathematics (1958), 54–80.
[Dub70]
Eduardo J. Dubuc, Kan extensions in enriched category theory, Lecture Notes in
Mathematics, Vol. 145, Springer-Verlag, Berlin-New York, 1970.
[EK66]
Samuel Eilenberg and G.M. Kelly, A generalization of the functorial calculus, J. Algebra
3 (1966), 366–375.
[Elm83]
A. D. Elmendorf, Systems of ﬁxed point sets, Trans. Amer. Math. Soc. 277 (1983), no. 1,
275–284.
[EM45]
Samuel Eilenberg and Saunders MacLane, General theory of natural equivalences, Trans.
Amer. Math. Soc. 58 (1945), 231–294.
[EP08]
Philip John Ehlers and Timothy Porter, Ordinal subdivision and special pasting in
quasicategories, Advances in Mathematics 217 (2008), no. 2, 489–518.
[Gam10]
Nicola Gambino, Weighted limits in simplicial homotopy theory, J. Pure Appl. Algebra
214 (2010), no. 7, 1193–1199.
[Gen15]
F. Genovese, Quasi-functors as lifts of fourier-mukai functors: the uniqueness problem,
Ph.D. thesis, Università degli studi di Pavia, 2015.
[GHN15]
David Gepner, Rune Haugseng, and Thomas Nikolaus, Lax colimits and free ﬁbrations
in ∞-categories, arXiv preprint arXiv:1501.02161 (2015).
[GJ09]
P.G. Goerss and J.F. Jardine, Simplicial homotopy theory, Modern Birkhäuser Classics,
Birkhäuser Verlag, Basel, 2009, Reprint of the 1999 edition.
[GL]
F. Genovese and F. Loregian, Co/end calculus for ∞-categories, In preparation.
[GPS95]
R. Gordon, A. J. Power, and Ross Street, Coherence for tricategories, Mem. Amer.
Math. Soc. 117 (1995), no. 558, vi+81.
[Gra]
John W. Gray, Closed categories, lax limits and homotopy limits, 127–158.
[Gra74]
, Formal category theory: adjointness for 2-categories, Springer-Verlag, Berlin,
1974, Lecture Notes in Mathematics, Vol. 391.
[Gra80]
, Closed categories, lax limits and homotopy limits, J. Pure Appl. Algebra 19
(1980), 127–158.

ENDS
83
[Gro13]
M. Groth, Derivators, pointed derivators and stable derivators, Algebraic & Geometric
Topology 13 (2013), no. 1, 313–374.
[Gui80]
René Guitart, Relations et carrés exacts, Ann. Sci. Math. Québec 4 (1980), no. 2,
103–125. MR 599050
[GV72]
A. Grothendieck and J. Verdier, Théorie des topos (sga 4, exposés i-vi), Springer
Lecture Notes in Mathematics 269 (1972), 270.
[GZ67]
Peter Gabriel and Michel Zisman, Calculus of fractions and homotopy theory, Ergebnisse
der Mathematik und ihrer Grenzgebiete, Band 35, Springer-Verlag New York, Inc., New
York, 1967.
[Hof11]
Alexander E Hoﬀnung, Spans in 2-categories: A monoidal tricategory, arXiv preprint
arXiv:1112.0560 (2011).
[Hov99]
M. Hovey, Model categories, Mathematical Surveys and Monographs, vol. 63, American
Mathematical Society, Providence, RI, 1999.
[Isa09]
Samuel B. Isaacson, A note on unenriched homotopy coends, Online preprint: http:
//www-home.math.uwo.ca/~sisaacso/PDFs/coends.pdf (2009).
[Joy02a]
A. Joyal, Quasi-categories and Kan complexes, J. Pure Appl. Algebra 175 (2002),
no. 1-3, 207–222, Special volume celebrating the 70th birthday of Professor Max Kelly.
[Joy02b]
André Joyal, Quasi-categories and Kan complexes, Journal of Pure and Applied Algebra
175 (2002), no. 1, 207–222.
[Joy08]
A. Joyal, The theory of quasi-categories and its applications, Citeseer, 2008.
[JT07]
André Joyal and Myles Tierney, Quasi-categories vs Segal spaces, Categories in algebra,
geometry and mathematical physics, Contemp. Math., vol. 431, Amer. Math. Soc.,
Providence, RI, 2007, pp. 277–326.
[Kel80]
G. Max Kelly, A uniﬁed treatment of transﬁnite constructions for free algebras, free
monoids, colimits, associated sheaves, and so on, Bulletin of the Australian Mathemati-
cal Society 22 (1980), no. 01, 1–83.
[Kel82]
, Basic concepts of enriched category theory, no. 64, CUP Archive, 1982.
[Kel89]
, Elementary observations on 2-categorical limits, Bulletin of the Australian
Mathematical Society 39 (1989), 301–317.
[Kel05]
, On the operads of J. P. May, Repr. Theory Appl. Categ. (2005), no. 13, 1–13.
[KS74]
Gregory M. Kelly and R. Street, Review of the elements of 2-categories, Category
seminar, Springer, 1974, pp. 75–103.
[Law73]
Bill Lawvere, Metric spaces, generalised logic, and closed categories, Rendiconti del
Seminario Matematico e Fisico di Milano, vol. 43, Tipograﬁa Fusi, Pavia, 1973.
[LB15]
David Li-Bland, The stack of higher internal categories and stacks of iterated spans,
arXiv preprint arXiv:1506.08870 (2015).
[Lei]
T. Leinster, A Perspective on Higher Category Theory, webpage: https://golem.ph.
utexas.edu/category/2010/03/a_perspective_on_higher_catego.html.
[Low13]
Zhen Lin Low, Universes for category theory, arXiv preprint arXiv:1304.5227 (2013).
[Lur09]
J. Lurie, Higher Topos Theory, Annals of Mathematics Studies, vol. 170, Princeton
University Press, Princeton, NJ, 2009.
[LV12]
Jean-Louis Loday and Bruno Vallette, Algebraic operads, Grundlehren der Mathema-
tischen Wissenschaften [Fundamental Principles of Mathematical Sciences], vol. 346,
Springer, Heidelberg, 2012.
[May72]
J.P. May, The geometry of iterated loop spaces, Springer-Verlag, Berlin-New York, 1972,
Lectures Notes in Mathematics, Vol. 271.
[May97]
J. P. May, Operads, algebras and modules, Operads: Proceedings of Renaissance
Conferences (Hartford, CT/Luminy, 1995), Contemp. Math., vol. 202, Amer. Math.
Soc., Providence, RI, 1997, pp. 15–31.
[ML70]
S. Mac Lane, The Milgram bar construction as a tensor product of functors, The
Steenrod Algebra and its Applications (Proc. Conf. to Celebrate N. E. Steenrod’s
Sixtieth Birthday, Battelle Memorial Inst., Columbus, Ohio,1970), Lecture Notes in
Mathematics, Vol. 168, Springer, Berlin, 1970, pp. 135–152.

84
FOSCO LOREGIAN
[ML98]
, Categories for the working mathematician, second ed., Graduate Texts in
Mathematics, vol. 5, Springer-Verlag, New York, 1998.
[MLM92]
S. Mac Lane and I. Moerdijk, Sheaves in geometry and logic: A ﬁrst introduction to
topos theory, Springer, 1992.
[Moe95]
I. Moerdijk, Classifying spaces and classifying topoi, Lecture Notes in Mathematics,
vol. 1616, Springer-Verlag, Berlin, 1995.
[MSS02]
M. Markl, S. Shnider, and J. Stasheﬀ, Operads in algebra, topology and physics,
Mathematical Surveys and Monographs, vol. 96, American Mathematical Society,
Providence, RI, 2002.
[Rie14]
E. Riehl, Categorical homotopy theory, New Mathematical Monographs, vol. 24, Cam-
bridge University Press, Cambridge, 2014.
[RV14]
E. Riehl and D. Verity, The theory and practice of Reedy categories, Theory Appl.
Categ. 29 (2014), 256–301.
[Sch13]
U. Schreiber, Diﬀerential cohomology in a cohesive ∞-topos, ArXiv:1310.7930 (2013).
[Seg74]
Graeme Segal, Categories and cohomology theories, Topology 13 (1974), 293–312.
[Shu06]
Michael Shulman, Homotopy limits and colimits and enriched homotopy theory, arXiv
preprint arXiv:math/0610194 (2006).
[Str76]
Ross Street, Limits indexed by category-valued 2-functors, Journal of Pure and Applied
Algebra 8 (1976), no. 2, 149 – 181.
[Str11]
Jeﬀrey Strom, Modern classical homotopy theory, vol. 127, American Mathematical
Society Providence, RI, USA, 2011.
[Tri]
T. Trimble, Towards a doctrine of operads. nLab page.
[TV05]
B. Toën and G. Vezzosi, Homotopical algebraic geometry i: Topos theory, Advances in
mathematics 193 (2005), no. 2, 257–372.
[Uni13]
The Univalent Foundations Program, Homotopy type theory: Univalent foundations
of mathematics, http://homotopytypetheory.org/book, Institute for Advanced Study,
2013.
[Vit06]
Claudia Centazzo; Enrico M. Vitale, A classiﬁcation of geometric morphisms and
localizations for presheaf categories and algebraic categories, Journal of Algebra 303
(2006).
[Wei94]
Charles A. Weibel, An introduction to homological algebra, Cambridge Studies in
Advanced Mathematics, vol. 38, Cambridge University Press, Cambridge, 1994.
[Yon60]
Nobuo Yoneda, On Ext and exact sequences, J. Fac. Sci. Univ. Tokyo Sect. I 8 (1960),
507–576 (1960).
Department of Mathematics and Statistics
Masaryk University, Faculty of Sciences
Kotlářská 2, 611 37 Brno, Czech Republic
loregianf@math.muni.cz fosco.loregian@gmail.com

